!function(e){function t(t){for(var s,o,n=t[0],l=t[1],h=t[2],d=0,u=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(c&&c(t);u.length;)u.shift()();return a.push.apply(a,h||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,n=1;n<i.length;n++){var l=i[n];0!==r[l]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=i[0]))}return e}var s={},r={1:0},a=[];function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var n=(self||this).webpackJsonp=(self||this).webpackJsonp||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var h=0;h<n.length;h++)t(n[h]);var c=l;a.push([355,0]),i()}([,function(e,t,i){"use strict";i(4);var s=i(184),r=i(106);function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}try{}catch(e){}t.a=new class GameConfig{constructor(){a(this,"fps",60),a(this,"resolution",1),a(this,"smoothDelta",.2),a(this,"culling",!1),a(this,"vertp","highp"),a(this,"fragp","lowp"),a(this,"maxRenderScale",1.5),a(this,"quality","default"),a(this,"canvasSaturation",1.24),a(this,"grindParticles",!0),a(this,"baseAnimSpeed",.02),a(this,"physicsStepsPerSpeed",1),a(this,"physicsExtraSteps",1),a(this,"physicsMaxSteps",60),a(this,"debug",!1),a(this,"stats",!1),a(this,"models",!0),a(this,"environment",!0),a(this,"blocks",!1),a(this,"chunkMarks",!1),a(this,"route",""),a(this,"chunk",""),a(this,"timeScale",1),a(this,"forceTube",!1),a(this,"forcePillars",!1),a(this,"tutorial",!1),a(this,"loadDelay",0),a(this,"god",!1),a(this,"freejump",!1),a(this,"forcePickup",""),a(this,"modCoins",0),a(this,"gdAwardKeys",0),a(this,"reset",!1),a(this,"gdFreeMysteryBox",!1),a(this,"missionSet",-1),a(this,"missionProgress",[]),a(this,"dayModifier",0),a(this,"laneWidth",20),a(this,"blockSize",90),a(this,"visibleMaxDistance",1e3),a(this,"visibleMinDistance",-500),a(this,"fog",!0),a(this,"bend",!0),a(this,"bendX",-5e-4),a(this,"bendY",-3e-4),a(this,"fillers",!0),a(this,"ground",!0),a(this,"prepopulate",!1),a(this,"speed",0),a(this,"gravity",.055),a(this,"freeRevivals",1),a(this,"dizzyDuration",3),a(this,"cameraFov",68),a(this,"cameraPosX",0),a(this,"cameraPosY",33.8),a(this,"cameraPosZ",33),a(this,"cameraModX",.75),a(this,"cameraRotX",-.375),a(this,"cameraRotY",0),a(this,"cameraRotZ",0),a(this,"mobile",!1),a(this,"bundlesPath","./bundles/"),a(this,"theme","oxford"),a(this,"backgroundUpperGradient","#34086A"),a(this,"backgroundLowerGradient","#02B4EB"),a(this,"trainLightColor","#FFA900"),a(this,"trainLights",1),a(this,"trainXOffset",5.6),a(this,"trainZOffset",28),a(this,"trainYOffset",1.6),a(this,"subLightColor","#FFA900"),a(this,"subLights",1),a(this,"subXOffset",5.2),a(this,"subZOffset",28),a(this,"subYOffset",-4.4),a(this,"trainLightTexture","trains-tex"),a(this,"trainLightModelName","train_light"),a(this,"trainSideLightModelName",void 0),a(this,"trainLightScale",.8),a(this,"iOSUIOffsetY",r.a.isIOS()?60:0),a(this,"volume",.25),a(this,"useDefaultPrompt",!1),a(this,"maxNicknameChars",15),a(this,"assetsPath","assets/"),a(this,"language","en"),a(this,"leaderboard","mockup"),a(this,"extra",""),a(this,"loadMode","progressive-discrete"),a(this,"cacheBust",!0),a(this,"loadingMbs",!0),a(this,"useWebWorkers",!1),a(this,"loadExtraAttempts",5),a(this,"tokens",!1),this.mobile=!s.a.desktop,this.override(window.GAME_CONFIG),this.override(r.a.getUrlParams())}override(e){const t=window.PokiSDK;if(e)for(const i in this)false&&t.getURLParam(i)&&(this[i]=t.getURLParam(i)),void 0!==e[i]&&(this[i]=e[i])}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return $i}));i(11),i(4);var s=i(583),r=i(554),a=i(349),o=i(578),n=i(579),l=i(581),h=i(149),c=i(553),d=i(0),u=i(107),p=i(27),m=i(184);function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class CookieStorage{constructor(e,t){void 0===t&&(t=30),b(this,"cookieName","cookiestorage"),b(this,"cookieExpireDays",30),this.cookieName=e,this.cookieExpireDays=t}get length(){return this.getKeys().length}getKeys(){return this.load()._keys||[]}clear(){this.save({})}getItem(e){const t=this.load()[e];return"string"==typeof t?t:null}setItem(e,t){const i=this.load();i[e]=t;const s=i._keys||[];s.indexOf(e)<0&&s.push(e),i._keys=s,this.save(i)}removeItem(e){const t=this.load(),i=t._keys||[],s=i.indexOf(e);s>=0&&i.splice(s,1),delete t[e],t._keys=i,this.save(t)}key(e){return this.getKeys()[e]||null}save(e){try{const t=JSON.stringify(e);this.setCookie(this.cookieName,t,this.cookieExpireDays)}catch(e){}}load(){const e=this.getCookie(this.cookieName);let t={};try{t=JSON.parse(e)}catch(e){}return t}setCookie(e,t,i){void 0===i&&(i=30);const s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3);const r="expires="+s.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}getCookie(e){const t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){let s=i[e];for(;" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}}function f(e,t){const i={},s={};for(const t in e)s[t]=1;for(const e in t)s[e]=1;for(const r in s){const s=e[r],a=t[r];if(s===a)continue;const o=typeof s,n=typeof a,l=null!==o&&"object"===o,h=null!==n&&"object"===n;Array.isArray(s)&&Array.isArray(a)?i[r]={a:a.filter(e=>!s.includes(e)),b:s.filter(e=>!a.includes(e))}:i[r]=l&&h?f(s,a):{a:s,b:a}}return i}function g(e,t,i){void 0===t&&(t=""),void 0===i&&(i={});for(const s in e){const r=e[s],a=t?t+"."+s:s,o=null!==r&&"object"==typeof r;Array.isArray(r)||!o?i[a]=r:g(r,a,i)}return i}function v(e){return 0===Object.keys(e).length}function y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function w(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardStore_AwardStore extends class Store_Store{constructor(e){if(y(this,"saved",{}),y(this,"onChange",new p.Signal),y(this,"storage",void 0),y(this,"key",void 0),this.key=e,"Store"===this.constructor.name)throw new Error("This class is made to be extended, should work only as subclass.");m.a.isLocalStorageAllowed?this.storage=window.localStorage:m.a.isSessionStorageAllowed?this.storage=window.sessionStorage:this.storage=new CookieStorage(this.key,30),Object.defineProperty(this,"key",{enumerable:!1}),Object.defineProperty(this,"onChange",{enumerable:!1}),Object.defineProperty(this,"saved",{enumerable:!1}),Object.defineProperty(this,"storage",{enumerable:!1})}save(){if(!this.key)throw new Error("[Store] Save failed: invalid key");const e=this.getData();if(v(f(this.saved,e)))return;const t=JSON.stringify(e);this.storage.setItem(this.key,t),this.saved=e,this.onChange.dispatch()}load(){if(!this.key)throw new Error("[Store] Load failed: invalid key");const e=this.storage.getItem(this.key);let t={};try{t=e?JSON.parse(e):{}}catch(e){}const i=Object.keys(this);for(const e in t)i.indexOf(e)<0&&delete t[e];Object.assign(this,t),this.saved=t}getData(){return JSON.parse(JSON.stringify(this))}}{constructor(){super("Awards"),w(this,"progress",{})}getProgress(e){return this.progress[e]||(this.progress[e]={tier:0,value:0}),this.progress[e]}}var _=i(30),x=i(57);let S=function(e){return e[e.BRONZE=0]="BRONZE",e[e.SILVER=1]="SILVER",e[e.GOLD=2]="GOLD",e[e.DIAMOND=3]="DIAMOND",e[e.COMPLETED=4]="COMPLETED",e}({});const P=["bronze","silver","gold","diamond"];function C(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardHandler_AwardHandler{constructor(e,t){C(this,"id",void 0),C(this,"tiers",void 0),this.id=e;const i={goal:1/0,reward:0};this.tiers=[t.bronze,t.silver,t.gold,t.diamond,i]}setup(){}afterCollect(){}getCurrentGoal(){const e=this.getProgressData();return this.tiers[e.tier].goal}getCurrentReward(){const e=this.getProgressData();return this.tiers[e.tier].reward}getCurrentTier(){return this.getProgressData().tier}getProgressData(){return $i.awards.store.getProgress(this.id)}getProgressRatio(){if(this.allTiersCompleted())return 1;const e=this.getProgressData(),t=this.tiers[e.tier];return Math.min(e.value,t.goal)/t.goal}getProgressValue(){return this.getProgressData().value}setProgresValue(e){if(this.isReadyToCollect()||this.allTiersCompleted())return;const t=this.getProgressData(),i=this.tiers[t.tier];e=Math.min(e,i.goal),t.value!==e&&(t.value=e,$i.awards.store.save(),e&&this.isReadyToCollect()&&!this.allTiersCompleted()&&this.showNotification())}addProgresValue(e){this.setProgresValue(this.getProgressValue()+e)}isReadyToCollect(){return!this.allTiersCompleted()&&this.getProgressRatio()>=1}collect(){if(this.allTiersCompleted())return;$i.awards.awardPlayer(this.getCurrentReward());const e=this.getProgressData();e.value=0,e.tier+=1,$i.awards.store.save(),this.afterCollect()}allTiersCompleted(){return this.getProgressData().tier===S.COMPLETED}showNotification(){$i.notification.append({text:x.b.translate(this.id)+"\n"+x.b.translate("award-complete"),icon:"spraycan-big-"+P[this.getCurrentTier()]+".png"})}}class AwardCollectCoinsSingleRun_AwardCollectCoinsSingleRun extends AwardHandler_AwardHandler{setup(){$i.nav.onGameplayFinish.add(this.onGameplayFinish,this)}onGameplayFinish(){const e=this.getProgressData(),t=this.tiers[e.tier];$i.game.state===_.a.GAMEOVER&&$i.game.stats.coins===t.goal&&this.setProgresValue(t.goal)}}class AwardCompleteMissions_AwardCompleteMissions extends AwardHandler_AwardHandler{setup(){$i.game.missions.onCompleteMission.add(this.onCompleteMission,this)}onCompleteMission(){this.addProgresValue(1)}}function k(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardMissionsInOneRun_AwardMissionsInOneRun extends AwardHandler_AwardHandler{constructor(){super(...arguments),k(this,"accumulated",0)}setup(){$i.nav.onGameplayStart.add(this.onGameplayStart,this),$i.nav.onGameplayFinish.add(this.onGameplayFinish,this),$i.game.missions.onCompleteMission.add(this.onCompleteMission,this)}onCompleteMission(){this.accumulated+=1}onGameplayStart(){this.accumulated=0}onGameplayFinish(){this.accumulated>=this.getCurrentGoal()&&this.setProgresValue(this.accumulated),this.accumulated=0}}class AwardOpenMysteryBoxes_AwardOpenMysteryBoxes extends AwardHandler_AwardHandler{setup(){$i.prizeScreen.onOpenPrize.add(this.onOpenPrize,this)}onOpenPrize(e){"mystery-box"!==e&&"mini-mystery-box"!==e||this.addProgresValue(1)}}class AwardOwnBoards_AwardOwnBoards extends AwardHandler_AwardHandler{setup(){$i.user.shopSettings.onChange.add(()=>this.update()),this.update()}afterCollect(){this.update()}update(){const e=$i.user.shopSettings.purchased.boards.length-1;this.setProgresValue(e)}}class AwardOwnCharacters_AwardOwnCharacters extends AwardHandler_AwardHandler{setup(){$i.user.shopSettings.onChange.add(()=>this.update()),this.update()}afterCollect(){this.update()}update(){const e=$i.user.shopSettings.purchased.characters.length-1;this.setProgresValue(e)}}class AwardOwnOutfits_AwardOwnOutfits extends AwardHandler_AwardHandler{setup(){$i.user.shopSettings.onChange.add(()=>this.update()),this.update()}afterCollect(){this.update()}update(){const e=$i.user.shopSettings.purchased.outfits.length-1;this.setProgresValue(e)}}class AwardPickupPowerups_AwardPickupPowerups extends AwardHandler_AwardHandler{setup(){$i.game.onPickupPowerup.add(()=>this.update())}update(){this.addProgresValue(1)}}function O(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardScoreNoChangeLanes_AwardScoreNoChangeLanes extends AwardHandler_AwardHandler{constructor(){super(...arguments),O(this,"interval",void 0)}setup(){$i.nav.onGameplayStart.add(this.onGameplayStart,this),$i.nav.onGameplayFinish.add(this.onGameplayFinish,this),$i.game.hero.lane.onLaneChanged.add(this)}onGameplayStart(){$i.user.tutorial&&(clearInterval(this.interval),this.interval=setInterval(()=>this.update(),1e3))}onGameplayFinish(){clearInterval(this.interval)}update(){$i.game.stats.score>=this.getCurrentGoal()&&(this.setProgresValue(this.getCurrentGoal()),clearInterval(this.interval))}onLaneChanged(){clearInterval(this.interval)}}function T(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardScoreNoCoins_AwardScoreNoCoins extends AwardHandler_AwardHandler{constructor(){super(...arguments),T(this,"interval",void 0)}setup(){$i.nav.onGameplayStart.add(this.onGameplayStart,this),$i.nav.onGameplayFinish.add(this.onGameplayFinish,this)}onGameplayStart(){$i.user.tutorial&&(clearInterval(this.interval),this.interval=setInterval(()=>this.update(),1e3))}onGameplayFinish(){clearInterval(this.interval)}update(){$i.game.stats.coins?clearInterval(this.interval):$i.game.stats.score>=this.getCurrentGoal()&&this.setProgresValue(this.getCurrentGoal())}}function j(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardScoreNoJump_AwardScoreNoJump extends AwardHandler_AwardHandler{constructor(){super(...arguments),j(this,"interval",void 0)}setup(){$i.nav.onGameplayStart.add(this.onGameplayStart,this),$i.nav.onGameplayFinish.add(this.onGameplayFinish,this),$i.game.hero.jump.onJump.add(this),$i.game.hero.roll.onStart.add(this)}onGameplayStart(){$i.user.tutorial&&(clearInterval(this.interval),this.interval=setInterval(()=>this.update(),1e3))}onGameplayFinish(){clearInterval(this.interval)}update(){$i.game.stats.score>=this.getCurrentGoal()&&(this.setProgresValue(this.getCurrentGoal()),clearInterval(this.interval))}onJump(){clearInterval(this.interval)}onRollStart(){clearInterval(this.interval)}}function M(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardSuperSneakersMinutes_AwardSuperSneakersMinutes extends AwardHandler_AwardHandler{constructor(){super(...arguments),M(this,"interval",void 0),M(this,"accumulated",0)}setup(){$i.nav.onGameplayStart.add(this.onGameplayStart,this),$i.nav.onGameplayFinish.add(this.onGameplayFinish,this)}onGameplayStart(){this.accumulated=0,clearInterval(this.interval),this.interval=setInterval(()=>this.update(),1e3)}onGameplayFinish(){this.accumulated=0,clearInterval(this.interval)}update(){$i.game.hero.sneakers.isOn()&&(this.accumulated+=1/60,this.accumulated>=this.getCurrentGoal()&&(this.setProgresValue(this.accumulated),this.accumulated=0))}}function N(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Awards_Awards{constructor(e){N(this,"app",void 0),N(this,"store",void 0),N(this,"handlers",void 0),N(this,"onUpdate",new p.Signal),N(this,"initialised",!1),this.app=e,this.store=new AwardStore_AwardStore}initialise(){if(this.initialised)return;this.initialised=!0,this.handlers=[],this.store.load();const e=this.app.resources.cache["awards.json"],t={"award-complete-missions":AwardCompleteMissions_AwardCompleteMissions,"award-collect-coins-single-run":AwardCollectCoinsSingleRun_AwardCollectCoinsSingleRun,"award-own-characters":AwardOwnCharacters_AwardOwnCharacters,"award-own-boards":AwardOwnBoards_AwardOwnBoards,"award-pickup-powerups":AwardPickupPowerups_AwardPickupPowerups,"award-own-outfits":AwardOwnOutfits_AwardOwnOutfits,"award-score-no-coins":AwardScoreNoCoins_AwardScoreNoCoins,"award-missions-in-one-run":AwardMissionsInOneRun_AwardMissionsInOneRun,"award-super-sneakers-minutes":AwardSuperSneakersMinutes_AwardSuperSneakersMinutes,"award-open-mystery-boxes":AwardOpenMysteryBoxes_AwardOpenMysteryBoxes,"award-score-no-change-lanes":AwardScoreNoChangeLanes_AwardScoreNoChangeLanes,"award-score-no-jump":AwardScoreNoJump_AwardScoreNoJump};for(const i in t){const s=new t[i](i,e[i]);this.handlers.push(s),s.setup()}this.store.onChange.add(()=>this.onUpdate.dispatch())}hasPrizeToCollect(){for(const e of this.handlers)if(e.isReadyToCollect())return!0;return!1}awardPlayer(e){this.app.prizeScreen.open({prizes:[{amount:e,type:"keys",icon:"icon-key.png"}]}),setTimeout(()=>{this.app.user.gameSettings.currencies.keys+=e,this.app.user.gameSettings.save()},2e3)}}var E=i(1);function B(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(Object(i),!0).forEach((function(t){H(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function H(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const D=i(516);let R=!1;function L(e){return JSON.parse(JSON.stringify(e))}function I(e,t){if("object"==typeof e)for(const i in e)e[i].shortcut&&e[i].shortcut===t.shortcut?e[i]=L(t):I(e[i],t)}async function F(){if(R)return D;if(E.a.bundlesPath&&E.a.theme&&"1103-seoul"!==E.a.theme){const e=E.a.bundlesPath+"/"+E.a.theme;try{const t=await async function(e){const t=await fetch(e);return await t.json()}(e+"/manifest.json");!function e(t,i){if("object"==typeof t)for(const s in t){if("shortcut"===s)continue;const r=t[s];"string"==typeof r&&r.includes("/")?t[s]=i+"/"+r:"object"==typeof r&&e(r,i)}}(t,e),function e(t,i){for(const s in i)i[s].shortcut?I(t,i[s]):"object"==typeof i[s]&&e(t,i[s])}(D,t)}catch(e){}}return function(e){const t=e["assets/preload"].image["assets/preload/splash.png"].standard.default;e["assets/preload"].image["assets/preload/splash.png"].standard={low:t,default:t,high:t};const i=e["assets/preload"].image["assets/preload/splash.png"].webp.default;e["assets/preload"].image["assets/preload/splash.png"].webp={low:i,default:i,high:i};const s=e["assets/game-idle"].image["assets/game-idle/environment-tex.png"].webp.high;e["assets/game-idle"].image["assets/game-idle/environment-tex.png"].webp={low:s,default:s,high:s};const r=e["assets/game-idle"].image["assets/game-idle/train-start.png"].standard.default;e["assets/game-idle"].image["assets/game-idle/train-start.png"].standard={low:r,default:r,high:r};const a=e["assets/game-idle"].image["assets/game-idle/train-start.png"].webp.default;e["assets/game-idle"].image["assets/game-idle/train-start.png"].webp={low:a,default:a,high:a},e["assets/ui"].image.ui.standard={default:"assets/ui/ui.json",high:"assets/ui/ui.json",low:"assets/ui/ui.json"},e["assets/ui"].image.ui.webp={default:"assets/ui/ui.webp.json",high:"assets/ui/ui.webp.json",low:"assets/ui/ui.webp.json"}}(D),R=!0,E.a.cacheBust&&function e(t){if("object"==typeof t)for(const i in t){if("shortcut"===i)continue;const s=t[i];"string"==typeof s&&s.includes("assets/")&&!s.match(/ui(.*?)\.json/)?t[i]=s+"?h=gyd41a54lxuhzlc0":"object"==typeof s&&e(s)}}(D),D}function A(e){return z(z({},{image:{},fonts:{},audio:{},json:{},atlas:{},animate:{},misc:{},model:{}}),e)}var G=i(220),U=i(330),V=i(331),W=i(332),K=i(333);const J=W,X=G,Y=K,q=[];class AppData_AppData{constructor(){if(function(){function e(e){return{fbxIdle:"assets/characters-idle/"+e+"-idle.fbx",fbxBasic:"assets/characters-basic/"+e+"-game.fbx",tex0:"assets/characters-idle/"+e+"-tex.png",tex1:"assets/characters-idle/"+e+"-tex-1.png",tex2:"assets/characters-idle/"+e+"-tex-2.png"}}for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];for(const t of i){const i=e(t),s=D["assets/characters-idle"].model[i.fbxIdle],r=D["assets/characters-basic"].model[i.fbxBasic],a=D["assets/characters-idle"].image[i.tex0],o=D["assets/characters-idle"].image[i.tex1],n=D["assets/characters-idle"].image[i.tex2];D["assets/character-"+t+"-idle"]=A({image:{[i.tex0]:a,[i.tex1]:o,[i.tex2]:n},model:{[i.fbxIdle]:s}}),D["assets/character-"+t+"-basic"]=A({model:{[i.fbxBasic]:r}})}}(...this.getAvailableCharactersIds()),$i.user.character){this.isCharacterAvailable($i.user.character,$i.user.outfit)||($i.user.character="jake",$i.user.outfit=0)}this.prepareMissions()}getAvailableBoardsIds(){return G.filter(e=>e.available).map(e=>e.id)}getAvailableCharactersIds(){const e=[];for(const t of J)t.available&&e.push(t.id);return e}getCharData(e){for(const t of J)if(t.id===e)return t;return null}getBoardData(e){for(const t of X)if(t.id===e)return t;return null}isCharacterAvailable(e,t){void 0===t&&(t=0);for(const s of J){var i;if(s.id===e)return t<=0?!!s.available:!!s.available&&!(null===(i=s.outfits[t-1])||void 0===i||!i.available)}return!1}getAvailableCharacters(){return J.filter(e=>e.available)}getAvailableBoards(){return X.filter(e=>e.available)}prepareMissions(){for(let e=0;e<Y.length;e+=3)q.push(Y.slice(e,e+3));if(E.a.missionSet>=0){const e=this.getAvailableMissions(),t=Math.min(e.length-1,E.a.missionSet),i=e.slice(0,t).map(e=>e.map(e=>({id:e.id,progress:e.progress})));i.forEach((i,s)=>i.forEach((i,r)=>{i.progress=s!==t-1?e[s][r].params.amount:0})),$i.user.gameSettings.missions=i,$i.user.save()}const e=$i.user.gameSettings.missions;for(let t=0;t<q.length;t++)q[t].forEach(i=>{var s;const r=null===(s=e[t])||void 0===s?void 0:s.find(e=>e.id===i.id);i.progress=Math.min((null==r?void 0:r.progress)||0,i.params.amount),i.completed=i.progress===i.params.amount,i.set=t});if(E.a.missionProgress.length){$i.user.gameSettings.missions[this.getMissionSet()][0].progress=E.a.missionProgress[0]||0,$i.user.gameSettings.missions[this.getMissionSet()][1].progress=E.a.missionProgress[1]||0,$i.user.gameSettings.missions[this.getMissionSet()][2].progress=E.a.missionProgress[2]||0;for(let t=0;t<q.length;t++)q[t].forEach(i=>{var s;const r=null===(s=e[t])||void 0===s?void 0:s.find(e=>e.id===i.id);i.progress=Math.min((null==r?void 0:r.progress)||0,i.params.amount),i.completed=i.progress===i.params.amount,i.set=t});$i.user.save()}}getAvailableMissions(){return q}getCurrentMissions(){return q[this.getMissionSet()]}getMissionSet(){return Math.min(this.getMissionMultiplier(),q.length-1)}getMissionMultiplier(){let e=0;for(let t=0;t<q.length;t++){const i=q[t];if(!i[0].completed||!i[1].completed||!i[2].completed)break;e++}return e}getAvailableBoostsData(){return{permanents:V.filter(e=>e.available),consumables:U.filter(e=>e.available)}}}function Z(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Shop_Shop{constructor(){Z(this,"characters",[]),Z(this,"boards",[]),Z(this,"boosts",void 0),Z(this,"onPurchaseFunctions",void 0);const e=e=>{var t;const i=e,s=i.type;$i.user.shopSettings.purchased[s].push(i.id),i.purchased=!0,null===(t=i.outfits)||void 0===t||t.forEach(e=>{e.locked=!1})};this.onPurchaseFunctions={characters:e,outfits:e,boosts:e=>{const t=$i.user.shopSettings.purchased.boosts,i=e.subType;if(e.upgradeCounter++,"consumables"===i){const i=e;"mysteryBox"===i.id?($i.game.missions.addStat(1,"mission-buy-mystery"),$i.nav.toPrizeScreen()):t.consumables[i.id]++}else{var s;const i=e;i.cost=(null===(s=i.levels[e.upgradeCounter])||void 0===s?void 0:s.cost)||-1,t.permanents[i.id]++}},boards:e=>{var t;const i=$i.user.shopSettings.purchased.boards;e.purchased=!0,null===(t=e.powerups)||void 0===t||t.forEach(e=>{e.locked=!1});const s=e.boardId?e.boardId+"~"+e.id:e.id;i.push(s)}}}init(){this.setupCharacterData(),this.setupBoardData(),this.setupBoostData()}setupCharacterData(){const e=$i.data.getAvailableCharacters(),{characters:t,outfits:i}=$i.user.shopSettings.purchased;e.forEach(e=>{const s=this.extractCharacterData(e,"characters");s.outfits=[];const r=t.indexOf(s.id)>=0;s.purchased=r;for(let t=0;t<e.outfits.length;t++){const a=e.outfits[t],o=this.extractCharacterData(a,"outfits");if(!a.available)continue;o.locked=!r;const n=o;n.purchased=i.indexOf(n.id)>=0,s.outfits.push(n)}this.characters.push(s)})}setupBoardData(){const e=$i.data.getAvailableBoards(),t=$i.user.shopSettings.purchased.boards;e.forEach(e=>{const i=t.indexOf(e.id)>=0;e.purchased=i,e.type="boards";for(let s=0;s<e.powerups.length;s++){const r=e.powerups[s];r.available&&(r.locked=!i,r.boardId=e.id,r.purchased=t.indexOf(e.id+"~"+r.id)>=0,r.type="boards")}this.boards.push(e)})}extractCharacterData(e,t){let{id:i,cost:s,currency:r,purchased:a}=e;return{id:i,currency:r,cost:s,type:t,purchased:a}}setupBoostData(){const e=$i.data.getAvailableBoostsData(),t=e.permanents,i=e.consumables;this.boosts={consumables:i.map(e=>(e.upgradeCounter=$i.user.boosts.consumables[e.id],e.maxUpgrade=999,e.type="boosts",e.subType="consumables",e.description="mysteryBox"===e.id?"":e.id+"-description",e)),permanents:t.map(e=>{var t;const i=$i.user.boosts.permanents[e.id];return e.upgradeCounter=i,e.cost=(null===(t=e.levels[i])||void 0===t?void 0:t.cost)||-1,e.maxUpgrade=e.levels.length,e.type="boosts",e.subType="permanents",e.description=e.id+"-description",e})}}async purchase(e){const t=this.canBuy(e);if(t){var i,s;const t=e.type;$i.user[e.currency]-=e.cost,null===(i=(s=this.onPurchaseFunctions)[t])||void 0===i||i.call(s,e),$i.user.save()}return t}canBuy(e){let t=!0;if("boosts"===e.type){const i=e;t=i.upgradeCounter<i.maxUpgrade}return e.cost<=$i.user[e.currency]&&t}}var Q=i(222),$=i(71),ee=i(49),te=i(13),ie=i(7);function se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Thumb3D_Thumb3D extends d.Container{constructor(){super(),se(this,"sprite",void 0),se(this,"shadow",void 0),se(this,"thumbId",""),se(this,"_onSelect",void 0),this._onSelect=null,this.shadow=d.Sprite.from("shadow.png"),this.addChild(this.shadow),this.shadow.alpha=.3,this.sprite=new d.Sprite,this.addChild(this.sprite),this.on("pointertap",this.onTap.bind(this))}deselect(){ie.g.to(this.scale,.15,{x:.45,y:.45,overwrite:!0,ease:ie.c.easeInOut})}onTap(){this._onSelect&&this._onSelect(this)}get onSelect(){return this._onSelect}set onSelect(e){this._onSelect=e,this.interactive=!!e,this.buttonMode=!!e}}se(Thumb3D_Thumb3D,"scene",void 0);var re=i(20),ae=i(580),oe=i(14);function ne(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ThumbScene3D_ThumbScene3D extends ae.a{constructor(){super({renderer:$i.stage.renderer,culling:!1,clear:!0}),ne(this,"playing",void 0),ne(this,"animating",void 0),ne(this,"entitiesMap",void 0),ne(this,"textures",void 0),ne(this,"state",void 0),this.playing=!1,this.animating=[],this.entitiesMap=new Map,this.textures=new Map,this.state=new d.State,this.state.depthTest=!0,this.state.blend=!0}getTexture(){}renderStart(){this.onPrerender.run(this.time),this._onRenderEntities.run(this.time)}refresh(){this.entitiesMap.size||($i.stage.stage.addChild(this.view3d.stage),this.view3d.container._render=this.renderChildren.bind(this),this.view3d.camera.z=.6,this.view3d.camera.y=.6,this.view3d.camera.camera.lookAtTarget=new oe.a(0,.05,0),this.view3d.camera.camera.fov=.15)}printEntity(e){this.entitiesMap.get(e)}play(e,t){this.playing=!0;const i=this.entitiesMap.get(e);i&&(t&&re.a.playAnimation(i,t,!0),this.animating.push(e))}stop(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>{const t=this.animating.indexOf(e);t<0||this.animating.splice(t,1)}),this.animating.length||(this.playing=!1)}stopAll(){this.playing=!1,this.animating=[]}renderChildren(){this.playing&&0!==this.animating.length&&(this.update(!0),this.animating.forEach(e=>{const t=this.entitiesMap.get(e),i=this.textures.get(e);t.active=!0,this.view3d.renderTexture=i,this.view3d._renderChildren($i.stage.renderer),t.active=!1}))}update(e){void 0===e&&(e=!1),(this.playing||e)&&super.update()}addScene(e,t,i){this.refresh(),t.name=e,this.entitiesMap.set(e,t);const s=d.RenderTexture.create({width:i,height:i,scaleMode:d.SCALE_MODES.LINEAR,resolution:1});s.baseTexture.framebuffer.addDepthTexture(),this.textures.set(e,s),this.addChild(t),this.play(e),this.renderChildren(),this.stopAll()}addAnimatedScene(e){let{id:t,entity:i,size:s,animData:r}=e;re.a.ensureAnimation(i,24,r),this.play(t,r.name),this.addScene(t,i,s),re.a.stopAnimation(i,r.name,!0)}updateScene(e,t,i,s){const r=re.a.findEntity(e,t,4,s);r&&re.a.setMap(r,"diffuseMap",$i.library.getMap(i))}}class CharacterThumbScene3D_CharacterThumbScene3D extends ThumbScene3D_ThumbScene3D{getTexture(e,t,i){void 0===i&&(i=0);const s=this.entitiesMap.get(e),r=this.textures.get(e),a=$i.data.getCharData(t);if(!r||!s||!a)throw new Error("Character not registered: "+e);const o=(a.outfits[i-1]?a.outfits[i-1]:a).texture;return this.updateScene(s,"SkeletalMeshComponent0",o,a.features),r}attachBoard(e,t,i){void 0===i&&(i=[]);const s=t.id,r=$i.library.getScene("board-"+s,{map:"board-"+s+"-tex"}),a=[];i.forEach(e=>{var i;return a.push(...(null===(i=t.powerups[e-1])||void 0===i?void 0:i.features)||[])});const o=[...t.features,...a];this.updateScene(r,t.root,t.texture,o);const n=this.entitiesMap.get(e);if(!n)throw new Error("Character not registered: "+e);const l=re.a.findEntity(n,"attachPoint1",5);l&&(l.removeChild(l.container.children[0]),r.scale.set(.009),l.addChild(r))}removeBoard(e){const t=this.entitiesMap.get(e);if(!t)throw new Error("Character not registered: "+e);const i=re.a.findEntity(t,"attachPoint1",5);i&&i.removeChild(i.container.children[0])}}function le(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class CharacterThumb_CharacterThumb extends Thumb3D_Thumb3D{constructor(e){super(),le(this,"shopData",void 0),le(this,"charId",void 0),le(this,"outfit",0),this.charId=e.charId||e.thumbId,this.thumbId=e.thumbId,this.setScene(e),this.setChar()}play(e){CharacterThumb_CharacterThumb.scene.play(this.thumbId,e)}stop(){CharacterThumb_CharacterThumb.scene.stop(this.thumbId)}setChar(e,t,i){void 0===e&&(e=this.thumbId),void 0===t&&(t=this.charId),void 0===i&&(i=this.outfit),this.sprite.texture=CharacterThumb_CharacterThumb.scene.getTexture(e,t,i),this.sprite.scale.x=1,this.sprite.scale.y=-1,this.sprite.anchor.set(.5,0),this.shadow.anchor.set(.5,1),this.shadow.y=-10;const s=.8*this.sprite.height,r=.5*this.sprite.width;this.hitArea=new d.Rectangle(-r/2,.9*-this.sprite.height,r,s),this.shadow.width=.7*this.sprite.width,this.shadow.scale.y=.5*this.shadow.scale.x,this.charId=t,this.thumbId=e,this.outfit=i}setScene(e){let{charId:t,thumbId:i,sceneName:s,animData:r}=e;CharacterThumb_CharacterThumb.scene||(CharacterThumb_CharacterThumb.scene=new CharacterThumbScene3D_CharacterThumbScene3D);const a=CharacterThumb_CharacterThumb.scene;if(!a.entitiesMap.get(i)&&$i.library.hasScene(s)){const e=(t||i)+"-tex",o=$i.library.getScene(s,{map:e});i.includes("board")&&o.scale.set(.9),o.rx=-.2,a.addAnimatedScene({id:i,size:400,entity:o,animData:r})}}setBoard(e,t){void 0===t&&(t=[]),CharacterThumb_CharacterThumb.scene.attachBoard(this.thumbId,e,t)}}le(CharacterThumb_CharacterThumb,"scene",void 0);var he=i(40),ce=i(29),de=i(96),ue=i(575);function pe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Trackpad_Trackpad extends d.Container{constructor(e){super(),pe(this,"size",void 0),pe(this,"maxSlots",void 0),pe(this,"capMovement",void 0),pe(this,"snapTo",void 0),pe(this,"dragging",void 0),pe(this,"mouseOver",!1),pe(this,"locked",!1),pe(this,"xEasing",void 0),pe(this,"xDragOffset",void 0),pe(this,"xSpeed",void 0),pe(this,"prevPosition",void 0),pe(this,"xScrollMin",void 0),pe(this,"xScrollMax",void 0),pe(this,"xCheck",0),pe(this,"xMoved",void 0),pe(this,"yEasing",void 0),pe(this,"yDragOffset",void 0),pe(this,"ySpeed",void 0),pe(this,"prevPositionY",void 0),pe(this,"yScrollMin",void 0),pe(this,"yScrollMax",void 0),pe(this,"yCheck",0),pe(this,"yMoved",void 0),pe(this,"spring",void 0),pe(this,"targetX",void 0),pe(this,"targetY",void 0),pe(this,"onDown",e=>{this.locked||(this.xSpeed=0,this.ySpeed=0,this.stop(),this.xMoved=!1,this.yMoved=!1,this.xCheck=e.data.global.x,this.yCheck=e.data.global.y,this.dragging=!0,this.xDragOffset=e.data.global.x-this.targetX,this.yDragOffset=e.data.global.y-this.targetY)}),pe(this,"onMouseWheel",e=>{this.interactive&&this.mouseOver&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.locked||(this.xSpeed=.15*e.deltaX,this.ySpeed=.15*-e.deltaY))}),pe(this,"onUp",()=>{if(!this.locked){if(this.dragging=!1,this.snapTo){let e;this.xMoved&&(this.spring.dx=this.xSpeed,e=this.xSpeed<0?Math.floor(this.xEasing/this.size):Math.ceil(this.xEasing/this.size),this.capMovement&&(e>0?e=0:e<-this.maxSlots&&(e=-this.maxSlots)),this.spring.tx=e*this.size),this.yMoved&&(this.spring.dy=this.ySpeed,e=this.ySpeed<0?Math.floor(this.yEasing/this.size):Math.ceil(this.yEasing/this.size),this.capMovement&&(e>0?e=0:e<-this.maxSlots&&(e=-this.maxSlots)),this.spring.ty=e*this.size),this.spring.x=this.xEasing,this.spring.y=this.yEasing}this.cap()}}),pe(this,"onMove",e=>{if(this.locked||!this.dragging)return;let t;t=Math.abs(this.xCheck-e.data.global.x),t>10&&(this.xMoved=!0),t=Math.abs(this.yCheck-e.data.global.y),t>10&&(this.yMoved=!0),this.xEasing=e.data.global.x-this.xDragOffset,this.yEasing=e.data.global.y-this.yDragOffset,this.capMovement&&(this.xEasing>this.xScrollMax?this.xEasing=this.xScrollMax+.3*(this.xEasing-this.xScrollMax):this.xEasing<this.xScrollMin&&(this.xEasing=this.xScrollMin+.3*(this.xEasing-this.xScrollMin)),this.yEasing>this.yScrollMax?this.yEasing=this.yScrollMax+.3*(this.yEasing-this.yScrollMax):this.yEasing<this.yScrollMin&&(this.yEasing=this.yScrollMin+.3*(this.yEasing-this.yScrollMin)))}),this.spring=new ue.a,this.spring.springiness=e.springiness||0,this.spring.damp=e.damp||0,this.size=e.size||1024,this.maxSlots=e.maxSlots||25,this.dragging=!1,this.snapTo=e.snapTo||!1,this.capMovement=e.capMovement||!0,this.targetX=e.xScrollMin||0,this.xEasing=0,this.xDragOffset=0,this.xSpeed=0,this.prevPosition=0,this.xScrollMin=e.xScrollMin||-1/0,this.xScrollMax=e.xScrollMax||0,this.xMoved=!1,this.yMoved=!1,this.targetY=e.yScrollMin||0,this.yEasing=0,this.yDragOffset=0,this.ySpeed=0,this.prevPositionY=0,this.yScrollMin=e.yScrollMin||-1/0,this.yScrollMax=e.yScrollMax||0;const t=e.target||this;t.interactive=!0,t.on("pointerdown",e=>this.onDown(e)),t.on("pointerup",()=>this.onUp()),t.on("pointerupoutside",()=>this.onUp()),t.on("touchcancel",()=>this.onUp()),t.on("pointermove",e=>this.onMove(e)),t.on("pointerover",()=>{this.mouseOver=!0}),t.on("pointerout",()=>{this.mouseOver=!1}),window.addEventListener("wheel",this.onMouseWheel,{passive:!1})}unlock(){this.locked&&(this.locked=!1,this.xSpeed=0,this.xEasing=this.targetX,this.yEasing=this.targetY,this.xSpeed=0,this.ySpeed=0)}lock(){this.locked=!0}update(){if(this.targetX+=.3*(this.xEasing-this.targetX),this.targetY+=.3*(this.yEasing-this.targetY),!this.locked)if(this.dragging){let e=this.xEasing-this.prevPosition;e*=.7,this.xSpeed+=.5*(e-this.xSpeed),this.prevPosition=this.xEasing;let t=this.yEasing-this.prevPositionY;t*=.7,this.ySpeed+=.5*(t-this.ySpeed),this.prevPositionY=this.yEasing}else this.snapTo?(this.spring.update(),this.xEasing=this.spring.x,this.yEasing=this.spring.y,this.capMovement&&(this.xEasing>this.xScrollMax?this.xEasing+=.3*(this.xScrollMax-this.xEasing):this.xEasing<this.xScrollMin&&(this.xEasing+=.3*(this.xScrollMin-this.xEasing)),this.yEasing>this.yScrollMax?this.yEasing+=.3*(this.yScrollMax-this.yEasing):this.yEasing<this.yScrollMin&&(this.yEasing+=.3*(this.yScrollMin-this.yEasing)))):(this.xSpeed*=this.spring.damp,this.xEasing+=this.xSpeed,this.ySpeed*=.95,this.yEasing+=this.ySpeed,this.capMovement&&(this.xEasing>this.xScrollMax?this.xEasing+=.3*(this.xScrollMax-this.xEasing):this.xEasing<this.xScrollMin&&(this.xEasing+=.3*(this.xScrollMin-this.xEasing)),this.yEasing>this.yScrollMax?this.yEasing+=.3*(this.yScrollMax-this.yEasing):this.yEasing<this.yScrollMin&&(this.yEasing+=.3*(this.yScrollMin-this.yEasing))))}stop(){this.xSpeed=0,this.ySpeed=0,this.targetX=this.prevPosition=this.xEasing,this.targetY=this.prevPositionY=this.yEasing}setPosition(e,t){this.targetX=this.xEasing=e,this.targetY=this.yEasing=t}easeToPosition(e,t){this.xEasing=e,this.yEasing=t}cap(){this.capMovement&&(this.snapTo&&(this.spring.tx>this.xScrollMax?this.spring.tx=this.xScrollMax:this.spring.tx<this.xScrollMin&&(this.spring.tx=this.xScrollMin)),this.snapTo&&(this.spring.ty>this.yScrollMax?this.spring.ty=this.yScrollMax:this.spring.ty<this.yScrollMin&&(this.spring.ty=this.yScrollMin)))}}function me(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class InfiniteScroller_InfiniteScroller extends Trackpad_Trackpad{constructor(e){super(e),me(this,"elements",[]),me(this,"topBoundary",void 0),me(this,"bottomBoundary",void 0),me(this,"topY",void 0),me(this,"bottomY",void 0),me(this,"spacing",20),me(this,"elementHeight",35);const t=new d.Text("W",{fontSize:40,fill:4949670,fontFamily:"Lilita One"});this.elementHeight=t.height+5;const i=this.addChild(Object(de.a)());this.elements.push(i);let s=this.elementHeight+this.spacing;this.elements.push(...e.elements.map(e=>{const t=this.addChild(new d.Text(e,{fontSize:45,fill:4949670,fontFamily:"Lilita One"}));return t.anchor.set(.5),t.y=s,s+=this.elementHeight+this.spacing,t})),this.topBoundary=e.topBoundary,this.bottomBoundary=e.bottomBoundary,this.topY=-this.elementHeight-this.spacing,this.bottomY=this.height+this.spacing,this.refresh(.1)}updateTransform(){super.updateTransform(),this.update(),this.refresh(this.ySpeed),this.y=this.targetY}refresh(e){e>.02?this.elements.filter(e=>this.y+e.y>this.bottomBoundary).sort((e,t)=>t.y-e.y).forEach(e=>{e.y=this.topY,this.topY-=this.elementHeight+this.spacing,this.bottomY-=this.elementHeight+this.spacing}):e<-.02&&this.elements.filter(e=>this.y+e.y+this.elementHeight<this.topBoundary).sort((e,t)=>e.y-t.y).forEach(e=>{e.y=this.bottomY,this.bottomY+=this.elementHeight+this.spacing,this.topY+=this.elementHeight+this.spacing})}goToPrevious(){this.yEasing+=this.elementHeight+this.spacing,this.refresh(.1)}goToNext(){this.yEasing-=this.elementHeight+this.spacing,this.refresh(-.1)}}function be(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class InfiniteScrollerHandler_InfiniteScrollerHandler extends d.Container{constructor(e){super(),be(this,"monthScroller",void 0),be(this,"current",-1),be(this,"selector",void 0),be(this,"onElementSelected",new p.Signal);const t=380,i=this.addChild(te.a.rectColor({w:160,h:t,round:8,color:13754084})),s=this.addChild(d.Sprite.from("button-arrow-down.png"));s.scale.set(.75),s.anchor.x=.5,s.y=205,s.interactive=!0,s.buttonMode=!0,s.on("pointerdown",()=>{s.tint=11184810,this.monthScroller.goToPrevious()}),s.on("pointerup",()=>{s.tint=16777215}),s.on("pointerout",()=>{s.tint=16777215});const r=this.addChild(d.Sprite.from("button-arrow-down.png"));r.scale.set(.75),r.anchor.x=.5,r.rotation=Math.PI,r.y=-205,r.interactive=!0,r.buttonMode=!0,r.on("pointerdown",()=>{r.tint=11184810,this.monthScroller.goToNext()}),r.on("pointerup",()=>{r.tint=16777215}),r.on("pointerout",()=>{r.tint=16777215});const a=this.addChild(te.a.rectColor({w:160,h:t,round:8,color:13754084}));this.monthScroller=i.addChild(new InfiniteScroller_InfiniteScroller({elements:e,damp:.8,yScrollMax:1/0,topBoundary:-190,bottomBoundary:190,target:i})),this.monthScroller.mask=a,this.selector=this.addChild((new d.Graphics).beginFill(16711680,.001).drawRect(-100,-25,200,50))}updateTransform(){super.updateTransform();const e=this.monthScroller.elements;e.forEach((t,i)=>{if(this.selector.containsPoint(t.toGlobal(this.selector.position))&&i!==this.current){if(-1!==this.current){const t=e[this.current];ie.g.to(t.scale,.15,{x:1,y:1,ease:ie.c.easeInOut}),this.current>0?ie.g.to(t,.25,{pixi:{tint:16777215},ease:ie.c.easeInOut}):t.children.forEach(e=>{ie.g.to(e,.25,{pixi:{tint:16777215},ease:ie.c.easeInOut})})}ie.g.to(t.scale,.15,{x:1.4,y:1.4,ease:ie.c.easeInOut}),i>0?ie.g.to(t,.25,{pixi:{tint:600659},ease:ie.c.easeInOut}):t.children.forEach(e=>{ie.g.to(e,.25,{pixi:{tint:600659},ease:ie.c.easeInOut})}),this.onElementSelected.dispatch(i),this.current=i}})}}function fe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class YearScroller_YearScroller extends d.Container{constructor(){super(),fe(this,"current",-1),fe(this,"selector",void 0),fe(this,"elements",[]),fe(this,"onElementSelected",new p.Signal),fe(this,"spacing",20),fe(this,"elementHeight",35),fe(this,"scroller",void 0),fe(this,"dashIndex",void 0);const e=new d.Text("W",{fontSize:40,fill:4949670,fontFamily:"Lilita One"});this.elementHeight=e.height+5;const t=380,i=this.addChild(te.a.rectColor({w:160,h:t,round:8,color:13754084}));this.scroller=this.addChild(new Trackpad_Trackpad({damp:.8,yScrollMax:i.height/2-190,target:i}));const s=this.addChild(d.Sprite.from("button-arrow-down.png"));s.scale.set(.75),s.anchor.x=.5,s.y=205,s.interactive=!0,s.buttonMode=!0,s.on("pointerdown",()=>{s.tint=11184810,this.goToPrevious()}),s.on("pointerup",()=>{s.tint=16777215}),s.on("pointerout",()=>{s.tint=16777215});const r=this.addChild(d.Sprite.from("button-arrow-down.png"));r.scale.set(.75),r.anchor.x=.5,r.rotation=Math.PI,r.y=-205,r.interactive=!0,r.buttonMode=!0,r.on("pointerdown",()=>{r.tint=11184810,this.goToNext()}),r.on("pointerup",()=>{r.tint=16777215}),r.on("pointerout",()=>{r.tint=16777215});let a=0;const o=(new Date).getUTCFullYear();for(let e=0;e<=99;e++){const t=this.scroller.addChild(new d.Text(""+(e+1900),{fontSize:45,fill:4949670,fontFamily:"Lilita One"}));t.anchor.set(.5),t.y=a,a+=this.elementHeight+this.spacing,this.elements.push(t)}const n=this.scroller.addChild(Object(de.a)());this.dashIndex=this.elements.length,this.elements.push(n),n.y=a,a+=this.elementHeight+this.spacing;for(let e=0;e<=o-2e3;e++){const t=this.scroller.addChild(new d.Text(""+(e+2e3),{fontSize:45,fill:4949670,fontFamily:"Lilita One"}));t.anchor.set(.5),t.y=a,a+=this.elementHeight+this.spacing,this.elements.push(t)}this.scroller.mask=this.addChild(te.a.rectColor({w:160,h:t,round:8,color:13754084})),this.selector=this.addChild((new d.Graphics).beginFill(16711680,.001).drawRect(-100,-25,200,50)),this.scroller.yScrollMin=-this.scroller.height+this.elementHeight,this.scroller.targetY=this.scroller.yEasing=-n.y}updateTransform(){super.updateTransform();const e=this.elements;e.forEach((t,i)=>{if(this.selector.containsPoint(t.toGlobal(this.selector.position))&&i!==this.current){if(-1!==this.current){const t=e[this.current];ie.g.to(t.scale,.15,{x:1,y:1,ease:ie.c.easeInOut}),this.current!==this.dashIndex?ie.g.to(t,.25,{pixi:{tint:16777215},ease:ie.c.easeInOut}):t.children.forEach(e=>{ie.g.to(e,.25,{pixi:{tint:16777215},ease:ie.c.easeInOut})})}ie.g.to(t.scale,.15,{x:1.4,y:1.4,ease:ie.c.easeInOut}),i!==this.dashIndex?ie.g.to(t,.25,{pixi:{tint:600659},ease:ie.c.easeInOut}):t.children.forEach(e=>{ie.g.to(e,.25,{pixi:{tint:600659},ease:ie.c.easeInOut})}),this.onElementSelected.dispatch(parseInt(t.text,10)||0),this.current=i}}),this.scroller.update(),this.scroller.y=this.scroller.targetY}goToPrevious(){this.scroller.yEasing+=this.elementHeight+this.spacing}goToNext(){this.scroller.yEasing-=this.elementHeight+this.spacing}}function ge(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AgeGatePanel_AgeGatePanel extends ce.a{constructor(){super(...arguments),ge(this,"w",0),ge(this,"h",0),ge(this,"panel",void 0),ge(this,"bg",void 0),ge(this,"confirmButton",void 0),ge(this,"title",void 0),ge(this,"monthScroller",void 0),ge(this,"yearScroller",void 0),ge(this,"character",void 0),ge(this,"month",-1),ge(this,"year",-1),ge(this,"age",0)}onBuild(){var e;const t={base:te.a.rectComp({w:296,h:94,color:0,round:12},{w:320,h:120,image:"box-border-grey.png",x:5,y:6}),label:"ok",labelColor:4473924,labelY:0,labelSize:45,labelFont:"Lilita One",labelShadow:1,labelShadowColor:16777215},i={bg:"large-navigation-button-light-green.png",label:"ok",labelY:0,labelSize:45,labelFont:"Lilita One",labelShadow:3,onTap:()=>{$i.nav.toIdleScreen("consentPanel",{age:this.age})}};this.bg=this.addChild(new he.b(1)),this.panel=this.addChild(te.a.rectComp({w:690,h:950,color:15658734,round:16},{w:712,h:974,image:"box-border-grey.png",x:5,y:6})),this.title=this.addChild(new Q.a("when-born",{fill:2576518,fontSize:45,fontFamily:"Titan One",dropShadow:!1,anchorX:.5,anchorY:.5})),this.title.y=-this.panel.height/2+this.title.height+50,this.confirmButton=this.addChild(new ee.a(t)),null===(e=this.confirmButton.base)||void 0===e||e.scale.set(1),this.confirmButton.y=this.panel.height/2-this.confirmButton.height;this.monthScroller=this.addChild(new InfiniteScrollerHandler_InfiniteScrollerHandler(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])),this.monthScroller.x=110-this.panel.width/2,this.monthScroller.y=-30,this.yearScroller=this.addChild(new YearScroller_YearScroller),this.yearScroller.x=this.monthScroller.x+160+15,this.yearScroller.y=-30,this.monthScroller.onElementSelected.add(e=>{this.month=e-1,this.age=this.getAge(),this.age>0?this.confirmButton.setup(i):this.confirmButton.setup(t)}),this.yearScroller.onElementSelected.add(e=>{this.year=e>0?e:-1,this.age=this.getAge(),this.age>0?this.confirmButton.setup(i):this.confirmButton.setup(t)});const[s,r]=$.a.idle.clips.popupIdle.frames,a={start:s,end:r,loop:!0,name:"uiIdle"},o={sceneName:$i.user.character+"-idle",animData:a,thumbId:$i.user.character};this.character=this.addChild(new CharacterThumb_CharacterThumb(o)),this.character.x=180,this.character.scale.set(1.5),this.character.y=300,this.character.play("uiIdle")}onOpen(){this.character.play("uiIdle")}onClose(){this.character.stop()}getAge(){if(-1!==this.month&&-1!==this.year){const e=new Date,t=e.getMonth()-this.month;let i=e.getFullYear()-this.year;return t<0&&i--,i}return 0}onResize(){this.w=this.viewportWidth,this.h=this.viewportHeight,this.x=.5*this.w,this.y=.5*this.h,this.bg.resize(this.w,this.h)}}var ve=i(23);function ye(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ConsentPanel_ConsentPanel extends ce.a{constructor(){super(...arguments),ye(this,"w",0),ye(this,"h",0),ye(this,"panel",void 0),ye(this,"bg",void 0),ye(this,"confirmButton",void 0),ye(this,"toggleButton",void 0),ye(this,"age",void 0),ye(this,"check",void 0),ye(this,"toggled",!1)}onBuild(){var e,t;const i={base:te.a.rectComp({w:592,h:102,color:0,round:12},{w:614,h:126,image:"box-border-grey.png",x:5,y:6}),label:"ok",labelColor:4473924,labelY:0,labelSize:45,labelFont:"Lilita One",labelShadow:1,labelShadowColor:16777215},s={bg:"xl-navigation-button-light-green.png",label:"ok",labelY:0,labelSize:45,labelFont:"Lilita One",labelShadow:3,onTap:()=>{ve.a.SDK.togglePlayerAdvertisingConsent(!0,this.age),$i.user.gameSettings.adConsent=!0,$i.user.save(),$i.nav.toIdleScreen("title")}};this.bg=this.addChild(new he.b(1)),this.panel=this.addChild(te.a.rectComp({w:690,h:950,color:15658734,round:16},{w:712,h:974,image:"box-border-grey.png",x:5,y:6}));const r=this.addChild(te.a.rectComp({w:590,h:210,color:15202303,round:16},{w:616,h:234,image:"box-border-grey.png",x:5,y:6}));r.addChild(new Q.a("consent-body",{align:"center",fill:2576518,fontSize:25,lineHeight:30,fontFamily:"Titan One",dropShadow:!1,anchorX:.5,anchorY:.5})),r.y=-130;const a=this.addChild(d.Sprite.from("consent-characters-header.png"));a.anchor.set(.5),a.y=-r.height-115;const o=this.addChild(new Q.a("consent-footer",{fill:6710886,lineHeight:28,fontSize:20,fontFamily:"Titan One",dropShadow:!1,anchorX:.5,anchorY:.5}));o.y=this.panel.height/2-o.height/2-50,this.confirmButton=this.addChild(new ee.a(i)),null===(e=this.confirmButton.base)||void 0===e||e.scale.set(1),this.confirmButton.y=o.y-this.confirmButton.height-30;const n={bg:"xl-navigation-button-light-green.png",label:"accept",labelY:0,labelX:75,labelSize:45,labelFont:"Lilita One",labelShadow:3,onTap:()=>{this.check.visible=!this.check.visible,n.label=this.toggled?"accept":"accepted",n.base=this.toggled?null:te.a.rectComp({w:592,h:102,color:6710886,round:12},{w:614,h:126,image:"box-border-grey.png",x:5,y:6}),this.toggleButton.setup(n),this.toggled?this.confirmButton.setup(i):this.confirmButton.setup(s),this.toggled=!this.toggled}};this.toggleButton=this.addChild(new ee.a(n)),null===(t=this.toggleButton.base)||void 0===t||t.scale.set(1),this.toggleButton.y=this.confirmButton.y-this.toggleButton.height-15;const l=this.addChild(te.a.rectShadow({round:12,w:75,h:75,shadowAlpha:.15,shadowDistance:2,shadowColor:16777215,color:0,alpha:.4}));l.x=-75,l.y=this.toggleButton.y,this.check=l.addChild(d.Sprite.from("checkmark-icon.png")),this.check.scale.set(1.2),this.check.anchor.set(.5),this.check.visible=!1}onOpen(e){this.age=e.age}onResize(){this.w=this.viewportWidth,this.h=this.viewportHeight,this.x=.5*this.w,this.y=.5*this.h,this.bg.resize(this.w,this.h)}}var we=i(576),_e=i(12),xe=i(97),Se=i(51);function Pe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class KeysTag_KeysTag extends d.Container{constructor(){super(),Pe(this,"label",void 0),this.label=new Se.a("0",{align:"left",anchor:0,fill:16185078,fontSize:30,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:1,icon:"icon-key.png"}),this.addChild(this.label)}get keys(){return Number.parseInt(this.label.text,10)}set keys(e){this.label.text=String(e)}}function Ce(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class UserCurrencies_UserCurrencies extends d.Container{constructor(){super(),Ce(this,"onRefresh",new p.Signal),Ce(this,"base",void 0),Ce(this,"coinsTag",new xe.a),Ce(this,"keysTag",new KeysTag_KeysTag),Ce(this,"spacing",10),this.base=new d.NineSlicePlane(d.Texture.from("base-grey.png"),10,10,10,10),this.addChild(this.base),this.base.x=0,this.addChild(this.base),this.addChild(this.coinsTag),this.addChild(this.keysTag);const e=$i.user;e.onGameSettingsChange.add(()=>{this.tweenCoins(e.coins),this.tweenKeys(e.keys)})}get keys(){return this.keysTag.keys}set keys(e){this.keys!==e&&(this.keysTag.keys=Math.round(e),this.refresh())}get coins(){return this.coinsTag.coins}set coins(e){this.coins!==e&&(0!==this.coins&&this.worldVisible&&Object(we.a)($i.sound.play,150,$i.sound)("gui-coin"),this.coinsTag.coins=Math.round(e),this.refresh())}tweenCoins(e){const t=_e.a.clamp(.2*Math.abs(e-this.coins),.2,1);ie.g.to(this,t,{coins:e})}tweenKeys(e){const t=_e.a.clamp(.2*Math.abs(e-this.keys),.2,1);ie.g.to(this,t,{keys:e})}refresh(){var e,t;this.base.width=Number(this.coinsTag.visible)*this.coinsTag.width+Number(this.keysTag.visible)*(this.keysTag.width+this.spacing)+2*this.spacing;const i=(null===(e=this.coinsTag.label.icon)||void 0===e?void 0:e.width)||0,s=(null===(t=this.keysTag.label.icon)||void 0===t?void 0:t.width)||0;this.keysTag.x=-this.base.width/2+s/2+this.spacing,this.coinsTag.x=-this.base.width/2+this.keysTag.width+i/2+2*this.spacing,this.base.x=.5*-this.base.width,this.base.y=.5*-this.base.height,this.onRefresh.dispatch()}}var ke=i(69),Oe=i(28);function Te(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function je(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class CurrencyButton_CurrencyButton extends Oe.a{constructor(e){void 0===e&&(e={});const t=e.w||172,i=e.h||64;super(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(i),!0).forEach((function(t){je(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Te(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({base:te.a.rectComp({w:t+24,h:i+26,image:"box-border-grey.png",x:5,y:6},{w:t,h:i,color:4298538,round:12}),icon:"icon-coin.png",color:4298538},e)),je(this,"_value",void 0),this._value=new d.Text("99",{align:"center",fontFamily:"Lilita One",fill:16777215,fontSize:e.labelSize||35,dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.25}),this._value.anchor.set(.5),this.addChild(this._value)}get value(){return Number(this._value.text)}set value(e){this._value.text=String(e),this.update()}update(e){void 0===e&&(e={}),this.setup(e),this.icon&&(this.icon.scale.set(.75),this._value.x=this.icon.visible?18:0,this.icon.x=-this._value.width/2-5),this.addChild(this._value),this._value.y=2}}function Me(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoostCounter_BoostCounter extends d.Container{constructor(e){void 0===e&&(e=0),super(),Me(this,"counter",void 0),Me(this,"slot",0),Me(this,"maxSlot",6),this.counter=d.Sprite.from("upgrades-slot.png"),te.a.roundRectBorder({w:300,h:30,round:20,color:11184810,alpha:1,borderWidth:3,borderColor:10066329}),this.addChild(this.counter);for(let t=0;t<e;t++)this.setNextSlot()}setNextSlot(){if(this.slot===this.maxSlot)return;const e=te.a.rect({w:28,h:15,round:5,color:16763904,x:27+41.5*this.slot,y:this.height/2});this.addChild(e),this.slot++}setLevel(e){for(let t=this.slot;t<e;t++)this.setNextSlot()}}function Ne(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoostModule_BoostModule extends d.Container{constructor(e){super(),Ne(this,"base",void 0),Ne(this,"toggled",!1),Ne(this,"onUserTap",new p.Signal),Ne(this,"header",void 0),Ne(this,"subHeader",void 0),Ne(this,"body",void 0),Ne(this,"type",void 0),Ne(this,"upgradeCounter",void 0),Ne(this,"icon",void 0),Ne(this,"targetMiddleHeight",void 0),Ne(this,"initMiddleHeight",void 0),Ne(this,"coinsTag",void 0),Ne(this,"hint",void 0),Ne(this,"buyButton",void 0),Ne(this,"tappableArea",void 0),Ne(this,"data",void 0),Ne(this,"onTap",()=>{BoostModule_BoostModule.allModules.forEach(e=>{e!==this&&e.close()}),this.toggle(),this.onUserTap.dispatch()}),Ne(this,"onBuy",async()=>{await $i.shop.purchase(this.data)&&this.refresh()}),BoostModule_BoostModule.allModules||(BoostModule_BoostModule.allModules=[]),BoostModule_BoostModule.allModules.push(this),this.tappableArea=this.addChild(new d.Container),this.data=e,this.type=e.subType;const t=d.Sprite.from("upgrade-panel-top.png"),i=d.Sprite.from("upgrade-panel-middle.png"),s=d.Sprite.from("upgrade-panel-bottom.png");i.y=t.height-1,s.y=t.height+i.height-2,s.scale.y=-1,s.anchor.y=1,this.base=this.tappableArea.addChild(new d.Container),this.base.addChild(t,i,s);const r=this.base.width,a=this.base.height;this.base.x=-r/2,this.base.y=-a/2,this.icon=this.tappableArea.addChild(new d.Container);const o=this.icon.addChild(d.Sprite.from("base-item.png")),n=o.addChild(d.Sprite.from("icon-item-"+e.id.toLowerCase()+".png"));o.anchor.set(.5),n.anchor.set(.5),o.scale.set(1.15),n.scale.set(.9),this.icon.x=-r/2+this.icon.width/2+20;const l={align:"left",fill:15649842,fontSize:42,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:2};this.header=this.makeLabel(e.id,l),this.header.x=this.icon.x+this.icon.width/2+10,this.header.y=15-a/2,l.fill=16777215,l.fontSize=25,e.description?(this.body=this.makeLabel(e.description,l),this.body.x=20-r/2,this.body.y=a/2):(this.body=this.addChild(new Oe.a({base:te.a.rectShadow({round:12,w:200,h:60,shadowAlpha:.15,shadowDistance:2,color:14974720}),label:"view-prizes",labelFont:"Lilita One",labelShadow:2,labelSize:28,onTap:()=>$i.prizesPanel.open("mystery-box")})),this.body.x=this.body.width/2+20-r/2,this.body.y=a/2+this.body.height/2-10),this.body.visible=!1,this.initMiddleHeight=i.height,this.targetMiddleHeight=i.height+this.body.height+30,"consumables"===this.type?(l.params={num:e.upgradeCounter},this.subHeader=this.makeLabel((null==e?void 0:e.subId)||"",l),this.subHeader.x=this.header.x,this.subHeader.y=5):(this.upgradeCounter=this.tappableArea.addChild(new BoostCounter_BoostCounter(e.upgradeCounter)),this.upgradeCounter.x=this.header.x,this.upgradeCounter.y=5),this.coinsTag=new xe.a({coins:e.cost,inverse:!0,align:"right"}),-1!==e.cost&&this.tappableArea.addChild(this.coinsTag),this.coinsTag.x=r/2-this.coinsTag.width-45,this.coinsTag.y=-a/2+this.coinsTag.height/2+15,this.hint=this.tappableArea.addChild(d.Sprite.from("arrow-down-hint.png")),this.hint.x=r/2-this.hint.width-40,this.hint.y=a/2-this.hint.height-7;const h=42*this.coinsTag.label.text.length;this.buyButton=new CurrencyButton_CurrencyButton({w:h,h:70,onTap:this.onBuy}),-1!==e.cost&&this.addChild(this.buyButton),this.buyButton.value=e.cost,this.buyButton.x=r/2-this.buyButton.width/2-15,this.buyButton.y=this.targetMiddleHeight-70,this.buyButton.visible=!1,this.tappableArea.interactive=!0,this.tappableArea.buttonMode=!0,this.tappableArea.addListener("pointertap",this.onTap)}makeLabel(e,t){return this.tappableArea.addChild(new Q.a(e,t))}close(){this.toggled&&this.toggle()}toggle(){const[e,t,i]=this.base.children,s=this.toggled?1:this.targetMiddleHeight/this.initMiddleHeight,r=this.toggled;ie.g.to(t.scale,.15,{y:s,overwrite:!0,ease:ie.a.easeOut,onUpdate:()=>{const s=1+t.scale.y;t.y=e.height-s,i.y=t.height+t.y-s,this.tappableArea.hitArea=new d.Rectangle(this.base.x,this.base.y,this.base.width,this.base.height)},onStart:()=>{r?(this.hint.visible=!0,ie.g.to(this.hint,.15,{alpha:1,overwrite:!0}),this.coinsTag.visible=!0,ie.g.to(this.coinsTag,.15,{alpha:1,overwrite:!0}),this.buyButton.visible=!1,this.buyButton.alpha=0,this.body.visible=!1,this.body.alpha=0):(this.hint.visible=!1,this.hint.alpha=0,this.coinsTag.visible=!1,this.coinsTag.alpha=0,this.buyButton.visible=!0,ie.g.to(this.buyButton,.15,{alpha:1,overwrite:!0}),this.body.visible=!0,ie.g.to(this.body,.15,{alpha:1,overwrite:!0}))}}),this.toggled=!this.toggled}getAmountPurchased(){try{return $i.user[this.data.type][this.data.subType][this.data.id]}catch(e){return 0}}refresh(){if(this.subHeader){const e=this.getAmountPurchased();this.subHeader.options.params={num:e},this.subHeader.refresh()}else if(this.upgradeCounter){this.upgradeCounter.setLevel(this.getAmountPurchased());const e=this.data.cost;if(e>-1){this.coinsTag.coins=e,this.coinsTag.x=this.base.width/2-this.coinsTag.width-45;const t=42*this.coinsTag.label.text.length;this.buyButton.value=e,this.buyButton.base.width=t,this.buyButton.x=this.base.width/2-this.buyButton.width/2-15}else this.removeChild(this.buyButton),this.tappableArea.removeChild(this.coinsTag)}}}function Ee(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Ne(BoostModule_BoostModule,"allModules",void 0);class BoostScroller_BoostScroller extends Trackpad_Trackpad{constructor(e){super(e),Ee(this,"consumablesTitle",void 0),Ee(this,"permanentsTitle",void 0),Ee(this,"consumables",[]),Ee(this,"permanents",[]),Ee(this,"spacing",10),this.consumablesTitle=this.makeTitle("consumables-title"),this.consumables=e.consumables.map(e=>this.addChild(new BoostModule_BoostModule(e))),this.permanentsTitle=this.makeTitle("permanents-title"),this.permanents=e.permanents.map(e=>this.addChild(new BoostModule_BoostModule(e)));const t=(new d.Graphics).beginFill(4095,.001).drawRect(-this.width/2,-this.consumablesTitle.height/2-15,this.width,this.height);this.addChildAt(t,0)}updateTransform(){super.updateTransform(),this.update(),this.y=this.targetY,this.refresh()}makeTitle(e){return this.addChild(new Q.a(e,{align:"left",fill:19072,fontSize:70,fontFamily:"Titan One",dropShadow:!1,anchorX:.5,anchorY:1}))}easeToSlot(e){const{yScrollMin:t,yScrollMax:i}=this,s=this.size/(this.maxSlots-5),r=Math.max(t,i-s*e);super.easeToPosition(r,0)}getSlotIndex(){const{yScrollMin:e,yScrollMax:t,maxSlots:i,y:s}=this,r=(t-e)/(i-4);let a=Math.max(0,t-s);return a=Math.min(a+2*r,r*(i-3)),Math.floor(a/r)}refresh(){let e=10;this.consumablesTitle.y=e,e+=this.consumablesTitle.height,this.consumables.forEach(t=>{t.y=e,e+=t.height+this.spacing}),this.permanentsTitle.y=e+10,e+=this.permanentsTitle.height+10,this.permanents.forEach(t=>{t.y=e,e+=t.height+this.spacing})}refreshItems(){this.consumables.forEach(e=>e.refresh()),this.permanents.forEach(e=>e.refresh())}}const Be={hoverboards:{amount:3,id:"hoverboard"},scoreBooster:{amount:1},headstart:{amount:1}};class FreeStuffSection_FreeStuffSection extends d.Container{constructor(){super();const e=this.addChild(new Q.a("get-free-stuff",{align:"left",fill:19072,fontSize:70,fontFamily:"Titan One",dropShadow:!1,anchorX:.5}));e.y=15;let t=e.height/2+15;for(const e in Be){const i=Be[e],s=i.id||e,r=this.addChild(new Oe.a({base:d.Sprite.from("freestuff-module-panel.png"),onTap:async()=>{await ve.a.SDK.rewardedBreak({type:"freeStuffShop",prize:s},["cosmetic","","shop"])&&($i.user.boosts.consumables[s]+=i.amount,$i.user.save())}})),{width:a,height:o}=r.base,n=r.addChild(d.Sprite.from("base-item.png")),l=n.addChild(d.Sprite.from("icon-item-"+s.toLowerCase()+".png"));n.anchor.set(.5),l.anchor.set(.5),n.scale.set(1.15),l.scale.set(.9),n.x=n.width/2+20,n.y=o/2;const h={align:"left",fill:15649842,fontSize:42,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:2},c=r.addChild(new d.Text(x.b.translate(e),h));c.x=n.x+n.width/2+10,c.y=15,h.fill=16777215,h.fontSize=25;const u=r.addChild(new d.Text(i.amount+" "+x.b.translate(e),h));u.x=c.x,u.y=c.height+15,r.x=-a/2,r.y=t+o/2,t=r.y+o/2+10}}}function ze(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function He(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(i),!0).forEach((function(t){De(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ze(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function De(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoostShop_BoostShop extends ce.a{constructor(){super(...arguments),De(this,"w",0),De(this,"h",0),De(this,"panel",void 0),De(this,"scrollMask",void 0),De(this,"currencies",void 0),De(this,"section","boosts"),De(this,"sections",void 0)}onBuild(){this.panel=this.addChild(new ke.a);const e={bg:"navigation-button-blu.png",icon:"icon-white-upgrades.png",label:"boosts"},t=new ee.a(e);e.icon="icon-white-piggy.png",e.label="free-stuff";const i=new ee.a(e);t.onTap=()=>{this.setSection("boosts")},i.onTap=()=>{this.setSection("freestuff")},this.panel.addButton(t,i);const s=this.panel.base.width,r=this.panel.base.height;this.currencies=this.addChild(new UserCurrencies_UserCurrencies),this.currencies.onRefresh.add(()=>{this.currencies.x=s/2-this.currencies.width/2-20}),this.currencies.y=-345;const a=$i.shop.boosts;this.sections={boosts:this.addChild(new BoostScroller_BoostScroller(He(He({},a),{},{damp:.8}))),freestuff:this.addChild(new FreeStuffSection_FreeStuffSection)},this.sections.freestuff.visible=!1,this.sections.boosts.yScrollMin=r/2-this.sections.boosts.height,this.sections.boosts.yScrollMax=-r/2+175,this.sections.boosts.setPosition(0,this.sections.boosts.yScrollMax),this.scrollMask=te.a.rectColor({w:s,h:r-180,y:15,alpha:.4}),this.panel.addChild(this.scrollMask),this.sections.boosts.mask=this.scrollMask}updateTransform(){super.updateTransform(),this.sections.boosts.yScrollMin=this.panel.base.height/2-this.sections.boosts.height-20}async onOpen(){this.currencies.coins=$i.user.coins,this.currencies.keys=$i.user.keys,this.currencies.refresh(),this.sections[this.section].visible=!0}async setSection(e){e!==this.section&&(this.sections[this.section].visible=!1,this.section=e,this.sections[this.section].visible=!0,this.sections.boosts.refreshItems())}onClose(){this.sections[this.section].visible=!1}onResize(){this.w=this.viewportWidth,this.h=this.viewportHeight,this.x=.5*this.w,this.y=.5*this.h,this.panel.resize(this.w,this.h),this.sections.freestuff.y=-this.panel.base.width/2}}function Re(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Le(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class CloseButton_CloseButton extends Oe.a{constructor(e){void 0===e&&(e={});const t=d.Sprite.from("btn-close.png");t.anchor.set(.5),super(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(i),!0).forEach((function(t){Le(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Re(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({w:86,h:86,base:t},e))}}function Ie(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Fe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(i),!0).forEach((function(t){Ae(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ie(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ae(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoostsPanel_BoostsPanel extends ce.a{constructor(){super(...arguments),Ae(this,"bg",void 0),Ae(this,"base",void 0),Ae(this,"btnClose",void 0),Ae(this,"currencies",void 0),Ae(this,"boosts",void 0)}onBuild(){this.bg=this.addChild(new he.b(he.a.BLACK)),this.bg.interactive=!0,this.bg.on("pointertap",()=>this.close());const e=690,t=935;this.base=this.addChild(te.a.rectComp({w:e,h:t,color:15658734,round:16},{w:712,h:959,image:"box-border-grey.png",x:5,y:6})),this.base.interactive=!0,this.btnClose=this.addChild(new CloseButton_CloseButton({onTap:()=>this.close()})),this.btnClose.x=-335,this.btnClose.y=-457.5;const i=$i.shop.boosts;this.boosts=this.addChild(new BoostScroller_BoostScroller(Fe(Fe({},i),{},{damp:.8}))),this.boosts.yScrollMin=t/2-this.boosts.height+60,this.boosts.yScrollMax=-292.5,this.boosts.setPosition(0,this.boosts.yScrollMax);const s=te.a.rectColor({w:e,h:845,y:45,alpha:.4});this.addChild(s),this.boosts.mask=s,this.currencies=this.addChild(new UserCurrencies_UserCurrencies),this.currencies.onRefresh.add(()=>{this.currencies.x=345-this.currencies.width/2-20}),this.currencies.y=-t/2+this.currencies.height/2+10}async onOpen(){this.currencies.coins=$i.user.coins,this.currencies.keys=$i.user.keys,this.currencies.refresh(),this.boosts.refreshItems()}onResize(){const e=this.viewportWidth,t=this.viewportHeight;this.x=.5*e,this.y=.5*t,this.bg.resize(e,t)}makeLabel(e,t){return this.addChild(new Q.a(e,t))}}var Ge=i(70);function Ue(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BuyBoards_BuyBoards extends ce.a{constructor(){super(...arguments),Ue(this,"bg",void 0),Ue(this,"content",void 0),Ue(this,"base",void 0),Ue(this,"labelTitle",void 0),Ue(this,"labelHave",void 0),Ue(this,"labelHelp1",void 0),Ue(this,"labelHelp2",void 0),Ue(this,"btnClose",void 0),Ue(this,"bgStripes",void 0),Ue(this,"hoverboard",void 0),Ue(this,"btnBuy",void 0),Ue(this,"wallet",void 0),Ue(this,"boardCost",300),Ue(this,"onExit",void 0)}onBuild(){this.bg=new he.b(he.a.BLACK),this.addChild(this.bg),this.bg.interactive=!0,this.bg.on("pointertap",()=>this.exit()),this.content=new d.Container,this.addChild(this.content);this.base=te.a.rectComp({w:540,h:540,color:15658734,round:16},{w:562,h:564,image:"box-border-grey.png",x:5,y:6}),this.content.addChild(this.base),this.base.interactive=!0,this.btnClose=new CloseButton_CloseButton({onTap:()=>this.exit()}),this.content.addChild(this.btnClose),this.btnClose.x=-260,this.btnClose.y=-260,this.wallet=new UserCurrencies_UserCurrencies,this.addChild(this.wallet),this.bgStripes=new Ge.a({w:510,h:440,color:2594258,glow:10606316,center:{x:0,y:-.15},glowScale:{x:4.3,y:4.3}}),this.content.addChild(this.bgStripes),this.hoverboard=d.Sprite.from("hoverboard-large.png"),this.hoverboard.anchor.set(.5),this.content.addChild(this.hoverboard),this.labelTitle=new Q.a("hoverboard_need",{align:"center",fill:16777215,fontSize:36,fontFamily:"Titan One",dropShadow:!0,dropShadowDistance:1,dropShadowAlpha:.5,anchorX:.5,anchorY:.5}),this.labelTitle.x=0,this.labelTitle.y=-130,this.content.addChild(this.labelTitle),this.labelHave=new Q.a("hoverboard_have",{align:"center",fill:16777215,fontSize:26,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:1,dropShadowAlpha:.5,anchorX:.5,anchorY:.5,params:{num:5}}),this.labelHave.x=0,this.labelHave.y=80,this.content.addChild(this.labelHave),this.btnBuy=new CurrencyButton_CurrencyButton({onTap:()=>this.buyBoard()}),this.addChild(this.btnBuy),this.btnBuy.y=140,this.btnBuy.value=this.boardCost,this.labelHelp1=new Q.a("hoverboard_help1",{align:"center",fill:11331070,fontSize:20,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:1,dropShadowAlpha:.5,anchorX:.5,anchorY:.5}),this.labelHelp1.x=0,this.labelHelp1.y=215,this.content.addChild(this.labelHelp1),this.labelHelp2=new Q.a("hoverboard_help2",{align:"center",fill:11331070,fontSize:20,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:1,dropShadowAlpha:.5,anchorX:.5,anchorY:.5,params:{command:x.b.translate("hoverboard_command"+(E.a.mobile?"":"_desktop"))}}),this.labelHelp2.x=this.labelHelp1.x,this.labelHelp2.y=this.labelHelp1.y+20,this.content.addChild(this.labelHelp2),$i.user.gameSettings.onChange.add(()=>this.refresh())}onOpen(){this.refresh()}onResize(){const e=this.viewportWidth,t=this.viewportHeight;this.x=.5*e,this.y=.5*t,this.bg.resize(e,t),this.bgStripes.y=40,this.hoverboard.y=-20}exit(){this.close(),this.onExit&&this.onExit(),this.onExit=void 0}buyBoard(){$i.user.coins>=this.boardCost&&($i.user.coins-=this.boardCost,$i.user.boosts.consumables.hoverboard+=1,$i.user.save(),this.animateHoverboard())}refresh(){this.labelHave.options.params={num:$i.user.boosts.consumables.hoverboard},this.labelHave.refresh(),this.wallet.coins=$i.user.coins,this.wallet.keys=$i.user.keys,this.wallet.refresh(),this.wallet.x=this.base.width/2-this.wallet.width/2-50,this.wallet.y=-220}async animateHoverboard(){await ie.g.to(this.hoverboard.scale,.05,{x:1.2,y:1.2}),await ie.g.to(this.hoverboard.scale,.2,{x:1,y:1})}}function Ve(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class DoubleUpButton_DoubleUpButton extends Oe.a{constructor(){super({w:210,h:80,base:d.Sprite.from("doubleup-module-panel.png")}),Ve(this,"tvIcon",void 0),Ve(this,"tvShine",void 0),Ve(this,"timeline",void 0),Ve(this,"descriptionLabel",void 0),Ve(this,"amountLabel",void 0),Ve(this,"coins",0),this.tvIcon=this.addChild(d.Sprite.from("icon-tv.png")),this.tvIcon.anchor.set(.5),this.tvIcon.x=this.width/2-110,this.tvIcon.y=-10,this.tvShine=this.tvIcon.addChild(d.Sprite.from("shine-effect.png"));const e=this.tvIcon.addChild(d.Sprite.from("icon-tv.png"));e.anchor.set(.5),this.tvShine.anchor.set(.5),this.tvShine.mask=e,this.timeline=new ie.f({repeat:-1}),this.timeline.delay(.5),this.timeline.to(this.tvIcon.scale,.3,{x:1.2,y:1.2}).to(this.tvIcon.scale,.3,{x:1,y:1}).fromTo(this.tvShine,1,{x:-100,y:100},{x:100,y:-100},0),this.timeline.play();const t=this.addChild(d.Sprite.from("icon-king.png"));t.anchor.set(.5),t.x=85-this.width/2,t.y=-17;const i=this.addChild(new Q.a("double-up",{align:"left",fill:16763904,fontSize:35,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:2}));i.x=-190,i.y=-40,this.descriptionLabel=this.addChild(new Q.a("get-coins",{align:"left",fill:16777215,fontSize:30,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:2,params:{num:0}})),this.descriptionLabel.x=-190,this.amountLabel=this.descriptionLabel.addChild(new d.Text("",{align:"left",fill:16763904,fontSize:30,fontFamily:"Lilita One"}))}setCoins(e){e>3e3&&(e=3e3),this.descriptionLabel.options.params={num:e},this.descriptionLabel.refresh();const t=this.descriptionLabel.display.text;let i="";for(let e=0;e<t.length;e++)if(!isNaN(parseInt(t[e],10))){i=t.substr(0,e);break}this.amountLabel.text=i,this.amountLabel.x=this.amountLabel.width-1,this.amountLabel.text=""+e,this.coins=e}}var We=i(125);function Ke(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Je(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Spinner_Spinner extends d.Container{constructor(e){void 0===e&&(e={}),super(),Je(this,"image",void 0),Je(this,"ticker",void 0);const t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(i),!0).forEach((function(t){Je(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ke(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({radius:32,color:0},e);this.image=new d.Graphics,this.image.lineStyle(t.radius,t.color),this.image.arc(0,0,2*t.radius,0,.5*Math.PI,!0),this.addChild(this.image),this.image.scale.set(.5),this.image.alpha=.25,this.visible=!1,this.ticker=new d.Ticker,this.ticker.stop(),this.ticker.add(this.update,this,1)}show(){this.visible=!0,this.ticker.start()}hide(){this.visible=!1,this.ticker.stop()}update(e){void 0===e&&(e=0),this.image.rotation+=.2*e}}function Xe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class RemoteImage_RemoteImage extends d.Container{constructor(e){void 0===e&&(e={}),super(),Xe(this,"bg",void 0),Xe(this,"image",void 0),Xe(this,"spinner",void 0),Xe(this,"_path",""),Xe(this,"_fallback",""),Xe(this,"_failed",!1);const t=Object.assign({},{path:"",fallback:"",w:0,h:0,bg:null});"string"==typeof e?t.path=e:Object.assign(t,e),this._fallback=t.fallback,null!==t.bg&&(this.bg=new d.Graphics,this.bg.beginFill(t.bg),this.bg.drawRect(-t.w/2,-t.h/2,t.w,t.h),this.bg.endFill(),this.addChildAt(this.bg,0)),this.image=new d.Sprite,t.w&&(this.image.width=t.w),t.h&&(this.image.height=t.h),this.addChild(this.image),this.spinner=new Spinner_Spinner,this.addChild(this.spinner),this.spinner.show(),t.path&&this.load(t.path)}load(e){if(this._path=e,this.image.visible=!1,this.spinner&&this.spinner.show(),!d.utils.TextureCache[e]||this._failed){let t=RemoteImage_RemoteImage.cache[e];t||(t=new d.Loader,t.add(e,e),RemoteImage_RemoteImage.cache[e]=t),t.onLoad.once(this.onLoadComplete,this),t.onError.once(this.onLoadError,this),t.load()}else this.onLoadComplete()}onLoadComplete(){this._failed=!1,this.image.visible=!0,this.image.texture=d.Texture.from(this._path),this.image.anchor.set(.5),this.spinner&&this.spinner.hide()}onLoadError(){RemoteImage_RemoteImage.cache[this._path]&&(RemoteImage_RemoteImage.cache[this._path].destroy(),delete RemoteImage_RemoteImage.cache[this._path]),this._failed=!0,this._fallback&&(this.image.visible=!0,this.image.texture=d.Texture.from(this._fallback),this.image.anchor.set(.5)),this.spinner&&this.spinner.hide()}}function Ye(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Xe(RemoteImage_RemoteImage,"cache",{});const qe=["assets/images/icon-friend.png","assets/images/icon-00-brody.png","assets/images/icon-01-tagbot.png","assets/images/icon-02-tasha.png","assets/images/icon-03-ninja.png","assets/images/icon-04-lucy.png","assets/images/icon-05-king.png","assets/images/icon-06-frizzy.png","assets/images/icon-07-yutani.png","assets/images/icon-08-spike.png","assets/images/icon-09-fresh.png","assets/images/icon-10-jake.png","assets/images/icon-11-tricky.png"];class AvatarIcon_AvatarIcon extends RemoteImage_RemoteImage{constructor(e){void 0===e&&(e=64),super({w:e,h:e,bg:16777215,path:"",fallback:"thumb-generic.png"}),Ye(this,"w",void 0),Ye(this,"h",void 0),this.w=e,this.h=e,this.spinner.scale.set(.4)}update(e){void 0===e&&(e={});const t=Object.assign({image:0,color:16777215,border:4},e);this.bg.width=this.w,this.bg.height=this.h,this.image.width=this.w-2*t.border,this.image.height=this.h-2*t.border,this.spinner.scale.set(.4),this.load(qe[t.image])}}function Ze(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class LeaderboardEntry_LeaderboardEntry extends d.Container{constructor(){super(),Ze(this,"w",void 0),Ze(this,"h",void 0),Ze(this,"index",void 0),Ze(this,"playerName",void 0),Ze(this,"score",void 0),Ze(this,"avatar",void 0),Ze(this,"bg",void 0),Ze(this,"clampChars",void 0),Ze(this,"built",!1)}build(e,t,i){if(void 0===e&&(e=70),void 0===t&&(t=640),void 0===i&&(i=10),this.built)return;this.built=!0,this.w=t,this.h=e,this.clampChars=i;const s={align:"center",fill:666451,fontSize:e*Math.min(e/100,.5),fontFamily:"Lilita One",dropShadow:!1,dropShadowDistance:1,maxWidth:300};this.index=new Se.a("",s),this.addChild(this.index),this.index._text.anchor.x=1,this.playerName=new Se.a("",s),this.addChild(this.playerName),this.playerName._text.anchor.x=0,this.score=new Se.a("",s),this.addChild(this.score),this.score._text.anchor.x=1,this.avatar=new AvatarIcon_AvatarIcon(.85*e),this.addChild(this.avatar)}update(e){if(this.playerName.text=e.profile.name,this.score.text=""+e.score,this.index.text=""+e.rank||"",void 0!==e.profile.image){const t=e.profile.image;this.avatar.update({image:t})}this.bg&&(this.removeChild(this.bg),te.a.clear(this.bg),this.bg.destroy());let t=Number(e.rank)%2?13294308:11388888;e.profile.me&&(t=16773461),this.bg=te.a.rect({w:this.w,h:this.h,round:0,color:t}),this.addChildAt(this.bg,0);const i=this.w/2-70;this.index.x=0-i,this.avatar.x=50-i,this.playerName.x=100-i,this.score.x=this.w-100-i}}function Qe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Leaderboard_Leaderboard extends Trackpad_Trackpad{constructor(e){void 0===e&&(e={}),super(e),Qe(this,"entries",void 0),Qe(this,"maxLength",void 0),Qe(this,"pool",void 0),Qe(this,"entryHeight",void 0),Qe(this,"entryWidth",void 0),Qe(this,"clampChars",void 0),this.entryHeight=e.entryHeight||70,this.entryWidth=e.entryWidth||640,this.clampChars=e.clampChars||10,this.pool=new We.a(LeaderboardEntry_LeaderboardEntry),this.entries=[],this.maxLength=11}updateTransform(){super.updateTransform(),this.update(),this.y=this.targetY}async refresh(){this.clearEntries();const e=$i.user.leaderboardEntry;await u.a.setUser(e);const t=await u.a.getLeaderboard();let i=t.find(e=>e.profile.name===$i.user.name);i||(i=e,t.push(i)),t.sort((e,t)=>t.score-e.score),t.forEach((e,t)=>{const s=e===i;e.profile.me=s,e.rank=(Number(t)+1)*Number(!(s&&t>9))}),this.updateEntries(t)}clearEntries(){for(const e of this.entries)e.visible=!1,e.parent&&e.parent.removeChild(e),this.pool.return(e);this.entries.length=0}updateEntries(e){const t=Math.min(this.maxLength,e.length);for(let i=0;i<t;i++){const t=this.pool.get();t.build(this.entryHeight,this.entryWidth,this.clampChars),this.addChild(t);const s=e[i];t.visible=!!s,s&&(t.update(s),t.y=i*t.h+0,this.entries.push(t))}}}function $e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ScoreBanner_ScoreBanner extends d.Container{constructor(){super(),$e(this,"base",void 0),$e(this,"title",void 0),$e(this,"score",void 0),$e(this,"coins",void 0),$e(this,"icon",void 0),$e(this,"starL",void 0),$e(this,"starR",void 0),this.base=d.Sprite.from("scoreboard.png"),this.base.anchor.set(.5),this.addChild(this.base),this.title=new Q.a("score",{align:"center",fill:19072,fontSize:60,fontFamily:"Titan One",dropShadow:!1,dropShadowDistance:1,anchorX:.5,anchorY:.5}),this.addChild(this.title),this.title.x=-15,this.title.y=-110,this.title.rotation=-.07,this.score=new Se.a("",{align:"center",fill:16777215,fontSize:55,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:1}),this.addChild(this.score),this.score.y=-33,this.coins=new Se.a("",{align:"center",fill:16777215,fontSize:45,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:1}),this.addChild(this.coins),this.coins.y=35,this.icon=d.Sprite.from("icon-coin.png"),this.icon.anchor.set(.5),this.icon.scale.set(.75),this.addChild(this.icon),this.icon.x=this.coins.x-100,this.icon.y=this.coins.y,this.starL=d.Sprite.from("icon-star.png"),this.starL.anchor.set(.5),this.starL.x=-120,this.title.addChild(this.starL),this.starR=d.Sprite.from("icon-star.png"),this.starR.anchor.set(.5),this.starR.x=-this.starL.x,this.title.addChild(this.starR)}update(e){this.score.text=String(e.score),this.coins.text=String(e.coins);const t=this.title.display.width||1;this.starL.x=-t/2-25,this.starR.x=t/2+25}}function et(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Gameover_Gameover extends ce.a{constructor(){super(...arguments),et(this,"w",0),et(this,"h",0),et(this,"bg",void 0),et(this,"base",void 0),et(this,"character",void 0),et(this,"scoreboard",void 0),et(this,"leaderboard",void 0),et(this,"currencies",void 0),et(this,"btnPlay",void 0),et(this,"panel",void 0),et(this,"doubleUpButton",void 0)}onBuild(){var e;this.bg=new he.b,this.addChild(this.bg),this.panel=this.addChild(new ke.a({icon:"icon-white-house.png",onTap:this.onTapHome.bind(this)}));const t=this.panel.base.width,i=this.panel.base.height,[s,r]=$.a.idle.clips.popupIdle.frames,a={start:s,end:r,loop:!0,name:"uiIdle"},o={sceneName:$i.user.character+"-idle",animData:a,thumbId:$i.user.character};if(this.character=new CharacterThumb_CharacterThumb(o),this.character.x=-190,this.character.y=-i/2+390,this.addChild(this.character),"none"!==E.a.leaderboard){this.leaderboard=this.addChild(new Leaderboard_Leaderboard({entryHeight:52,entryWidth:t-20,clampChars:E.a.maxNicknameChars}));const e=this.addChild((new d.Graphics).beginFill(16711680,.4).drawRect(-(t-20)/2,35,t-20,308));this.leaderboard.mask=e}this.doubleUpButton=this.addChild(new DoubleUpButton_DoubleUpButton),this.doubleUpButton.onTap=async()=>{this.btnPlay.key=null;const e=await ve.a.SDK.rewardedBreak({type:"doubleUp"},["multiply-reward","","game-over-screen"]);if(this.btnPlay.key=32,e){const{user:e,game:t}=$i;this.scoreboard.update({score:t.stats.score,coins:2*this.doubleUpButton.coins}),e.coins+=this.doubleUpButton.coins,e.save(),this.doubleUpButton.visible=!1,this.updateLeaderboardArea()}},this.doubleUpButton.y=-20,null===(e=this.doubleUpButton.base)||void 0===e||e.anchor.set(.5),this.scoreboard=this.addChild(new ScoreBanner_ScoreBanner),this.scoreboard.x=130,this.scoreboard.y=-i/2+250,this.currencies=new UserCurrencies_UserCurrencies,this.addChild(this.currencies),this.currencies.x=this.scoreboard.x,this.currencies.y=this.scoreboard.y-200;const n=new ee.a({bg:"navigation-button-blu.png",icon:"icon-white-upgrades.png",label:"boosts",onTap:this.onTapBoosts.bind(this)}),l=d.Sprite.from("large-navigation-button-light-green.png");l.anchor.set(.5),l.scale.set(.83),this.btnPlay=new Oe.a({label:"play",name:"resume",base:l,labelSize:55,labelFont:"Lilita One"}),this.btnPlay.onTap=this.onTapPlay.bind(this),this.panel.addButton(n,this.btnPlay)}async onTapHome(){this.visible=!1,this.btnPlay.key=null,$i.nav.toIdleScreen("title")}async onTapPlay(){this.visible=!1,this.btnPlay.key=null,$i.nav.toGame()}async onTapBoosts(){$i.boostPanel.open()}onOpen(){const{user:e,game:t}=$i;e.coins+=t.stats.coins,e.score=t.stats.score,e.keys+=t.stats.keys,e.save(),this.doubleUpButton.visible=!!t.stats.coins,this.doubleUpButton.setCoins(t.stats.coins),this.leaderboard&&(this.updateLeaderboardArea(),this.leaderboard.refresh()),this.currencies.tweenCoins(e.coins),this.currencies.tweenKeys(e.keys),this.scoreboard.update({score:t.stats.score,coins:t.stats.coins}),setTimeout(()=>{this._opened&&(this.btnPlay.key=32)},2e3),this.visible=!0,this.character.setChar(e.character,e.character,e.outfit),this.character.play("uiIdle"),t.stats.coins=0,t.stats.keys=0}updateLeaderboardArea(){if(this.leaderboard)if(this.doubleUpButton.visible){this.leaderboard.yScrollMin=-198,this.leaderboard.yScrollMax=60,this.leaderboard.setPosition(0,60);const e=this.leaderboard.mask;e.y=0,e.height=308}else{this.leaderboard.yScrollMin=-198,this.leaderboard.yScrollMax=-40,this.leaderboard.setPosition(0,-40);const e=this.leaderboard.mask;e.y=-112,e.height=408}}onClose(){this.character.stop(),this.btnPlay.key=null,this.visible=!1}onResize(){this.w=this.viewportWidth,this.h=this.viewportHeight,this.x=.5*this.w,this.y=.5*this.h,this.bg.resize(this.w,this.h),this.panel.resize(this.w,this.h)}}var tt=i(17);function it(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function st(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?it(Object(i),!0).forEach((function(t){rt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):it(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function rt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const at={width:512,height:512,scaleMode:d.SCALE_MODES.LINEAR,resolution:1,culling:!1,clear:!0,depthTest:!0,blend:!0};class Sprite3D_Sprite3D extends d.Container{constructor(e,t){void 0===t&&(t={}),super(),rt(this,"state",void 0),rt(this,"texture",void 0),rt(this,"renderer",void 0),rt(this,"scene",void 0),rt(this,"view",void 0);const i=st(st({},at),t);this.scene=new ae.a({renderer:e,culling:i.culling,clear:i.clear}),this.renderer=e,this.state=new d.State,this.state.depthTest=i.depthTest,this.state.blend=i.blend,this.texture=d.RenderTexture.create(i),this.texture.baseTexture.framebuffer.addDepthTexture(),this.view=new d.Sprite(this.texture),this.view.anchor.set(.5),this.view.scale.x=1,this.view.scale.y=-this.view.scale.x,this.addChild(this.view)}render(e){this.scene.view3d.renderTexture=this.texture,this.scene.view3d._renderChildren(this.renderer),super.render(e)}get camera(){return this.scene.view3d.camera}}function ot(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class HighScoreScreen_HighScoreScreen extends ce.a{constructor(){super(...arguments),ot(this,"bg",void 0),ot(this,"speedStripes",void 0),ot(this,"character",void 0),ot(this,"title",void 0),ot(this,"message",void 0),ot(this,"score",void 0),ot(this,"blockEvents",!1),ot(this,"onExit",new p.Signal),ot(this,"onKeyDown",e=>{e.repeat||this.blockEvents||"Spacebar"!==e.key&&" "!==e.key||this.exit()}),ot(this,"onPointerTap",()=>{this.exit()})}onBuild(){this.bg=d.Sprite.from("highscorescreen-bg.png"),this.addChild(this.bg),this.bg.anchor.set(.5),this.speedStripes=new HighScoreScreen_SpeedStripes,this.addChild(this.speedStripes),this.character=new HighScoreScreen_CharacterSprite3D,this.addChild(this.character),this.character.scale.set(1.25),this.title=new Q.a("new_high_score",{fontFamily:"Lilita One",fontSize:50,anchorX:.5,anchorY:.5,fill:0}),this.addChild(this.title),this.score=new d.Text("00000",{fontFamily:"Lilita One",fontSize:70,fill:16777215}),this.score.anchor.set(.5),this.addChild(this.score),this.message=new d.Text("",{align:"center",fontFamily:"Lilita One",fontSize:40,fill:16777215}),this.message.anchor.set(.5),this.addChild(this.message),ve.a.SDK.onBreakStart.add(()=>{this.blockEvents=!0}),ve.a.SDK.onBreakComplete.add(()=>{this.blockEvents=!1})}onOpen(){this.character.setCharacter($i.user.character,$i.user.outfit),this.bg.interactive=!0,this.bg.on("pointertap",this.onPointerTap),window.addEventListener("keydown",this.onKeyDown),this.character.view.scale.x=.5,this.character.view.scale.y=-this.character.view.scale.x,this.character.view.x=400,this.character.view.y=50,this.score.text=String($i.game.stats.score),this.message.text=x.b.translate("prize-screen-continue"+(E.a.mobile?"-mobile":"")),this.message.alpha=-5,$i.sound.stopAllFx(),$i.sound.musicFadeOut(),$i.sound.play("unlock")}onClose(){$i.sound.musicFadeIn(),this.bg.interactive=!1,this.bg.off("pointertap",this.onPointerTap),window.removeEventListener("keydown",this.onKeyDown)}updateTransform(){super.updateTransform();const e=.005*d.Ticker.system.deltaTime;this.character.view.x=_e.a.lerp(this.character.view.x,0,e),this.character.view.y=_e.a.lerp(this.character.view.y,0,e),this.character.view.scale.x=_e.a.lerp(this.character.view.scale.x,1,e),this.character.view.scale.y=-this.character.view.scale.x,this.message.alpha=_e.a.lerp(this.message.alpha,1,.01*d.Ticker.system.deltaTime)}onResize(){const e=this.viewportWidth,t=this.viewportHeight;this.bg.x=1.5*e,this.bg.y=.6*t,this.bg.width=4*(e>t?e:t),this.bg.height=1.3*(e>t?e:t),this.bg.scale.y=this.bg.height/512*-1,this.speedStripes.x=this.bg.x,this.speedStripes.y=this.bg.y,this.speedStripes.scale.x=this.bg.scale.x,this.speedStripes.scale.y=this.bg.scale.y,this.character.x=e/2,this.character.y=t/2,this.title.x=e/2,this.title.y=60,this.score.x=this.title.x,this.score.y=this.title.y+60,this.message.x=e/2,this.message.y=t-80}exit(){!this._opened||this.message.alpha<.2||(this.close(),this.onExit&&this.onExit.dispatch())}}class HighScoreScreen_SpeedStripes extends d.Container{constructor(){super(),ot(this,"w",1024),ot(this,"h",1024),this.w=512,this.h=512;for(let e=0;e<10;e++){const e=d.Sprite.from("celebration-stripe.png");this.addChild(e),this.resetStripe(e)}}updateTransform(){super.updateTransform();for(const e of this.children){e.x>0&&this.resetStripe(e,-this.w/2);const t=e._speed*d.Ticker.system.deltaTime,i=Math.atan2(e.y,e.x),s=Math.cos(i)*t,r=Math.sin(i)*t;e.x-=s,e.y-=r,e.rotation=i}}resetStripe(e,t){e.anchor.set(.05,.5),e.scale.set(.15,tt.a.range(.07,.12)),e.alpha=.75,e.x=null!=t?t:tt.a.range(.5*-this.w,0),e.y=tt.a.range(.25*-this.h,.5*this.h),e._speed=tt.a.range(3,5)}}class HighScoreScreen_CharacterSprite3D extends Sprite3D_Sprite3D{constructor(){super($i.stage.renderer),ot(this,"shadow",void 0),ot(this,"entity",void 0),ot(this,"currentId",""),ot(this,"currentOutfit",-1)}async setCharacter(e,t){void 0===t&&(t=0);const i=e+"-game";$i.library.hasScene(i)||await $i.loader.loadCharacter(e,!0),this.currentId===e&&this.currentOutfit===t||(this.currentId=e,this.currentOutfit=t,this.entity&&this.scene.removeChild(this.entity),this.entity=$i.library.getScene(i),this.scene.addChild(this.entity),this.updateCharacter(this.entity,e,t),re.a.ensureAnimation(this.entity,24,{name:"run",start:34,end:44,speed:.003,loop:!0}),re.a.stopAnimation(this.entity,"run",!0),re.a.playAnimation(this.entity,"run",!0),this.camera.x=.5,this.camera.y=0,this.camera.z=.8,this.camera.camera.lookAtTarget=new oe.a(0,.05,0),this.camera.camera.fov=.15,this.shadow||(this.shadow=d.Sprite.from("shadow.png")),this.addChildAt(this.shadow,0),this.shadow.anchor.set(.5),this.shadow.scale.set(1,.2),this.shadow.alpha=.3)}updateCharacter(e,t,i){void 0===i&&(i=0);const s=$i.data.getCharData(t);if(!s)throw new Error("[Character] Character data not found: "+t);const r=i?s.outfits[i-1]:s,a=re.a.findEntity(e,"SkeletalMeshComponent0",4,r.features);a&&re.a.setMap(a,"diffuseMap",$i.library.getMap(r.texture))}updateTransform(){super.updateTransform(),this.shadow&&(this.shadow.scale.x=2*this.view.scale.x,this.shadow.scale.y=.2*this.view.scale.x,this.shadow.x=this.view.x,this.shadow.y=this.view.y+this.view.height/2-60*this.view.scale.x)}}function nt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardUIKeys_AwardUIKeys extends d.Container{constructor(e,t){super(),nt(this,"base",void 0),nt(this,"icon",void 0),nt(this,"label",void 0),this.base=new d.Graphics,this.base.beginFill(6714239),this.base.drawRoundedRect(0,0,e,t,10),this.addChild(this.base),this.label=new d.Text("0",{fontFamily:"Lilita One",align:"right",fill:16777215,fontSize:35}),this.label.anchor.set(1,.5),this.addChild(this.label),this.label.x=e-50,this.label.y=t/2,this.icon=new d.Sprite(d.Texture.from("icon-key.png")),this.icon.anchor.set(.5),this.icon.scale.set(.8),this.addChild(this.icon),this.icon.x=this.label.x+this.label.width+3,this.icon.y=this.label.y,this.amount=5}get amount(){return Number(this.label.text)}set amount(e){this.label.text=String(e)}}function lt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardUIProgressBar_AwardUIProgressBar extends d.Container{constructor(e,t){super(),lt(this,"base",void 0),lt(this,"fill",void 0),lt(this,"label",void 0),this.base=new d.Graphics,this.base.beginFill(16313288),this.base.drawRect(0,0,e,t),this.addChild(this.base),this.fill=new d.Graphics,this.fill.beginFill(16105025),this.fill.drawRect(0,0,e,t),this.addChild(this.fill),this.label=new d.Text("99%",{fontFamily:"Lilita One",align:"center",fill:1727629,fontSize:30}),this.label.anchor.set(.5),this.addChild(this.label),this.label.x=e/2,this.label.y=t/2,this.ratio=1}get ratio(){return this.fill.scale.x}set ratio(e){e<0&&(e=0),e>1&&(e=1),this.fill.scale.x=e,this.label.text=Math.round(100*e)+"%"}}var ht=i(174);function ct(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardUITrophies_AwardUITrophies extends d.Container{constructor(e,t){super(),ct(this,"base",void 0),ct(this,"icon",void 0),ct(this,"bigSprayCan",void 0),ct(this,"trophies",void 0),ct(this,"badge",void 0),ct(this,"_tier",0),this.base=new d.Graphics,this.base.beginFill(6714239),this.base.drawRoundedRect(0,0,e,t,10),this.addChild(this.base),this.icon=new d.Sprite(d.Texture.from("base-item-large.png")),this.icon.anchor.set(.5),this.addChild(this.icon),this.icon.x=e/2,this.icon.y=this.icon.height/2-8,this.bigSprayCan=new d.Sprite(d.Texture.from("spraycan-big-bronze.png")),this.bigSprayCan.anchor.set(.5),this.icon.addChild(this.bigSprayCan);const i=new d.Sprite(d.Texture.from("stars.png"));i.anchor.set(.5),this.icon.addChild(i),this.trophies=[];for(let e=0;e<4;e++){const t=new d.Sprite(d.Texture.from("spraycan-empty.png"));t.anchor.set(.5),t.scale.set(.8),this.addChild(t),this.trophies.push(t),t.x=25*e+18,t.y=this.base.height-t.height/2-5}this.tier=0}get tier(){return this._tier}set tier(e){this._tier=e,this.refresh()}refresh(){const e=P[this._tier]||"diamond";this.bigSprayCan.texture=d.Texture.from("spraycan-big-"+e+".png");for(let e=0;e<this.trophies.length;e++){const t=this.trophies[e];e===this._tier?t.texture=d.Texture.from("spraycan-outline.png"):e>this._tier?t.texture=d.Texture.from("spraycan-empty.png"):t.texture=d.Texture.from("spraycan-"+P[e]+".png")}}showBadge(){this.badge||(this.badge=new ht.a),this.icon.addChild(this.badge),this.badge.scale.set(.75),this.badge.x=-40,this.badge.y=-40,this.badge.visible=!0}hideBadge(){this.badge&&(this.badge.visible=!1)}}function dt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardUIItem_AwardUIItem extends d.Container{constructor(e,t,i){super(),dt(this,"bg",void 0),dt(this,"btnCollect",void 0),dt(this,"labelTitle",void 0),dt(this,"labelDesc",void 0),dt(this,"trophies",void 0),dt(this,"keys",void 0),dt(this,"progressBar",void 0),dt(this,"award",void 0),dt(this,"width",1),dt(this,"height",1),this.award=e,this.bg=new d.Sprite(d.Texture.WHITE),this.bg.anchor.set(.5),this.bg.tint=11130862,this.addChild(this.bg),this.trophies=new AwardUITrophies_AwardUITrophies(112,i-20),this.addChild(this.trophies);const s=t-this.trophies.width-20;this.labelTitle=new Q.a(this.award.id,{fontFamily:"Lilita One",fontSize:36,anchorX:0,anchorY:0,wordWrap:!0,wordWrapWidth:s,lineHeight:36,fill:1727629}),this.addChild(this.labelTitle),this.labelDesc=new Q.a(this.award.id+"-desc",{fontFamily:"Lilita One",fontSize:24,anchorX:0,anchorY:0,fill:3115447,wordWrap:!0,wordWrapWidth:s,lineHeight:20,params:{x:0}}),this.addChild(this.labelDesc),this.keys=new AwardUIKeys_AwardUIKeys(s,50),this.addChild(this.keys),this.progressBar=new AwardUIProgressBar_AwardUIProgressBar(s-100,34),this.addChild(this.progressBar),this.btnCollect=new Oe.a({label:"award-collect",base:te.a.rectComp({w:366,h:76,image:"box-border-grey.png",x:5,y:6},{w:342,h:50,color:4298538,round:12}),labelSize:30,labelFont:"Lilita One",onTap:()=>{this.award.collect(),this.refresh()}}),this.addChild(this.btnCollect),this.resize(t,i),this.refresh()}resize(e,t){e&&(this.width=e),t&&(this.height=t),this.bg.width=this.width,this.bg.height=this.height,this.trophies.x=-this.width/2+10,this.trophies.y=-this.height/2+10,this.labelTitle.x=-this.width/2+this.trophies.width+10,this.labelTitle.y=-this.height/2+10,this.labelDesc.x=this.labelTitle.x,this.labelDesc.y=this.labelTitle.y+this.labelTitle.height+5,this.keys.x=this.labelTitle.x,this.keys.y=this.height/2-this.keys.height-10,this.progressBar.x=this.keys.x+8,this.progressBar.y=this.keys.y+8,this.btnCollect.x=this.labelTitle.x+this.btnCollect.width/2-10,this.btnCollect.y=this.keys.y+this.keys.height/2-3}refresh(){if(this.award.allTiersCompleted())this.btnCollect.visible=!1,this.progressBar.visible=!1,this.keys.visible=!1,this.labelDesc.id="award-completed",this.labelDesc.refresh(),this.trophies.hideBadge();else{const e=this.award.getProgressRatio();this.keys.visible=!0,this.btnCollect.visible=1===e,this.progressBar.visible=!this.btnCollect.visible,this.progressBar.ratio=e,this.keys.amount=this.award.getCurrentReward(),this.labelDesc.id=this.award.id+"-desc",this.labelDesc.options.params={x:this.award.getCurrentGoal()},this.labelDesc.refresh(),this.award.isReadyToCollect()?this.trophies.showBadge():this.trophies.hideBadge()}this.trophies.tier=this.award.getCurrentTier()}}function ut(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AwardUIList_AwardsUIList extends ce.a{constructor(e,t){super(),ut(this,"width",void 0),ut(this,"height",void 0),ut(this,"items",void 0),ut(this,"trackpad",void 0),ut(this,"labelTitle",void 0),this.width=e,this.height=t,this.autoAddChild=!1,this.items=[],this.trackpad=new Trackpad_Trackpad({}),this.addChild(this.trackpad),this.trackpad.y=this.trackpad.targetY=.25*-this.height;const i=new d.Sprite(d.Texture.WHITE);i.anchor.set(.5),i.width=e,i.height=t-180,this.addChild(i),this.trackpad.mask=i,this.labelTitle=new Q.a("awards",{fontFamily:"Lilita One",fontSize:60,anchorX:.5,anchorY:0,fill:15470}),this.addChild(this.labelTitle),this.labelTitle.y=-this.height/2+10}onBuild(){const e=this.width-60;for(const t of $i.awards.handlers){const i=new AwardUIItem_AwardUIItem(t,e,190);this.trackpad.addChild(i),this.items.push(i)}this.trackpad.yScrollMin=200*-this.items.length+.5*this.height,this.trackpad.yScrollMax=.25*-this.height,this.reorderItems()}reorderItems(){let e=this.items.slice(0);e=e.sort(e=>e.award.isReadyToCollect()?-1:1),e=e.sort((e,t)=>t.award.getCurrentTier()-e.award.getCurrentTier()),e=e.sort((e,t)=>t.award.getProgressRatio()-e.award.getProgressRatio());for(let t=0;t<e.length;t++){e[t].y=200*t}}onOpen(){for(const e of this.items)e.refresh();this.reorderItems(),this.trackpad.targetY=this.trackpad.yScrollMax,this.trackpad.y=this.trackpad.targetY,this.trackpad.lock(),this.trackpad.unlock()}updateTransform(){super.updateTransform(),this.trackpad.update(),this.trackpad.y=this.trackpad.targetY}}var pt=i(121);function mt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function bt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class OutfitButton_OutfitButton extends Oe.a{constructor(e){void 0===e&&(e={});const t=d.Sprite.from("btn-base-small.png"),i=d.Sprite.from("icon-lock-outfit.png"),s=d.Sprite.from("icon-owned.png");t.anchor.set(.5),i.anchor.set(.5),i.x=t.width/2-5,i.y=t.height/2-5,i.scale.set(.75),s.anchor.set(.5),s.x=t.width/2-5,s.y=t.height/2-5,s.scale.set(.75),super(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(i),!0).forEach((function(t){bt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({base:t,tintBaseOnPress:!1},e)),bt(this,"lock",void 0),bt(this,"selectIcon",void 0),this.lock=i,this.addChild(i),this.selectIcon=s,this.addChild(s)}setIcon(e){this.setup({icon:e}),this.addChild(this.lock),this.addChild(this.selectIcon)}get locked(){return this.lock.visible}set locked(e){this.lock.visible=e}get isSelected(){return this.lock.visible}set isSelected(e){this.selectIcon.texture=e?d.Texture.from("icon-selected.png"):d.Texture.from("icon-owned.png")}}function ft(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function gt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class LargeButton_LargeButton extends Oe.a{constructor(e){void 0===e&&(e={});super(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(i),!0).forEach((function(t){gt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ft(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({base:te.a.rectComp({w:346,h:120,image:"box-border-grey.png",x:5,y:6},{w:322,h:94,color:4298538,round:12}),color:4298538,labelY:0,labelSize:40},e))}}function vt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ShopButton_ShopButton extends LargeButton_LargeButton{constructor(e){void 0===e&&(e={}),super(e),vt(this,"currencyIcon",void 0),this.currencyIcon=d.Sprite.from("icon-coin.png"),this.currencyIcon.anchor.set(.5),this.addChild(this.currencyIcon)}update(e){var t;void 0===e&&(e={}),this.setup(e),this.addChild(this.currencyIcon),this.currencyIcon.visible="cost"===(null===(t=this.label)||void 0===t?void 0:t.id);const i={coins:"icon-coin.png",keys:"icon-key.png",coin:"icon-coin.png",key:"icon-key.png"};if(this.label){var s,r;const t=null!==(s=null===(r=e.labelParams)||void 0===r?void 0:r.currency)&&void 0!==s?s:"keys",a=i[null!=t?t:"icon-coin.png"];this.currencyIcon.texture=d.Texture.from(a),this.currencyIcon.x=this.label.width/2+15,this.label.x=this.currencyIcon.visible?-15:0}}set state(e){}}function yt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class PowerupTag_PowerupTag extends d.Container{constructor(){super(),yt(this,"icon",void 0),yt(this,"h1Label",void 0),yt(this,"h2Label",void 0),this.icon=this.addChild(d.Sprite.from("icon-board-powerup.png")),this.icon.anchor.set(.5),this.icon.tint=13390855,this.icon.position.set(45,0),this.h1Label=this.addChild(new d.Text("",{fill:13390855,fontSize:28,fontFamily:"Lilita One"})),this.h1Label.position.set(90,-35),this.h1Label.text=x.b.translate("special-power"),this.h2Label=this.addChild(new d.Text("",{fill:13390855,fontSize:28,fontFamily:"Lilita One"})),this.h2Label.x=90}setPowerup(e){this.h2Label.text=x.b.translate(e)}}function wt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class CharacterProfile_CharacterProfile extends d.Container{constructor(e,t){super(),wt(this,"thumb",void 0),wt(this,"costLabel",void 0),wt(this,"labelName",void 0),wt(this,"labelOutfit",void 0),wt(this,"featsMenu",void 0),wt(this,"data",void 0),wt(this,"powerupTag",void 0),wt(this,"outfit",0),wt(this,"selectedPowers",[]),wt(this,"boardPowers",[0]),wt(this,"btnSelect",void 0),wt(this,"onSelectOutfit",void 0),this.onSelectOutfit=new p.Signal,this.labelName=new d.Text("",{fill:211825,fontSize:40,fontFamily:"Titan One"}),this.addChild(this.labelName),this.labelOutfit=new d.Text("",{fill:211825,fontSize:20,fontFamily:"Titan One"}),this.addChild(this.labelOutfit),this.labelOutfit.y=50,this.powerupTag=this.addChild(new PowerupTag_PowerupTag),this.featsMenu=new pt.a({anchorX:0,spacing:20}),this.addChild(this.featsMenu),this.featsMenu.y=120,this.addOutfitButton(0,"icon-"+e+".png"),this.addOutfitButton(1,"icon-outfit.png"),this.addOutfitButton(2,"icon-outfit.png"),this.btnSelect=new ShopButton_ShopButton({label:"select"}),this.btnSelect.x=this.btnSelect.width/2-23,this.btnSelect.y=260,this.btnSelect.scale.set(.9),this.addChild(this.btnSelect),this.costLabel=new d.Text("",{fill:16777215,fontSize:35,fontFamily:"Titan One"}),this.costLabel.x=this.btnSelect.x,this.costLabel.y=this.btnSelect.y,this.costLabel.anchor.set(.5),this.thumb=new CharacterThumb_CharacterThumb(t),this.addChild(this.thumb),this.thumb.x=-170,this.thumb.y=400,this.thumb.scale.set(1.3),this.outfit=$i.user.outfit,this.boardPowers=[...$i.user.boardPowers],this.selectedPowers=[...$i.user.boardPowers]}addOutfitButton(e,t){const i=new OutfitButton_OutfitButton({icon:t,onTap:()=>this.selectOutfit(e)});i.selectIcon.visible=!1,this.featsMenu.addButton(i)}setCharData(e,t,i){void 0===i&&(i=t),this.data=e,this.labelName.text=x.b.translate(e.id),this.thumb.stop(),this.thumb.setChar(t,i,this.outfit),this.thumb.play("uiIdle"),this.powerupTag.visible=!1;const s=$i.data.getCharData(e.id);if(!s)throw new Error("No character data found for id: "+e.id);const r=[s,...s.outfits];this.featsMenu.visible=r.length>1;for(let t=0;t<r.length;t++){const i=r[t],s=this.featsMenu.buttons[t];s.visible=!!i.available,i.available&&(s.locked=i.locked,s.tintBase(i.colors[0]?d.utils.string2hex(i.colors[0]):3902140),s.tintIcon(i.colors[1]?d.utils.string2hex(i.colors[1]):1062479),t>0&&(s.locked=e.outfits[t-1].locked))}}setBoardData(e){this.labelName.text=x.b.translate(e.id),this.thumb.stop(),this.thumb.setBoard(e,this.boardPowers),this.thumb.play("uiBoardIdle"),this.labelName.visible=!0,this.labelOutfit.visible=!1,this.powerupTag.y=75+this.powerupTag.height/2,e.powerup?(this.powerupTag.setPowerup(e.powerup),this.powerupTag.visible=!0,this.featsMenu.visible=!1):(this.powerupTag.visible=!1,this.featsMenu.visible=!0),this.setPowerups(e)}setPowerups(e){const t=[e,...e.powerups||[]];this.featsMenu.visible=t.length>1;for(let i=0;i<t.length;i++){const s=t[i],r=this.featsMenu.buttons[i];r.visible=s.available,s.available&&(r.setup({onTap:()=>{this.focusPowerup(i,t)}}),i>0&&r.setIcon("icon-"+s.id+".png"),r.locked=s.locked,r.selectIcon.visible=i>0&&!s.locked&&s.purchased,r.tintBase(s.colors[0]?d.utils.string2hex(s.colors[0]):3902140),r.tintIcon(s.colors[1]?d.utils.string2hex(s.colors[1]):1062479),i>0&&(r.locked=e.powerups[i-1].locked))}}removeBoard(){this.data&&CharacterThumb_CharacterThumb.scene.removeBoard(this.data.id)}selectOutfit(e){if(0===e)this.labelOutfit.text="";else{var t;const i=null===(t=this.data)||void 0===t?void 0:t.outfits[e-1];this.labelOutfit.text=null!=i&&i.id?x.b.translate(i.id):""}this.cost="",this.outfit=e,this.data&&this.thumb.setChar(this.data.id.toLowerCase(),this.data.id.toLowerCase(),this.outfit),this.onSelectOutfit.dispatch()}focusPowerup(e,t){const i=0===e;this.labelName.visible=i,this.powerupTag.visible=!i;const s=t[e];this.powerupTag.setPowerup(s.id),this.powerupTag.y=this.labelName.y,this.cost="",this.boardPowers=this.boardPowers.filter(e=>this.selectedPowers.indexOf(e)>=0);const r=this.boardPowers.indexOf(e);r>=0&&this.boardPowers.splice(r,1),this.boardPowers.push(e),this.thumb.setBoard(t[0],this.boardPowers),this.onSelectOutfit.dispatch()}refresh(e){this.featsMenu.buttons.forEach((t,i)=>{var s;0!==i&&(t.isSelected=this.selectedPowers.indexOf(i)>=0,t.selectIcon.visible=!(null===(s=e.powerups[i-1])||void 0===s||!s.purchased))})}set cost(e){this.costLabel.text=""+e,this.btnSelect.update({label:"cost",labelParams:{value:e}})}}function _t(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class HorizontalScroller_HorizontalScroller extends Trackpad_Trackpad{constructor(e){super(e),_t(this,"leftBound",void 0),_t(this,"elementsCount",0),this.leftBound=e.leftBound+30}addElement(e){this.addChild(e),this.elementsCount++,this.refresh()}refresh(){this.xScrollMin=this.leftBound-this.width,this.size=this.xScrollMax-this.xScrollMin,this.maxSlots=this.elementsCount}easeToSlot(e){const t=this.size/(this.maxSlots-5),i=Math.max(this.xScrollMin,this.xScrollMax-t*e);this.easeToPosition(i,this.y)}getSlotIndex(){const{xScrollMin:e,xScrollMax:t,maxSlots:i,x:s}=this,r=(t-e)/(i-4);let a=Math.max(0,t-s);return a=Math.min(a+2*r,r*(i-3)),Math.floor(a/r)}}var xt=i(35);function St(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoardThumbScene3D_BoardThumbScene3D extends ThumbScene3D_ThumbScene3D{constructor(){super(),St(this,"boardsMap",new Map),St(this,"rotating",new Map),$i.data.getAvailableBoards().forEach(e=>this.boardsMap.set(e.id,e))}getTexture(e,t){void 0===t&&(t=[]);const i=this.entitiesMap.get(e),s=this.textures.get(e),r=this.boardsMap.get(e);if(!s||!i||!r)throw new Error("Character not registered: "+e);const a=[];t.forEach(e=>{var t;return a.push(...(null===(t=r.powerups[e-1])||void 0===t?void 0:t.features)||[])});const o=[...r.features,...a];return this.play(e),this.updateScene(i,r.root,r.texture,o),this.renderChildren(),this.stop(e),s}rotateSelected(e){const t=this.entitiesMap.get(e);t&&(this.play(e),this.rotating.set(e,t))}rotateBack(e,t){const i=this.entitiesMap.get(e);if(!i)return;const s=i.container.children[0];this.rotating.delete(e);let r=Math.abs(s.rx%_e.a.PI_DOUBLE);r=0+r<_e.a.PI_DOUBLE-r?r:-_e.a.PI_DOUBLE+r,this.play(e),ie.g.to(s,.6,{rx:s.rx+r,onComplete:()=>{t.animating=!1}})}renderChildren(){this.playing&&0!==this.animating.length&&(this.update(!0),this.animating.forEach(e=>{var t;const i=this.entitiesMap.get(e),s=this.textures.get(e),r=null===(t=this.rotating.get(e))||void 0===t?void 0:t.container.children[0];r&&(r.rx-=.03),i.active=!0,this.view3d.renderTexture=s,this.view3d._renderChildren($i.stage.renderer),i.active=!1}))}play(){this.playing=!0;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>{this.entitiesMap.get(e)&&-1===this.animating.indexOf(e)&&this.animating.push(e)})}stop(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>{const t=this.animating.indexOf(e);t<0||this.animating.splice(t,1)}),this.animating.length||(this.playing=!1)}}function Pt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoardThumb_BoardThumb extends Thumb3D_Thumb3D{constructor(e){super(),Pt(this,"shopData",void 0),Pt(this,"animating",!1),Pt(this,"powers",[0]),this._onSelect=null,this.shopData=e,this.setBoard()}play(){BoardThumb_BoardThumb.scene.play(this.thumbId)}stop(){BoardThumb_BoardThumb.scene.stop(this.thumbId)}animateIn(){BoardThumb_BoardThumb.scene.rotateSelected(this.thumbId),this.animating=!0}animateOut(){BoardThumb_BoardThumb.scene.rotateBack(this.thumbId,this)}setBoard(){BoardThumb_BoardThumb.scene||(BoardThumb_BoardThumb.scene=new BoardThumbScene3D_BoardThumbScene3D);const e=BoardThumb_BoardThumb.scene,t=this.shopData.id,i="board-"+t;if(!e.entitiesMap.get(t)&&$i.library.hasScene(i)){const s="board-"+t+"-tex",r=$i.library.getScene(i,{map:s}),a=new xt.a;a.addChild(r),a.scale.set(.01),a.rotation.set(-.3,1.15,.35),a.z=-.05,e.addScene(t,a,400)}this.sprite.texture=BoardThumb_BoardThumb.scene.getTexture(this.shopData.id,this.powers),this.sprite.scale.x=1,this.sprite.scale.y=-1,this.sprite.anchor.set(.5,0),this.shadow.anchor.set(.5,1),this.shadow.y=-10;const s=.8*this.sprite.height,r=.5*this.sprite.width;this.hitArea=new d.Rectangle(-r/2,.9*-this.sprite.height,r,s),this.thumbId=t,this.shadow.width=.7*this.sprite.width,this.shadow.scale.y=.5*this.shadow.scale.x}}function Ct(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Pt(BoardThumb_BoardThumb,"scene",void 0);class BoardSelect_BoardSelect extends d.Container{constructor(e,t){super(),Ct(this,"w",0),Ct(this,"h",0),Ct(this,"thumbsMask",void 0),Ct(this,"boardsScroller",void 0),Ct(this,"profile",void 0),Ct(this,"boardsList",void 0),Ct(this,"boardsMap",void 0),Ct(this,"boardSelectionMap",void 0),Ct(this,"userCurrencies",void 0),Ct(this,"focussedBoard",""),Ct(this,"selectedBoard",""),Ct(this,"previousBoard",""),this.thumbsMask=te.a.rectColor({w:e-20,h:t,x:-e/2,alpha:.4}),this.thumbsMask.x=e/2,this.addChild(this.thumbsMask),this.userCurrencies=new UserCurrencies_UserCurrencies,this.userCurrencies.onRefresh.add(()=>{this.userCurrencies.x=e/2-this.userCurrencies.width/2-20}),this.addChild(this.userCurrencies),this.userCurrencies.y=-345,this.boardsScroller=this.addChild(new HorizontalScroller_HorizontalScroller({damp:.8,leftBound:e/2,xScrollMax:-e/2})),this.buildBoardThumbs();const i=this.boardsScroller;i.x=-e/2,i.y=t/2-i.height/2,i.mask=this.thumbsMask;const s=(new d.Graphics).beginFill(16711680,.001).drawRect(0,-i.height,i.width,i.height);i.addChild(s),i.refresh(),i.setPosition(i.xScrollMax,0);const[r,a]=$.a.game.clips.h_run.frames,o={start:r,end:a,loop:!0,name:"uiBoardIdle"},n=$i.user.character,l={thumbId:n+"-on-board",charId:n,sceneName:n+"-game",animData:o};this.profile=new CharacterProfile_CharacterProfile("board",l),this.addChild(this.profile),this.profile.y=-200,this.profile.onSelectOutfit.add(()=>{this.refreshSelected()}),this.profile.btnSelect.onTap=()=>this.confirmSelection();const h=$i.user.board;this.selectedBoard=h,this.previousBoard=h,this.boardSelectionMap[h].texture=d.Texture.from("icon-selected.png"),this.boardsMap[h].powers=[...$i.user.boardPowers]}buildBoardThumbs(){this.boardsMap={},this.boardSelectionMap={};const e=[];$i.shop.boards.forEach(t=>{const i=new BoardThumb_BoardThumb(t);this.boardsScroller.addElement(i),i.x=130*e.length+70,i.scale.set(.45),this.boardsMap[i.thumbId]=i;const s=this.boardsScroller.addChild(d.Sprite.from("icon-owned.png"));s.x=i.x,s.y=-60,s.visible=!!t.purchased,this.boardSelectionMap[i.thumbId]=s,e.push(i),i.onSelect=e=>{const t=this.profile.boardPowers,i=t.indexOf(0);i>=0&&t.splice(i,1),t.push(0),this.focusBoard(e)}}),this.boardsList=e}focusBoard(e){var t,i,s;if(e.thumbId===this.focussedBoard)return;ie.g.to(e.scale,.15,{x:.55,y:.55,overwrite:!0,ease:ie.c.easeInOut}),null===(t=this.boardsMap[this.focussedBoard])||void 0===t||t.deselect();for(const e in this.boardsMap)!this.boardsMap[e].animating&&this.boardsMap[e].stop();null===(i=this.boardsMap[this.focussedBoard])||void 0===i||i.animateOut(),this.focussedBoard=e.thumbId,null===(s=this.boardsMap[this.focussedBoard])||void 0===s||s.animateIn();const r=Math.max(3,this.boardsList.indexOf(e)+1)-3;this.boardsScroller.easeToSlot(r)}selectBoard(){this.selectedBoard!==this.focussedBoard&&(this.selectedBoard=this.focussedBoard,this.refresh(),this.refreshSelected(!1),BoardThumb_BoardThumb.scene.printEntity(this.focussedBoard))}confirmSelection(){const e=$i.user,t=this.profile.boardPowers;this.boardSelectionMap[this.previousBoard].texture=d.Texture.from("icon-owned.png");const i=this.boardsMap[this.previousBoard];i.powers=[0],i.setBoard(),this.previousBoard=this.selectedBoard,this.boardsMap[this.selectedBoard].powers=[...t];const s=this.boardSelectionMap[this.selectedBoard];s.texture=d.Texture.from("icon-selected.png"),s.visible=!0,e.board=this.selectedBoard,this.profile.selectedPowers=[...t],e.boardPowers=[...t],e.save(),this.refreshSelected()}refresh(){const e=this.boardsMap[this.selectedBoard].shopData;this.profile.setBoardData(e)}async purchaseRequest(e){const t=await $i.shop.purchase(e);return t?this.confirmSelection():($i.notEnoughCurrency.setup(e.cost,()=>null,e.currency),$i.notEnoughCurrency.open()),t}refreshSelected(e){void 0===e&&(e=!0),e||(this.profile.selectedPowers=[],this.profile.boardPowers=[0]);const t=this.profile.btnSelect,i=this.boardsMap[this.selectedBoard],s=i.shopData,r=this.profile.boardPowers;i.setBoard(),i.animateIn(),this.profile.cost="";const a=r[r.length-1]-1;if(-1===a)s.purchased?this.selectedBoard===$i.user.board?(this.profile.selectedPowers=[...$i.user.boardPowers],this.profile.boardPowers=[...$i.user.boardPowers],t.update({label:"selected"}),t.onTap=null,t.alpha=.5):(t.update({label:"select"}),t.onTap=()=>this.confirmSelection(),t.alpha=1):(this.profile.cost=s.cost,t.update({label:"cost",labelParams:{value:s.cost,currency:s.currency}}),t.onTap=async()=>{await this.purchaseRequest(s)&&this.profile.setBoardData(s)},t.alpha=1);else{const e=s.powerups[a];if(!e)return;const i=a+1;e.locked?(t.update({label:"locked"}),t.onTap=null,t.alpha=.5):e.purchased?-1===this.profile.selectedPowers.indexOf(i)?(t.update({label:"turn-on"}),t.onTap=()=>this.confirmSelection(),t.alpha=1):(t.update({label:"turn-off"}),t.onTap=()=>{const e=this.profile.selectedPowers.indexOf(i);this.profile.selectedPowers.splice(e,1),$i.user.boardPowers=[...this.profile.selectedPowers],$i.user.save(),this.refreshSelected()},t.alpha=1):(this.profile.cost=e.cost,t.update({label:"cost",labelParams:{value:e.cost,currency:e.currency}}),t.onTap=()=>this.purchaseRequest(e),t.alpha=1)}this.profile.refresh(s)}async open(){$i.showLoadingMessage(),await $i.loader.loadSelectedFullCharacter(),$i.hideLoadingMessage();const e=$i.user.character,t=$i.shop.characters.find(t=>t.id===e),[i,s]=$.a.game.clips.h_run.frames,r={thumbId:e+"-on-board",charId:e,sceneName:e+"-game",animData:{start:i,end:s,loop:!0,name:"uiBoardIdle"}};if(this.profile.thumb.setScene(r),!t)throw new Error("Character data not found for: "+e);this.profile.setCharData(t,r.thumbId,e);const a=this.boardsMap[this.selectedBoard].shopData;this.profile.setBoardData(a),this.userCurrencies.coins=$i.user.coins,this.userCurrencies.keys=$i.user.keys,this.refreshSelected(),this.focusBoard(this.boardsMap[this.selectedBoard])}close(){this.profile.removeBoard()}updateTransform(){super.updateTransform(),this.boardsScroller.update();const e=this.boardsScroller.targetX;Math.abs(this.boardsScroller.xSpeed)>.2?this.scrollThumbs(e):(this.boardsScroller.x=e,this.selectBoard())}scrollThumbs(e){this.boardsScroller.x=e;const t=this.boardsList[this.boardsScroller.getSlotIndex()];this.focusBoard(t)}}function kt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class CharacterSelect_CharacterSelect extends d.Container{constructor(e,t){super(),kt(this,"w",0),kt(this,"h",0),kt(this,"thumbsMask",void 0),kt(this,"characterScroller",void 0),kt(this,"profile",void 0),kt(this,"charactersList",void 0),kt(this,"charactersMap",void 0),kt(this,"charSelectionMap",void 0),kt(this,"characterCurrencies",void 0),kt(this,"focussedCharacter",""),kt(this,"selectedCharacter",""),kt(this,"previousCharacter",""),this.thumbsMask=te.a.rectColor({w:e-20,h:t,x:-e/2,alpha:.4}),this.thumbsMask.x=e/2,this.addChild(this.thumbsMask),this.characterCurrencies=new UserCurrencies_UserCurrencies,this.characterCurrencies.onRefresh.add(()=>{this.characterCurrencies.x=e/2-this.characterCurrencies.width/2-20}),this.addChild(this.characterCurrencies),this.characterCurrencies.y=-345;const i=$i.user.character,[s,r]=$.a.idle.clips.popupIdle.frames,a={sceneName:i+"-idle",animData:{start:s,end:r,loop:!0,name:"uiIdle"},thumbId:i};this.profile=new CharacterProfile_CharacterProfile("character",a),this.addChild(this.profile),this.profile.y=-200,this.profile.onSelectOutfit.add(()=>{this.refreshSelectedOutfit()}),this.profile.btnSelect.onTap=()=>this.confirmSelection(),this.characterScroller=this.addChild(new HorizontalScroller_HorizontalScroller({damp:.8,leftBound:e/2,xScrollMax:-e/2})),this.buildCharThumbs();const o=this.characterScroller;o.x=-e/2,o.y=t/2-o.height/2,o.mask=this.thumbsMask;const n=(new d.Graphics).beginFill(16711680,.001).drawRect(0,-o.height,o.width,o.height);o.addChild(n),o.refresh(),o.setPosition(o.xScrollMax,0),this.profile.outfit=$i.user.outfit,this.focussedCharacter=i,this.selectedCharacter=i,this.previousCharacter=i,this.charSelectionMap[i].texture=d.Texture.from("icon-selected.png"),this.refresh()}buildCharThumbs(){this.charactersMap={},this.charSelectionMap={};const e=[],t=$i.shop.characters,[i,s]=$.a.idle.clips.popupIdle.frames,r={start:i,end:s,loop:!0,name:"uiIdle"};t.forEach(t=>{const i={sceneName:t.id+"-idle",animData:r,thumbId:t.id},s=new CharacterThumb_CharacterThumb(i);s.shopData=t,this.characterScroller.addElement(s),s.x=130*e.length+70,s.scale.set(.45);const a=this.characterScroller.addChild(d.Sprite.from("icon-owned.png"));a.x=s.x,a.y=-60,a.visible=!!t.purchased,this.charSelectionMap[s.thumbId]=a,this.charactersMap[s.thumbId]=s,e.push(s);const o=e.length;s.onSelect=e=>{this.focusCharacter(e);const t=Math.max(3,o)-3;this.characterScroller.easeToSlot(t)}}),this.charactersList=e}focusCharacter(e){var t;e.thumbId!==this.focussedCharacter&&(ie.g.to(e.scale,.15,{x:.55,y:.55,overwrite:!0,ease:ie.c.easeInOut}),null===(t=this.charactersMap[this.focussedCharacter])||void 0===t||t.deselect(),this.focussedCharacter=e.thumbId)}selectCharacter(){this.selectedCharacter!==this.focussedCharacter&&(this.selectedCharacter=this.focussedCharacter,this.profile.outfit=0,this.refresh(),this.refreshSelectedOutfit(),CharacterThumb_CharacterThumb.scene.printEntity(this.focussedCharacter))}confirmSelection(){const e=$i.user;this.charSelectionMap[this.previousCharacter].texture=d.Texture.from("icon-owned.png"),this.previousCharacter=this.selectedCharacter;const t=this.charSelectionMap[this.selectedCharacter];t.texture=d.Texture.from("icon-selected.png"),t.visible=!0,e.outfit=this.profile.outfit,e.character=this.selectedCharacter,e.save(),this.refreshSelected()}refresh(){const e=this.charactersMap[this.selectedCharacter].shopData;CharacterThumb_CharacterThumb.scene.stopAll(),this.profile.setCharData(e,e.id),this.profile.selectOutfit(this.profile.outfit)}refreshSelectedOutfit(){this.refreshSelected();const e=this.charactersMap[this.selectedCharacter].shopData,t=this.profile.btnSelect;if(0===this.profile.outfit)e.purchased||(this.profile.cost=e.cost,t.update({label:"cost",labelParams:{value:e.cost,currency:e.currency}}),t.onTap=async()=>{await this.purchaseRequest(e)&&this.profile.setCharData(e,e.id)},t.alpha=1);else{const i=e.outfits[this.profile.outfit-1];i.locked?(t.update({label:"locked"}),t.onTap=null,t.alpha=.5):i.purchased||(this.profile.cost=i.cost,t.update({label:"cost",labelParams:{value:i.cost,currency:i.currency}}),t.onTap=()=>this.purchaseRequest(i),t.alpha=1)}}async purchaseRequest(e){const t=await $i.shop.purchase(e);return t?this.confirmSelection():($i.notEnoughCurrency.setup(e.cost,()=>null,e.currency),$i.notEnoughCurrency.open()),t}refreshSelected(){const e=$i.user.character===this.selectedCharacter,t=$i.user.outfit===this.profile.outfit,i=this.profile.btnSelect;this.profile.cost="",e&&t?(i.update({label:"selected"}),i.onTap=null,i.alpha=.5):(i.update({label:"select"}),i.onTap=()=>this.confirmSelection(),i.alpha=1)}open(){this.characterCurrencies.coins=$i.user.coins,this.characterCurrencies.keys=$i.user.keys;for(const e in this.charactersMap){this.charactersMap[e].play("uiIdle")}}close(){}updateTransform(){super.updateTransform(),this.characterScroller.update();const e=this.characterScroller.targetX;Math.abs(this.characterScroller.xSpeed)>.2?this.scrollThumbs(e):(this.characterScroller.x=e,this.selectCharacter())}scrollThumbs(e){this.characterScroller.x=e;const t=this.charactersList[this.characterScroller.getSlotIndex()];this.focusCharacter(t)}}function Ot(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class MePanel_MePanel extends ce.a{constructor(){super(...arguments),Ot(this,"w",0),Ot(this,"h",0),Ot(this,"thumbsMask",void 0),Ot(this,"panel",void 0),Ot(this,"section","characters"),Ot(this,"sections",void 0),Ot(this,"awardsButton",void 0)}onBuild(){this.panel=new ke.a,this.addChild(this.panel);const e=new ee.a({bg:"navigation-button-green.png",icon:"icon-user.png",label:"characters"}),t=new ee.a({bg:"navigation-button-green.png",icon:"icon-boards.png",label:"boards"});this.awardsButton=new ee.a({bg:"navigation-button-green.png",icon:"icon-white-awards.png",label:"awards"}),e.onTap=()=>{this.setSection("characters")},t.onTap=()=>{this.setSection("boards")},this.awardsButton.onTap=()=>{this.setSection("awards")},this.panel.addButton(e,t,this.awardsButton),this.sections={characters:this.addChild(new CharacterSelect_CharacterSelect(this.panel.base.width,this.panel.base.height)),boards:this.addChild(new BoardSelect_BoardSelect(this.panel.base.width,this.panel.base.height)),awards:this.addChild(new AwardUIList_AwardsUIList(this.panel.base.width,this.panel.base.height))},this.sections.characters.visible=!0,this.sections.boards.visible=!1,this.sections.awards.visible=!1}async setSection(e){e!==this.section&&(this.sections[this.section].close(),this.sections[this.section].visible=!1,this.section=e,await this.sections[this.section].open(),this.sections[this.section].visible=!0)}onOpen(){this.sections[this.section].open(),$i.awards.onUpdate.add(this.updateBadges,this),this.updateBadges()}onClose(){$i.awards.onUpdate.remove(this.updateBadges,this),this.sections[this.section].close()}onResize(){this.w=this.viewportWidth,this.h=this.viewportHeight,this.x=.5*this.w,this.y=.5*this.h,this.panel.resize(this.w,this.h)}updateBadges(){$i.awards.hasPrizeToCollect()?this.awardsButton.showBadge():this.awardsButton.hideBadge()}}function Tt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class JackpotLabel_JackpotLabel extends d.Container{constructor(e){super(),Tt(this,"base",void 0);const t={fill:16777215,fontSize:48,fontFamily:"Lilita One",anchorX:1,dropShadow:!0,dropShadowDistance:7,dropShadowAngle:Math.PI/4};this.base=this.addChild(new Ge.a({radius:20,w:650,h:220,color:11144987,glow:16107279,glowAlpha:.7,glowScale:{x:2.5,y:2.5}}));let i=this.base.addChild(d.Sprite.from("jackpot-coins-1.png"));i.anchor.set(.5),i.x=20+i.width/2-325,i=this.base.addChild(d.Sprite.from("jackpot-coins-2.png")),i.anchor.set(.5),i.x=305-i.width/2;const s=this.addChild(new Q.a(e,t));s.x=195,s.y=-10,t.fill=16763904,t.fontSize=68,t.fontFamily="Titan One";const r=this.addChild(new Q.a("jackpot",t));r.x=210,r.y=-80}}function jt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Mt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let Nt;class PrizesLabel_PrizesLabel extends d.Container{constructor(e){void 0===e&&(e={}),super(),Mt(this,"base",void 0),Nt||(Nt={"mystery-box":{rare:{labels:[{label:"prize-key"},{label:"prize-scoreBoosters"},{label:"prize-trophies"},{label:"prize-n-coins",params:{num:5e3}}],icons:[this.getKeySprite(),this.getBoostSprite("icon-item-scorebooster.png"),d.Sprite.from("trophy-headphones-stroke.png"),d.Sprite.from("coin-pouches-stroke.png")]},special:{labels:[{label:"prize-headstarts"},{label:"prize-upto-boards",params:{num:10}},{label:"prize-upto-coins",params:{num:2500}}],icons:[this.getBoostSprite("icon-item-headstart.png"),this.getBoostSprite("icon-item-hoverboard.png"),d.Sprite.from("coin-pouch-stroke.png")]},common:{icons:[d.Sprite.from("trophy-fresh-token.png"),d.Sprite.from("trophy-yutani-token.png"),d.Sprite.from("trophy-spike-token.png"),d.Sprite.from("trophy-tricky-token.png")]}},"super-mystery-box":{rare:{labels:[{label:"prize-key"},{label:"prize-scoreBoosters"},{label:"prize-trophies"},{label:"prize-n-coins",params:{num:5e4}}],icons:[this.getKeySprite(),this.getBoostSprite("icon-item-scorebooster.png"),d.Sprite.from("trophy-headphones-stroke.png"),d.Sprite.from("coin-pouches-stroke.png")]},special:{labels:[{label:"prize-headstarts"},{label:"prize-upto-boards",params:{num:20}},{label:"prize-upto-coins",params:{num:8e3}}],icons:[this.getBoostSprite("icon-item-headstart.png"),this.getBoostSprite("icon-item-hoverboard.png"),d.Sprite.from("coin-pouch-stroke.png")]},common:{icons:[d.Sprite.from("trophy-fresh-token.png"),d.Sprite.from("trophy-yutani-token.png"),d.Sprite.from("trophy-spike-token.png"),d.Sprite.from("trophy-tricky-token.png")]}},"mini-mystery-box":{rare:{labels:[{label:"prize-upto-keys",params:{num:2}},{label:"prize-scoreBoosters"}],icons:[this.getKeySprite(),this.getBoostSprite("icon-item-scorebooster.png")]},common:{labels:[{label:"prize-upto-boards",params:{num:3}},{label:"prize-upto-coins",params:{num:2e3}}],icons:[this.getBoostSprite("icon-item-hoverboard.png"),d.Sprite.from("coin-pouch-stroke.png")]}}});const t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(i),!0).forEach((function(t){Mt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({round:20,w:650,h:180,borderColor:-1,color:15375396,label:"",labelSize:40,type:"mystery-box"},e);this.base=this.addChild(te.a.roundRectBorder(t));const i=this.addChild(te.a.roundRectBorder(t)),s={w:75,h:t.h,color:0,alpha:.28,borderColor:-1},r=this.addChild(te.a.rect(s));r.mask=i,r.x=37.5-this.base.width/2;const a={fill:16777215,fontSize:t.labelSize,fontFamily:"Lilita One",dropShadow:!0,dropShadowAngle:.8*Math.PI,dropShadowDistance:3,anchorX:.5,anchorY:.5};r.addChild(new Q.a(t.label,a)).rotation=-Math.PI/2;const{labels:o,icons:n}=Nt[t.type][t.label],l=n.length;for(let e=0;e<l;e++){const i=this.addChild((new d.Graphics).beginFill(16777215,.4).drawRect(-2,-t.h/2,4,t.h).endFill()),s=(this.base.width-r.width)/l;i.x=r.width-this.base.width/2+s*(e+1)}o&&o.forEach((e,t)=>{let{label:i,params:s}=e;a.fontSize=30,a.params=s,a.align="center",a.dropShadowAngle=0;const o=this.addChild(new Q.a(i,a)),n=(this.base.width-r.width)/l;o.x=n/2+r.width-this.base.width/2+n*t,o.y=this.height/2-45});for(let e=0;e<n.length;e++){const t=this.addChild(n[e]),i=(this.base.width-r.width)/l;t.anchor.set(.5),t.x=i/2+r.width-this.base.width/2+i*e,o?t.y=t.height/2+20-this.height/2:t.scale.set(1.2)}}getKeySprite(){const e=d.Sprite.from("icon-key-large.png");return e.scale.set(.65),e}getBoostSprite(e){const t=d.Sprite.from("base-item.png");return t.addChild(d.Sprite.from(e)).anchor.set(.5),t}}function Et(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Bt=[{type:"mini-mystery-box",label:"in-mini-mystery",icon:"icon-item-mini-mystery-box.png"},{type:"mystery-box",label:"in-mystery",icon:"icon-item-mystery-box.png",jackpotLabel:"jackpot-coins"},{type:"super-mystery-box",label:"in-super-mystery",icon:"icon-item-super-mystery-box.png",jackpotLabel:"super-jackpot-coins"}];class MysteryBoxPrizes_MysteryBoxPrizes extends ce.a{constructor(){super(...arguments),Et(this,"bg",void 0),Et(this,"base",void 0),Et(this,"btnClose",void 0),Et(this,"panels",new Map)}onBuild(){this.bg=this.addChild(new he.b(he.a.BLACK)),this.bg.interactive=!0,this.bg.on("pointertap",()=>this.close());this.btnClose=this.addChild(new CloseButton_CloseButton({onTap:()=>this.close()})),this.btnClose.x=-335,this.btnClose.y=-457.5;for(let e=0;e<Bt.length;e++){const t=this.addChild(new d.Container),i=Bt[e],s={fill:931408,fontSize:68,fontFamily:"Titan One"},r="mini-mystery-box"===i.type,a=r?680:935,o=this.makeLabel("prizes",s,t);o.x=-o.width/2,o.y=-a/2+40,s.fill=226469,s.fontSize=47,s.fontFamily="Lilita One";const n=this.makeLabel(i.label,s,t);n.y=-a/2+100;const l=t.addChild(d.Sprite.from(i.icon));l.scale.set(1.2),l.anchor.set(.5,0),n.x=-n.width/2-l.width/2,l.x=n.width/2+5,l.y=n.y-5;const h=i.type;let c=t.addChild(new PrizesLabel_PrizesLabel({label:"rare",type:h})),u=0;if(i.jackpotLabel){const e=t.addChild(new JackpotLabel_JackpotLabel(i.jackpotLabel));e.y=-190,u+=e.y+e.height-10}c.y=u,u+=c.height/2,r||(c=t.addChild(new PrizesLabel_PrizesLabel({color:8103753,label:"special",sections:3,type:h})),c.y=u+c.height/2+10,u=c.y+c.height/2),(E.a.tokens||r)&&(c=t.addChild(new PrizesLabel_PrizesLabel({color:5809608,h:r?180:135,label:"common",labelSize:33,type:h})),c.y=u+c.height/2+10),this.panels.set(i.type,t)}}onOpen(e){this.panels.forEach((t,i)=>{t.visible=e===i});const t="mini-mystery-box"===e?680:935;this.removeChild(this.base),this.base=this.addChildAt(te.a.rectComp({w:690,h:t,color:15658734,round:16},{w:712,h:t+24,image:"box-border-grey.png",x:5,y:6}),1),this.base.interactive=!0,this.btnClose.y=-t/2+10}onResize(){const e=this.viewportWidth,t=this.viewportHeight;this.x=.5*e,this.y=.5*t,this.bg.resize(e,t)}makeLabel(e,t,i){return i.addChild(new Q.a(e,t))}}function zt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class MyTourSection_MyTourSection extends d.Container{constructor(e){super(),zt(this,"headerIcon",void 0),zt(this,"h1Label",void 0),zt(this,"h2Label",void 0),this.headerIcon=this.addChild(d.Sprite.from(e.headerIcon)),this.headerIcon.scale.set(1.3),this.headerIcon.anchor.set(1,0),this.h1Label=this.addChild(new Q.a(e.h1Options.label,e.h1Options)),this.h2Label=this.addChild(new Q.a(e.h2Options.label,e.h2Options))}open(e){}close(){}resize(e,t){this.headerIcon.position.set(e/2-45,-t/2+15),this.h1Label.position.set(-e/2+40,-t/2+25),this.h2Label.position.set(-e/2+40,this.h1Label.y+this.h1Label.height)}}function Ht(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class MissionModule_MissionModule extends d.Container{constructor(){var e;super(),Ht(this,"mission",void 0),Ht(this,"descriptionLabel",void 0),Ht(this,"amountLabel",void 0),Ht(this,"progressLabel",void 0),Ht(this,"progressFill",void 0),Ht(this,"completedBg",void 0),Ht(this,"onMissionComplete",new p.Signal),this.addChild(te.a.rectColor({w:580,h:172,color:1198e4,round:18})),this.completedBg=this.addChild(new Ge.a({radius:20,w:580,h:172,color:7386369,glow:16777215,glowScale:{x:4,y:4},glowAlpha:.5,mask:te.a.rectColor({w:580,h:172,color:1198e4,round:18}),center:{x:0,y:1}})),this.completedBg.interactive=!0;const t=this.completedBg.addChild(new Q.a("completed",{align:"left",fill:4883456,fontSize:45,dropShadow:!0,dropShadowColor:16777215,dropShadowDistance:1,fontFamily:"Lilita One",anchorX:.5,anchorY:.5}));t.position.set(-15,43);const i=this.completedBg.addChild(d.Sprite.from("mission-completed-checkmark.png"));i.anchor.set(.5),i.position.set(t.width/2+i.width/2-5,43),this.addChild(te.a.rectColor({w:580,h:86,color:5668521,round:18,y:-43})),this.addChild(te.a.rectBorder({w:100,h:55,color:7967662,round:6,y:-43,x:220,borderWidth:3,borderAlpha:.2}));const s=this.addChild(new d.Container);this.progressFill=s.addChild((new d.Graphics).beginFill(6799299).drawRect(0,0,100,54)),this.progressFill.mask=this.addChild((new d.Graphics).beginFill(6799299).drawRoundedRect(170,-70,100,54,6)),s.position.set(170,-70),this.descriptionLabel=this.addChild(new Q.a("jackpot-coins",{align:"left",fill:16777215,fontSize:35,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:2,lineHeight:32,wordWrap:!0,wordWrapWidth:430})),this.descriptionLabel.x=-275,this.amountLabel=this.descriptionLabel.addChild(new d.Text("",{align:"left",fill:16763904,fontSize:35,fontFamily:"Lilita One"})),this.progressLabel=this.addChild(new d.Text("0",{align:"left",fill:16777215,fontSize:35,fontFamily:"Lilita One"})),this.progressLabel.anchor.set(.5),this.progressLabel.position.set(220,-43);const r=this.addChildAt(new Q.a("skip-mission",{align:"left",fill:6720182,fontSize:30,fontFamily:"Lilita One",anchorY:.5}),1);r.x=-270,r.y=43;const a=te.a.rectColor({w:178,h:52,color:7320832,round:12}),o=this.addChildAt(new CurrencyButton_CurrencyButton({base:a,labelSize:25}),1);o.value=1700,null===(e=o.icon)||void 0===e||e.scale.set(.6),o.position.set(270-o.width/2,43),o.onTap=()=>{$i.user.coins>=o.value?($i.user.coins-=o.value,this.mission.completed=!0,this.mission.progress=this.mission.params.amount,$i.user.progressMission(this.mission.id,this.mission.params.amount,this.mission.set)):($i.notEnoughCurrency.setup(o.value,()=>null,"coins"),$i.notEnoughCurrency.open())}}populate(e){const{id:t,params:i,hideAmountLabel:s}=e;if(this.descriptionLabel.id=t,this.descriptionLabel.options.params=i,this.descriptionLabel.refresh(),this.descriptionLabel.y=-this.descriptionLabel.height/2-43,this.amountLabel.visible=!s,i){const e=this.descriptionLabel.display.text;let t="";for(let i=0;i<e.length;i++)if(!isNaN(parseInt(e[i],10))){t=e.substr(0,i);break}this.amountLabel.text=t,this.amountLabel.x=this.amountLabel.width-1,this.amountLabel.text=""+i.amount}this.mission=e,this.completedBg.visible=e.completed;const r=e.progress||0;this.progressFill.scale.x=r/this.mission.params.amount,this.progressLabel.text=""+r,this.progressLabel.width>90&&this.progressLabel.scale.set(90/this.progressLabel.width)}progressMission(){const e=this.mission;this.completedBg.visible=e.completed;const t=e.progress||0;this.progressFill.scale.x=t/this.mission.params.amount,this.progressLabel.text=""+t,this.progressLabel.width>90&&this.progressLabel.scale.set(90/this.progressLabel.width),this.mission.completed&&this.onMissionComplete.dispatch()}updateTransform(){super.updateTransform(),this.mission&&!this.completedBg.visible&&this.progressMission()}}var Dt=i(177);function Rt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class MissionSection_MissionSection extends MyTourSection_MyTourSection{constructor(){const e={headerIcon:"missions-splat.png",h1Options:{label:"missions",fill:469322,fontSize:40,fontFamily:"Titan One"},h2Options:{label:"mission-set",params:{num:1},fill:3833791,fontSize:35,fontFamily:"Lilita One"}};super(e),Rt(this,"progressCounter",void 0),Rt(this,"multiplierLabel",void 0),Rt(this,"missionModules",void 0),Rt(this,"completedMissions",void 0),this.headerIcon.scale.set(1.1),this.headerIcon.tint=7312139;const t=this.headerIcon.addChild(d.Sprite.from(e.headerIcon));t.anchor.set(1,0),t.tint=7320832,t.position.set(-3,-2);const i=this.headerIcon.addChild(new d.Container),{width:s,height:r}=this.headerIcon,a=i.addChild(this.makeGradientText("x"));this.multiplierLabel=i.addChild(this.makeGradientText("1")),a.x=-a.width/2,this.multiplierLabel.x=this.multiplierLabel.width/2.3,i.position.set(-s/2-this.multiplierLabel.width/4,r/2-30),i.rotation=Math.PI/20,this.progressCounter=this.addChild(new Dt.a),this.missionModules=[];for(let e=0;e<3;e++){const t=this.addChildAt(new MissionModule_MissionModule,0);t.y=(t.height+15)*e-135,t.onMissionComplete.add(()=>{this.completedMissions++,3===this.completedMissions&&this.initMissions()}),this.missionModules.push(t)}}open(){this.initMissions()}initMissions(){const e=$i.data.getCurrentMissions(),t=$i.data.getMissionSet();this.completedMissions=0;for(let t=0;t<e.length;t++){const i=e[t];this.progressCounter.setProgress(this.completedMissions+3,i.completed),this.missionModules[t].populate(i),this.completedMissions+=Number(i.completed)}const i=t+1+Number(3===this.completedMissions);this.multiplierLabel.text=""+i,this.multiplierLabel.gradient.text=""+i,this.h2Label.options.params={num:i},this.h2Label.refresh()}makeGradientText(e){const t=new d.Text(e,{fill:16777215,fontSize:100,stroke:0,strokeThickness:15,fontFamily:"Lilita One"}),i=t.addChild(new d.Text(e,{fill:[16767036,16753152],fillGradientStops:[0,.9],fontSize:98,fontFamily:"Lilita One"}));return t.anchor.set(0,.5),i.anchor.set(0,.5),i.position.set(9,3),t.gradient=i,t}resize(e,t){super.resize(e,t),this.progressCounter.position.set(this.h2Label.x+83,this.h2Label.y+this.h2Label.height+this.progressCounter.height/2)}}var Lt=i(175),It=i(43),Ft=i(25);function At(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class MysteryBoxThumb_MysteryBoxThumb extends Thumb3D_Thumb3D{constructor(e){super(),At(this,"entity",void 0),this.setup(e)}tween(e){void 0===e&&(e=0);const t=this.entity;Ft.a.killTweensOf(t),MysteryBoxThumb_MysteryBoxThumb.scene.stopAll(),MysteryBoxThumb_MysteryBoxThumb.scene.play(this.thumbId),this.shadow.width=.7*this.sprite.width,this.shadow.scale.y=.5*this.shadow.scale.x,this.shadow.alpha=.3,this.sprite.y=190,this.shadow.y=200,0===e?(this.sprite.y=0,this.shadow.y=10,t.rx=-Math.PI/5.5,t.ry=Math.PI/4,t.rz=0,t.scale.set(.0042),t.y=0,Ft.a.to(t,7,{ry:-Math.PI/4,ease:ie.c.easeInOut}).yoyo(!0).repeat(-1)):1===e?(t.ry=.25,t.rx=-.56,t.rz=-.125,t.scale.set(.008),t.y=.02,Ft.a.to(t,1.5,{y:.045}).yoyo(!0).repeat(-1),Ft.a.to(this.shadow.scale,1.5,{y:this.shadow.scale.y/2,x:this.shadow.scale.x/2}).yoyo(!0).repeat(-1)):2===e&&(t.ry=.25,t.scale.set(.008),Ft.a.to(t,.3,{y:.04}),Ft.a.to(t,.5,{ry:t.ry+5*Math.PI}),Ft.a.to(t,.5,{sx:0,sy:0,sz:0}),Ft.a.to(this.shadow.scale,.5,{x:0,y:0}),Ft.a.to(this.shadow,.5,{alpha:0}))}setup(e){void 0===e&&(e="mysteryBox_default"),MysteryBoxThumb_MysteryBoxThumb.scene||(MysteryBoxThumb_MysteryBoxThumb.scene=new ThumbScene3D_ThumbScene3D);const t=MysteryBoxThumb_MysteryBoxThumb.scene;if(!t.entitiesMap.get(e)){const i=$i.library.getEntity(e);t.addScene(e,i,400)}this.entity=t.entitiesMap.get(e),this.sprite.texture=this.getTexture(e),MysteryBoxThumb_MysteryBoxThumb.scene.play(e),this.sprite.scale.x=1,this.sprite.scale.y=-1,this.sprite.anchor.set(.5,0);const i=.8*this.sprite.height,s=.5*this.sprite.width;this.hitArea=new d.Rectangle(-s/2,.9*-this.sprite.height,s,i),this.thumbId=e,this.shadow.anchor.set(.5,0),this.shadow.width=.7*this.sprite.width,this.shadow.scale.y=.5*this.shadow.scale.x}getTexture(e){const t=MysteryBoxThumb_MysteryBoxThumb.scene.entitiesMap.get(e),i=MysteryBoxThumb_MysteryBoxThumb.scene.textures.get(e);if(!i||!t)throw new Error("Character not registered: "+e);return MysteryBoxThumb_MysteryBoxThumb.scene.play(e),MysteryBoxThumb_MysteryBoxThumb.scene.renderChildren(),MysteryBoxThumb_MysteryBoxThumb.scene.stop(e),i}}At(MysteryBoxThumb_MysteryBoxThumb,"scene",void 0);class CoinPouches_CoinPouches extends d.Container{constructor(e){super();let t=1;for(let i=0;i<e;i+=t){const s=new d.Container;for(let e=0;e<t;e++){const t=s.addChild(d.Sprite.from("coin-pouch-icon.png"));t.x=(t.width-20)*e}s.x=-s.width/2,s.y=-30/e*i,this.addChildAt(s,0),t++}}}function Gt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Ut(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(i),!0).forEach((function(t){Vt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Gt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Vt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Wt={label:"Mystery",align:"center",fontFamily:"Lilita One",fontSize:24,fill:16777215,dropShadow:!0,dropShadowDistance:2,dropShadowColor:0,x:0,y:50,anchor:{x:.5,y:0},index:-1};class WordHuntPrizes_WordHuntPrizes extends d.Container{constructor(){super(),Vt(this,"normalPrizeBase",void 0),Vt(this,"superPrizeBase",void 0),Vt(this,"todayHighlight",void 0),Vt(this,"dayLabels",[]),Vt(this,"checkMarks",[]),Vt(this,"mysteryBoxThumb",void 0);const e=It.k;this.normalPrizeBase=this.addChild(te.a.roundRectBorder({round:20,w:564,h:142,borderColor:-1,color:1873108})),this.normalPrizeBase.y=20;for(let e=0;e<3;e++){const t=this.makeDashedLine();t.rotation=Math.PI/2;const i=this.normalPrizeBase.width/4;t.x=i*e-i,t.y=-t.width/2,this.normalPrizeBase.addChild(t)}this.superPrizeBase=this.addChild(new Ge.a({radius:20,w:564,h:202,color:16370236,glow:16777215,glowScale:{x:2.5,y:2.5}})),this.superPrizeBase.y=this.normalPrizeBase.height/2+101+40,this.todayHighlight=this.addChild(te.a.roundRectBorder({round:20,w:141,h:192,borderColor:-1,color:3568552})),this.todayHighlight.x=this.todayHighlight.width/2-this.normalPrizeBase.width/2+this.normalPrizeBase.width/4*e,this.todayHighlight.y=-5,this.todayHighlight.visible=e<4;const t=this.makeDashedLine();t.x=-t.width/2,t.y=-47,this.todayHighlight.addChild(t);for(let t=0;t<5;t++){const i=e===t,s=i?"Today":"Day "+(t+1),r=i?16777215:469322,a=this.addChild(new d.Text(s,{align:"center",fontFamily:"Lilita One",fontSize:32,fill:r,dropShadow:i,dropShadowDistance:3,dropShadowColor:0}));a.anchor.set(.5),a.x=70.5-this.normalPrizeBase.width/2+141*t,a.y=a.height/2-this.todayHighlight.height/2,this.dayLabels.push(a)}const i=this.dayLabels[4];i.style={align:"center",fontFamily:"Lilita One",fontSize:32,fill:8198917,dropShadow:!0,dropShadowDistance:2,dropShadowColor:16374155},e<4&&(i.text+="+"),i.position.set(this.dayLabels[0].x,this.superPrizeBase.y-101+.8*i.height);let s=this.addChild(d.Sprite.from("mystery-box-icon.png"));s.scale.set(.6),s.anchor.x=.5,this.setPrizeElementX(s,0),s.y=-35,this.makeCheck(s.x),s=this.addChild(d.Sprite.from("mystery-box-icon.png")),s.scale.set(.6),s.anchor.x=.5,this.setPrizeElementX(s,1),s.y=-35,this.makeCheck(s.x),s=this.addChild(new CoinPouches_CoinPouches(3)),s.scale.set(.65),this.setPrizeElementX(s,2),s.y=-20,this.makeCheck(s.x),s=this.addChild(new CoinPouches_CoinPouches(6)),s.scale.set(.65),this.setPrizeElementX(s,3),s.y=-20,this.makeCheck(s.x),this.mysteryBoxThumb=this.addChild(new MysteryBoxThumb_MysteryBoxThumb("mysteryBox_super")),this.mysteryBoxThumb.y=280,this.makeCheck(this.mysteryBoxThumb.x+20,200),this.makePrizeTag({index:0}),this.makePrizeTag({index:1}),this.makePrizeTag({label:"Super Mystery Box",y:265,fontSize:32,fill:8198917,dropShadowColor:16374155}),this.makeCoinsTag(2),this.makeCoinsTag(3),this.makePrizeTag({label:"Super Mystery Box",y:265,fontSize:32,fill:8198917,dropShadowColor:16374155}),$i.user.completedHunts.forEach((e,t)=>{this.checkMarks[t].visible=!0}),It.i.add(()=>{this.checkMarks[$i.user.completedHunts.length-1].visible=!0})}show(){this.mysteryBoxThumb.tween(0)}makePrizeTag(e){const t=Ut(Ut({},Wt),e),i=this.addChild(new d.Text(t.label,t));return i.anchor.set(t.anchor.x,t.anchor.y),i.y=t.y,-1!==t.index&&this.setPrizeElementX(i,t.index),i}makeCheck(e,t){void 0===t&&(t=-10);const i=this.addChild(d.Sprite.from("checkmark-icon.png"));return this.checkMarks.push(i),i.anchor.x=.2,i.x=e,i.y=t,i.visible=!1,i}makeCoinsTag(e){const t=It.l[e],i=this.addChild(new xe.a({fontSize:40,coins:t}));return i.y=65,i.scale.set(.6),this.setPrizeElementX(i,e),i.x-=30,i}setPrizeElementX(e,t){e.x=this.normalPrizeBase.width/4*t+this.normalPrizeBase.width/8-this.normalPrizeBase.width/2}makeDashedLine(){const e=new d.Container;return e.addChild((new d.Graphics).beginFill(16777215).drawRect(0,0,15,4).endFill(),(new d.Graphics).beginFill(16777215).drawRect(25,0,15,4).endFill(),(new d.Graphics).beginFill(16777215).drawRect(50,0,15,4).endFill(),(new d.Graphics).beginFill(16777215).drawRect(75,0,15,4).endFill(),(new d.Graphics).beginFill(16777215).drawRect(100,0,15,4).endFill()),e}}var Kt=i(176);function Jt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class WordHuntSection_WordHuntSection extends MyTourSection_MyTourSection{constructor(){super({headerIcon:"abc-graffiti-icon.png",h1Options:{label:"word-hunt",fill:469322,fontSize:40,fontFamily:"Titan One"},h2Options:{label:"collect-letters",fill:7320832,fontSize:35,fontFamily:"Lilita One"}}),Jt(this,"timer",void 0),Jt(this,"lettersBox",void 0),Jt(this,"prizes",void 0),this.timer=this.addChild(new Kt.a),this.lettersBox=this.addChildAt(new Lt.a,0),this.lettersBox.y=-180,this.prizes=this.addChild(new WordHuntPrizes_WordHuntPrizes)}open(){this.prizes.show()}resize(e,t){super.resize(e,t),this.timer.x=this.h2Label.x+this.timer.base.width/2,this.timer.y=this.h2Label.y+this.h2Label.height+this.timer.base.height/2+5}}function Xt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class MyTourPanel_MyTourPanel extends ce.a{constructor(){super(...arguments),Xt(this,"w",0),Xt(this,"h",0),Xt(this,"panel",void 0),Xt(this,"section","hunt"),Xt(this,"sections",void 0)}onBuild(){this.panel=this.addChild(new ke.a);const e={bg:"navigation-button-red.png",icon:"word-hunt-icon.png",label:"word-hunt"},t=new ee.a(e);e.icon="icon-white-missions.png",e.label="missions";const i=new ee.a(e);t.onTap=()=>{this.setSection("hunt")},i.onTap=()=>{this.setSection("missions")},this.panel.addButton(t,i),this.sections={hunt:this.panel.addChild(new WordHuntSection_WordHuntSection),missions:this.panel.addChild(new MissionSection_MissionSection)},this.sections.missions.visible=!1}setSection(e){e!==this.section&&(this.sections[this.section].close(),this.sections[this.section].visible=!1,this.section=e,this.sections[this.section].open(),this.sections[this.section].visible=!0)}onOpen(){this.sections[this.section].open()}onClose(){this.sections[this.section].close()}onResize(){this.w=this.viewportWidth,this.h=this.viewportHeight,this.x=.5*this.w,this.y=.5*this.h,this.panel.resize(this.w,this.h),this.sections.hunt.resize(this.panel.base.width,this.panel.base.height),this.sections.missions.resize(this.panel.base.width,this.panel.base.height)}}function Yt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class NotEnoughCurrency_NotEnoughCurrency extends ce.a{constructor(){super(...arguments),Yt(this,"bg",void 0),Yt(this,"content",void 0),Yt(this,"base",void 0),Yt(this,"labelTitle",void 0),Yt(this,"labelMessage",void 0),Yt(this,"btnClose",void 0),Yt(this,"requiredCurrency",0),Yt(this,"onExit",()=>{}),Yt(this,"currencyIcon",void 0),Yt(this,"currencyType",void 0)}onBuild(){this.bg=new he.b(he.a.BLACK),this.addChild(this.bg),this.bg.interactive=!0,this.bg.on("pointertap",()=>this.exit()),this.content=new d.Container,this.addChild(this.content);const e=600;this.base=te.a.rectComp({w:e,h:300,color:15658734,round:16},{w:622,h:324,image:"box-border-grey.png",x:5,y:6}),this.content.addChild(this.base),this.base.interactive=!0,this.base.on("pointertap",()=>this.exit());const t=d.Sprite.from("background-splat.png"),i=d.Sprite.from("background-splat.png"),s=d.Sprite.from(d.Texture.WHITE);t.anchor.set(.5),t.x=.28*e,t.y=-20,this.content.addChild(t),t.tint=7362202,i.anchor.set(.5),i.x=t.x-3,i.y=t.y-3,this.content.addChild(i),i.tint=11311080,s.anchor.set(.5),s.x=t.x,s.y=t.y-20,this.currencyIcon=s,this.content.addChild(s),this.labelTitle=new Q.a("not_enough_keys_title",{align:"left",fill:478078,fontSize:50,fontFamily:"Titan One",dropShadow:!1,dropShadowDistance:1,anchorX:0,anchorY:0}),this.labelTitle.x=-260,this.labelTitle.y=-100,this.content.addChild(this.labelTitle),this.labelMessage=new Q.a("not_enough_keys_message",{align:"left",fill:1664667,fontSize:30,fontFamily:"Titan One",dropShadow:!1,dropShadowDistance:1,anchorX:0,anchorY:0,params:{num:5}}),this.labelMessage.x=this.labelTitle.x,this.labelMessage.y=this.labelTitle.y+this.labelTitle.height+20,this.content.addChild(this.labelMessage),this.btnClose=new CloseButton_CloseButton({onTap:()=>this.exit()}),this.content.addChild(this.btnClose),this.btnClose.x=-290,this.btnClose.y=-140}setup(e,t,i){this.currencyType=i,this.requiredCurrency=e-$i.user.gameSettings.currencies[i],this.onExit=t}onOpen(){this.labelTitle.id="not_enough_"+this.currencyType+"_title",this.labelMessage.id="not_enough_"+this.currencyType+"_message",this.currencyIcon.texture=d.Texture.from("icon-"+this.currencyType.slice(0,-1)+"-large.png"),this.labelMessage.options.params={num:this.requiredCurrency},this.labelTitle.refresh(),this.labelMessage.refresh()}onResize(){const e=this.viewportWidth,t=this.viewportHeight;this.x=.5*e,this.y=.5*t,this.bg.resize(e,t)}exit(){this.close(),this.onExit()}}var qt=i(59);function Zt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Notification_Notification extends ce.a{constructor(){super(...arguments),Zt(this,"content",void 0),Zt(this,"base",void 0),Zt(this,"label",void 0),Zt(this,"icon",void 0),Zt(this,"layer",1),Zt(this,"queue",[]),Zt(this,"showing",!1)}onBuild(){this.content=new d.Container,this.addChild(this.content),this.base=new d.NineSlicePlane(d.Texture.from("base-blue.png"),20,20,20,20),this.content.addChild(this.base),this.icon=new d.Sprite(d.Texture.from("spraycan-big-bronze.png")),this.icon.anchor.set(.5),this.content.addChild(this.icon),this.label=new d.Text("AAA",{fontFamily:"Lilita One",align:"left",fill:16777215,fontSize:30}),this.label.anchor.set(0,.5),this.content.addChild(this.label)}onResize(){this.x=this.viewportWidth/2,this.y=100}append(e){this.queue.push(e),this.processQueue()}processQueue(){if(this.queue.length&&!this.showing){const e=this.queue.shift();e&&this.show(e)}}async show(e){if(this.showing)return;this.showing=!0,await Object(qt.a)(.5),$i.sound.play("mission-notification"),this.open(),this.label.text=e.text,this.icon.texture=d.Texture.from(e.icon),this.base.height=e.height?e.height:this.icon.height+20;const t=Math.max(this.icon.width,this.base.height);this.base.width=this.label.width+t+50,this.base.x=-this.base.width/2,this.base.y=-this.base.height/2,this.icon.x=-this.base.width/2+t/2+10,this.label.x=this.icon.x+t/2+10,this.content.y=-300,await ie.g.to(this.content,.3,{y:0,ease:"sine.out"}),await Object(qt.a)(3),await ie.g.to(this.content,.3,{y:-300,ease:"sine.in"}),this.close(),this.showing=!1,this.processQueue()}}function Qt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class PrizeThumb_PrizeThumb extends Thumb3D_Thumb3D{constructor(e){super(),Qt(this,"animating",!1),Qt(this,"entity",void 0),this.setup(e)}tween(){const e=this.entity;this.reset(),PrizeThumb_PrizeThumb.scene.play(this.thumbId),Ft.a.to(e,2,{sx:.007,sy:.007,sz:.007}),Ft.a.to(e,4,{ry:e.ry-4*Math.PI}),Ft.a.to(this.shadow,2,{alpha:.3}),Ft.a.to(this.shadow,2,{width:.7*this.sprite.width,height:.7*this.sprite.width/2})}reset(){this.shadow.alpha=0,this.shadow.scale.set(0),this.entity.scale.set(0),Ft.a.killTweensOf(this.entity),PrizeThumb_PrizeThumb.scene.stopAll(),PrizeThumb_PrizeThumb.scene.play(this.thumbId)}setup(e,t){PrizeThumb_PrizeThumb.scene||(PrizeThumb_PrizeThumb.scene=new ThumbScene3D_ThumbScene3D);const i=PrizeThumb_PrizeThumb.scene;if(!i.entitiesMap.get(e)){const s=$i.library.getEntity(e,{map:t}),r=new xt.a;"board_default_base"===e&&(s.rx=Math.PI/2.35,s.ry=Math.PI/2),r.rx=-Math.PI/4,r.addChild(s),i.addScene(e,r,400)}this.entity=i.entitiesMap.get(e),this.entity.scale.set(0),this.sprite.texture=this.getTexture(e),this.sprite.scale.x=1,this.sprite.scale.y=-1,this.sprite.anchor.set(.5),this.sprite.y=-110,this.shadow.y=180;const s=.8*this.sprite.height,r=.5*this.sprite.width;this.hitArea=new d.Rectangle(-r/2,.9*-this.sprite.height,r,s),this.thumbId=e,this.shadow.anchor.set(.5),this.shadow.width=.7*this.sprite.width,this.shadow.scale.y=.5*this.shadow.scale.x}getTexture(e){const t=PrizeThumb_PrizeThumb.scene.entitiesMap.get(e),i=PrizeThumb_PrizeThumb.scene.textures.get(e);if(!i||!t)throw new Error("Character not registered: "+e);return PrizeThumb_PrizeThumb.scene.play(e),PrizeThumb_PrizeThumb.scene.renderChildren(),PrizeThumb_PrizeThumb.scene.stop(e),i}}function $t(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Qt(PrizeThumb_PrizeThumb,"scene",void 0);const ei={hoverboard:"board-hoverboard-tex"},ti={coins:"currency_coin",keys:"currency_key",hoverboard:"board_default_base",headstart:"headstartToken",scoreBooster:"ScoreBooster"},ii={coins:"Coin",keys:"Key",hoverboard:"Hoverboard",headstart:"Headstart",scoreBooster:"Score Booster"};var si=function(e){return e[e.OPENING=0]="OPENING",e[e.CLOSING=1]="CLOSING",e[e.REPEATING=2]="REPEATING",e}(si||{});class PrizeScreen_PrizeScreen extends ce.a{constructor(){super(...arguments),$t(this,"state",si.OPENING),$t(this,"bg",void 0),$t(this,"prizeButton",void 0),$t(this,"currencies",void 0),$t(this,"hint",void 0),$t(this,"mysteryBoxThumb",void 0),$t(this,"prizeThumb",void 0),$t(this,"rays",void 0),$t(this,"prizeText",void 0),$t(this,"onExitCallback",void 0),$t(this,"prizes",[]),$t(this,"boxType",""),$t(this,"currentPrize",void 0),$t(this,"blockEvents",!1),$t(this,"onOpenPrize",new p.Signal),$t(this,"onKeyDown",e=>{e.repeat||this.blockEvents||"Spacebar"!==e.key&&" "!==e.key||this.onPointerTap()}),$t(this,"onPointerTap",()=>{this.state===si.OPENING?this.openPrize():this.state===si.CLOSING?this.close():this.state===si.REPEATING&&this.setup()})}onBuild(){var e;this.bg=this.addChild(d.Sprite.from("prizescreen-bg.png")),this.bg.anchor.set(.5),this.bg.interactive=!0,this.prizeButton=this.addChild(new Oe.a({base:te.a.rectShadow({round:12,w:200,h:90,shadowAlpha:.15,shadowDistance:2,color:14974720}),icon:"mystery-box-icon.png",iconX:-50,label:"prizes",labelX:40,labelFont:"Lilita One",labelShadow:2,labelSize:32,onTap:()=>$i.prizesPanel.open(this.boxType)})),null===(e=this.prizeButton.icon)||void 0===e||e.scale.set(.5),this.currencies=this.addChild(new UserCurrencies_UserCurrencies);const t=d.Sprite.from("background-superglow.png");t.anchor.set(.5),this.rays=this.addChild(new Ge.a({baseAlpha:0,radius:20,w:650,h:650,color:16777062,glow:16777062,glowScale:{x:7,y:7},mask:t,blendMode:d.BLEND_MODES.ADD,raysAlpha:.75})),this.rays.scale.set(1.2),this.mysteryBoxThumb=this.addChild(new MysteryBoxThumb_MysteryBoxThumb("mysteryBox_default")),this.prizeThumb=this.addChild(new PrizeThumb_PrizeThumb("currency_key")),this.hint=this.addChild(new d.Text("",{fontSize:45,fill:16777215,fontFamily:"Titan One"})),this.hint.anchor.set(.5),this.prizeText=this.addChild(new d.Text("",{fontSize:45,fill:0,fontFamily:"Titan One",dropShadow:!0,dropShadowColor:16777215})),this.prizeText.anchor.set(.5),ve.a.SDK.onBreakStart.add(()=>{this.blockEvents=!0}),ve.a.SDK.onBreakComplete.add(()=>{this.blockEvents=!1})}onOpen(e){this.prizes=e.prizes,this.onExitCallback=e.onExitCallback,this.prizes.length?(this.currencies.coins=$i.user.coins,this.currencies.keys=$i.user.keys,this.setup()):this.close()}setup(){this.currentPrize=this.prizes.shift();const{type:e,amount:t,boxType:i}=this.currentPrize;let s=ii[e];this.state=si.OPENING,t>1&&(s+="s"),this.prizeText.text=t+" "+s,this.prizeText.alpha=0;const r="mystery-box"===i||"mini-mystery-box"===i;this.prizeThumb.reset(),this.mysteryBoxThumb.setup(r?"mysteryBox_default":"mysteryBox_super"),this.prizeThumb.setup(ti[e],ei[e]),this.hint.text=x.b.translate("prize-screen-open"),this.hint.alpha=1,Ft.a.to(this.hint,1.3,{alpha:.1}).yoyo(!0).repeat(-1),this.bg.on("pointertap",this.onPointerTap),window.addEventListener("keydown",this.onKeyDown),this.mysteryBoxThumb.tween(1),this.rays.alpha=0,this.rays.mask.scale.set(0),this.rays.rotation=0,this.mysteryBoxThumb.visible=!!i,this.prizeButton.visible=!!i,this.boxType=i,i||this.onPointerTap()}onClose(){var e;$i.sound.musicFadeIn(),Ft.a.killTweensOf(this.hint),window.removeEventListener("keydown",this.onKeyDown),this.bg.off("pointertap",this.onPointerTap),null===(e=this.onExitCallback)||void 0===e||e.call(this),this.prizeThumb.reset()}openPrize(){this.currentPrize&&$i.user.openMysteryBox(this.currentPrize),$i.sound.stopAllFx(),$i.sound.musicFadeOut(),$i.sound.play("open-prize"),this.state=-1,this.prizeThumb.entity.scale.set(0),Ft.a.killTweensOf(this.hint),this.hint.alpha=0,this.mysteryBoxThumb.tween(2),Ft.a.to(this.rays,.3,{alpha:1}),Ft.a.to(this.rays.mask,.3,{width:650,height:650}),Ft.a.delayedCall(.5,()=>this.prizeThumb.tween()),Ft.a.to(this.rays,4,{rotation:2*Math.PI,onComplete:()=>{Ft.a.to(this.rays,1,{alpha:0,onComplete:()=>{this.hint.text=x.b.translate("prize-screen-continue"+(E.a.mobile?"-mobile":"")),this.hint.alpha=.1,Ft.a.to(this.hint,1.3,{alpha:1}).yoyo(!0).repeat(-1),this.prizes.length?this.state=si.REPEATING:this.state=si.CLOSING}})}}),Ft.a.to(this.prizeText,.5,{alpha:1}).delay(2.5),this.onOpenPrize.dispatch(this.boxType),this.currentPrize=void 0}onResize(){const e=this.viewportWidth,t=this.viewportHeight,i=1.25*(e>t?e:t);this.bg.width=i,this.bg.height=i,this.bg.x=e/2,this.bg.y=t/2-.05*t,this.prizeButton.x=e/2-this.prizeButton.width/2-60,this.prizeButton.y=this.prizeButton.height/2+40,this.currencies.x=e/2+this.currencies.width/2+60,this.currencies.y=this.prizeButton.height/2+40,this.hint.x=e/2,this.hint.y=t-this.hint.height/2-25,this.prizeText.x=e/2,this.prizeText.y=t/2+this.prizeThumb.height/2,this.mysteryBoxThumb.x=e/2,this.mysteryBoxThumb.y=t/2,this.prizeThumb.x=e/2,this.prizeThumb.y=t/2,this.rays.x=e/2,this.rays.y=t/2}}var ri=i(84);function ai(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Resizer_Resizer{constructor(e){void 0===e&&(e={}),ai(this,"maxRenderScale",2),ai(this,"renderScale",1),ai(this,"onResize",void 0),ai(this,"w",0),ai(this,"h",0),ai(this,"app",void 0),this.app=$i,e.maxRenderScale&&(this.maxRenderScale=e.maxRenderScale),this.onResize=new ri.Signal}init(){window.addEventListener("resize",()=>{window.scrollTo(0,0);for(let e=0;e<10;e++)setTimeout(()=>this._resize(window.innerWidth,window.innerHeight),100*e)}),Object(we.a)(this._resize,100,this)(window.innerWidth,window.innerHeight)}_resize(e,t){window.scrollTo(0,0);const i=this.maxRenderScale;let s=window.devicePixelRatio||1;s>i&&(s=i),this.renderScale=s;const r=e*s,a=t*s,o=this.app.stage.renderer,n=this.app.stage.view;n.style.width=e+"px",n.style.height=t+"px",n.style.left="0px",n.style.top="0px",this.w===r&&this.h===a||(this.w=r,this.h=a,o.resize(this.w,this.h),this.onResize.emit(this.w,this.h))}}function oi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}ai(Resizer_Resizer,"pluginName","resizer");class Clock_Clock extends d.Container{constructor(){super(),oi(this,"base",void 0),oi(this,"fill",void 0),oi(this,"ticker",void 0),oi(this,"time",0),oi(this,"secs",0),oi(this,"onComplete",void 0),oi(this,"pizza",void 0),this.base=d.Sprite.from("clock-base.png"),this.base.anchor.set(.5),this.base.x=-1,this.base.y=-1,this.addChild(this.base),this.fill=d.Sprite.from("clock-fill.png"),this.fill.anchor.set(.5),this.addChild(this.fill),this.ticker=new d.Ticker,this.ticker.stop()}run(e,t){this.secs&&this.stop(),this.time=e,this.secs=e,this.onComplete=t,this.update(0),this.ticker.add(this.update,this,1),this.ticker.start()}stop(){this.secs=0,this.ticker.remove(this.update,this),this.ticker.stop()}complete(){this.stop(),this.onComplete&&this.onComplete()}update(e){const t=e/60;this.secs-=t,this.updatePizza(),this.secs<0&&this.complete()}updatePizza(){this.pizza||(this.pizza=new d.Graphics,this.addChild(this.pizza));const e=this.secs/this.time,t=_e.a.PI_DOUBLE*e;this.pizza.clear(),this.pizza.beginFill(15658734),this.pizza.moveTo(0,0),this.pizza.arc(0,0,43,0,t,!0),this.pizza.rotation=-_e.a.PI_HALF,this.pizza.scale.y=-1}}function ni(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class SaveMe_SaveMe extends ce.a{constructor(){super(...arguments),ni(this,"bg",void 0),ni(this,"clock",void 0),ni(this,"content",void 0),ni(this,"baseShort",void 0),ni(this,"baseTall",void 0),ni(this,"btnReviveWatch",void 0),ni(this,"btnReviveKeys",void 0),ni(this,"title",void 0),ni(this,"currencies",void 0),ni(this,"onExitCallback",void 0),ni(this,"heightShort",260),ni(this,"heightTall",400)}onBuild(){this.bg=new he.b,this.addChild(this.bg),this.bg.interactive=!0,this.bg.on("pointertap",()=>this.exit()),this.content=new d.Container,this.addChild(this.content);const e=550;this.baseTall=te.a.rectComp({w:e,h:this.heightTall,color:15658734,round:16},{w:572,h:this.heightTall+24,image:"box-border-grey.png",x:5,y:6}),this.content.addChild(this.baseTall),this.baseTall.interactive=!0,this.baseTall.on("pointertap",()=>this.exit()),this.baseShort=te.a.rectComp({w:e,h:this.heightShort,color:15658734,round:16},{w:572,h:this.heightShort+24,image:"box-border-grey.png",x:5,y:6}),this.content.addChild(this.baseShort),this.baseShort.interactive=!0,this.baseShort.on("pointertap",()=>this.exit()),this.btnReviveWatch=new Oe.a({base:te.a.rectComp({w:316,h:120,image:"box-border-grey.png",x:5,y:6},{w:300,h:100,image:"box-fill-green.png",x:2,y:2,r:20,b:20}),icon:"icon-tv.png",iconX:60,iconY:-10,label:"free",labelFont:"Lilita One",labelSize:40,labelX:-50,labelY:0,onTap:()=>this.reviveWithAd()}),this.content.addChild(this.btnReviveWatch),this.btnReviveWatch.y=-20,this.btnReviveKeys=new Oe.a({base:te.a.rectComp({w:316,h:120,image:"box-border-grey.png",x:5,y:6},{w:300,h:100,image:"box-fill-blue.png",x:2,y:2,r:20,b:20}),icon:"icon-key.png",iconX:30,iconY:0,label:"keys",labelParams:{num:0},labelFont:"Lilita One",labelSize:40,labelX:-30,labelY:0,onTap:()=>this.reviveWithKeys()}),this.content.addChild(this.btnReviveKeys),this.btnReviveKeys.y=110,this.title=new Q.a("save_me",{align:"center",fill:19072,fontSize:40,fontFamily:"Titan One",dropShadow:!1,dropShadowDistance:1,anchorX:.5,anchorY:.5}),this.content.addChild(this.title),this.clock=new Clock_Clock,this.content.addChild(this.clock),this.clock.x=-255,this.currencies=new UserCurrencies_UserCurrencies,this.currencies.coinsTag.visible=!1,this.content.addChild(this.currencies),this.currencies.onRefresh.add(()=>{this.currencies.x=275-this.currencies.width/2-18})}onOpen(){const e=$i.game.freeRevivals<E.a.freeRevivals,t=e?this.heightTall:this.heightShort;this.clock.run(6,()=>this.exit()),this.btnReviveWatch.key="Space",this.btnReviveKeys.key="k",this.btnReviveKeys.setup({labelParams:{num:$i.game.paidRevivalCost()}}),this.currencies.keys=$i.user.keys,this.baseShort.visible=!e,this.baseTall.visible=e,e?(this.btnReviveWatch.visible=!0,this.btnReviveWatch.y=-20,this.btnReviveKeys.y=110):(this.btnReviveWatch.visible=!1,this.btnReviveKeys.y=40),this.title.y=-t/2+60,this.clock.y=-t/2+20,this.currencies.y=-t/2+35;const i=$i.game.stats.getPrizes();this.onExitCallback=i.length?()=>$i.prizeScreen.open({prizes:i,onExitCallback:()=>$i.nav.toGameover()}):()=>$i.nav.toGameover()}onClose(){this.clock.stop(),this.btnReviveWatch.key=null,this.btnReviveKeys.key=null}onResize(){const e=this.viewportWidth,t=this.viewportHeight;this.x=.5*e,this.y=.5*t,this.bg.resize(e,t)}exit(){this.close(),this.onExitCallback()}reviveWithAd(){this.close(),E.a.debug?$i.game.revive(1,!1):($i.sound.volume(0),this.btnReviveWatch.key=null,this.btnReviveKeys.key=null,ve.a.SDK.rewardedBreak({type:"saveMe"},["revive","","gameplay"]).then(e=>{$i.sound.volume(E.a.volume),e?$i.game.revive(5,!1):(this.btnReviveWatch.key="Space",this.btnReviveKeys.key="k",this.onExitCallback())}))}reviveWithKeys(){this.close(),$i.user.keys>=$i.game.paidRevivalCost()?$i.game.revive(E.a.debug?1:3,!0):($i.notEnoughCurrency.setup($i.game.paidRevivalCost(),this.onExitCallback,"keys"),$i.notEnoughCurrency.open())}}function li(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ScreenBlocker_ScreenBlocker{constructor(){li(this,"w",0),li(this,"h",0),li(this,"app",void 0),li(this,"blocker",void 0),this.app=$i,$i.resize.onResize.connect(this.resize.bind(this)),ve.a.SDK.onBreakStart.add(()=>{this.blocker.interactive=!0}),ve.a.SDK.onBreakComplete.add(()=>{this.blocker.interactive=!1}),this.blocker=$i.stage.stage.addChild((new d.Graphics).beginFill(0,.001).drawRect(0,0,1,1))}resize(e,t){this.blocker.scale.set(e,t)}isOn(){return this.blocker.interactive}}function hi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}li(ScreenBlocker_ScreenBlocker,"pluginName","screenBlocker");class NicknamePrompt_NicknamePrompt{constructor(e,t){void 0===t&&(t=10),hi(this,"w",400),hi(this,"h",120),hi(this,"maxChars",10),hi(this,"useDefault",!1),hi(this,"element",void 0),hi(this,"bg",void 0),hi(this,"panel",void 0),hi(this,"title",void 0),hi(this,"input",void 0),hi(this,"opened",!1),hi(this,"callback",void 0),hi(this,"titleId",void 0),hi(this,"_onKeyDownBind",this.onKeyUp.bind(this)),this.titleId=e,this.w=400,this.h=120,this.maxChars=t,this.useDefault=E.a.useDefaultPrompt,this.build()}build(){if(this.element)return;const e=document.createElement("div");e.id="nickname-prompt",e.style.position="absolute",e.style.width="100%",e.style.height="100%";const t=document.createElement("div");t.id="nickname-prompt-bg",t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.75)",e.appendChild(t);const i=document.createElement("div");i.id="nickname-prompt-panel",i.style.position="absolute",i.style.width=this.w+"px",i.style.height=this.h+"px",i.style.marginLeft="50%",i.style.left=-this.w/2+"px",i.style.top="50%",i.style.marginTop=-this.h/2+"px",i.style.backgroundColor="#eeeeee",i.style.fontFamily="Lilita One",i.style.textAlign="center",i.style.color="#004a80",i.style.display="block",i.style.overflow="hidden",i.style.borderRadius="16px",e.appendChild(i);const s=document.createElement("div");s.id="nickname-prompt-title",s.style.fontSize="1.5em",s.style.width="100%",s.style.marginTop="15px",s.style.textAlign="center",s.style.pointerEvents="none",s.style.userSelect="none",i.appendChild(s);const r=document.createElement("input");r.id="nickname-prompt-input",r.style.fontSize="2em",r.type="text",r.maxLength=this.maxChars,r.style.width="80%",r.style.height="30pt",r.style.textAlign="center",r.style.fontFamily="Lilita One",r.style.color="#3a8bbf",r.style.margin="5px",r.style.backgroundColor="#FFFFFF",r.style.border="0",i.appendChild(r),this.bg=t,this.panel=i,this.title=s,this.input=r,this.element=e,this.input.addEventListener("input",this.onNameChange.bind(this)),this.panel.addEventListener("mouseup",()=>this.highlight()),this.panel.addEventListener("touchend",()=>this.highlight()),this.bg.addEventListener("mouseup",()=>this.hide()),this.bg.addEventListener("touchend",()=>this.hide()),$i.user.onGameSettingsChange.add(this.onUserChange,this)}onUserChange(){this.input&&(this.input.value=$i.user.name)}show(){var e,t;this.opened||(this.opened=!0,document.addEventListener("keyup",this._onKeyDownBind),this.title&&(this.title.innerText=x.b.translate(this.titleId)),this.input&&(this.input.value=$i.user.name),this.element&&document.body.appendChild(this.element),null===(e=this.input)||void 0===e||e.select(),null===(t=this.input)||void 0===t||t.focus())}hide(){this.opened&&($i.sound.play("gui-tap"),this.opened=!1,document.removeEventListener("keyup",this._onKeyDownBind),this.input&&this.input.blur(),this.element&&document.body.removeChild(this.element))}onKeyUp(e){"Enter"!==e.code||e.repeat||this.hide()}onNameChange(){this.input&&this.input.value&&($i.user.nameSetByUser=!0,$i.user.name=this.input.value,$i.user.save())}onCancel(){this.callback&&this.callback()}highlight(){this.input&&(this.input.focus(),this.input.select&&this.input.select(),this.input.setSelectionRange&&this.input.setSelectionRange(0,this.input.value.length))}}function ci(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class SettingsItem_SettingsItem extends d.Container{constructor(e){super(),ci(this,"w",550),ci(this,"h",230),ci(this,"opts",void 0),ci(this,"bg",void 0),ci(this,"btn",void 0),ci(this,"title",void 0),ci(this,"subtitle",void 0),ci(this,"onTap",void 0),ci(this,"onBgTap",void 0),ci(this,"onButtonTap",void 0),ci(this,"signalNode",void 0);const t=e;this.w=550,this.h=130,this.opts=t,this.bg=new d.Graphics,this.bg.beginFill(16711680,1),this.bg.drawRect(-this.w/2,-this.h/2,this.w,this.h),this.addChild(this.bg),this.bg.alpha=0,this.bg.interactive=!0,this.bg.buttonMode=!0,this.bg.on("pointertap",()=>{(this.onTap||this.onBgTap)&&$i.sound.play("gui-tap"),this.onTap&&this.onTap(),this.onBgTap&&this.onBgTap()}),this.btn=new Oe.a({icon:t.icon,base:te.a.rectComp({w:116,h:118,image:"box-border-grey-small.png",x:1,y:1},{w:100,h:100,color:3574206,round:6})}),this.btn.onTap=()=>{this.onTap&&this.onTap(),this.onButtonTap&&this.onButtonTap()},this.addChild(this.btn),this.btn.x=-this.w/2+60,this.title=new Q.a(t.title,{align:"left",fill:19072,fontSize:40,fontFamily:"Titan One"}),this.addChild(this.title),this.title.x=this.btn.x+80,this.title.y="empty"===t.subtitle?-20:-30;const i=x.b.translate(t.subtitle);this.subtitle=new Se.a(i,{align:"left",fill:3836863,fontSize:30,fontFamily:"Titan One",anchor:0}),this.addChild(this.subtitle),this.subtitle.x=this.title.x,this.subtitle.y=this.title.y+55}enable(){}disable(){}}class SettingsItem_SettingsItemProfile extends SettingsItem_SettingsItem{constructor(){super({icon:"icon-user.png",title:"nickname",subtitle:"nickname_prompt"}),ci(this,"prompt",void 0),ci(this,"onBgTap",()=>{this.prompt||(this.prompt=new NicknamePrompt_NicknamePrompt("nickname")),this.prompt.show()}),ci(this,"onUserChange",()=>{this.subtitle.text=$i.user.name})}enable(){this.signalNode||(this.subtitle.text=$i.user.name,this.signalNode=$i.user.onGameSettingsChange.add(this.onUserChange,this))}disable(){this.signalNode&&$i.user.onGameSettingsChange.remove(this.onUserChange,this),this.signalNode=null}}class SettingsItem_SettingsItemSound extends SettingsItem_SettingsItem{constructor(){super({icon:"icon-sound.png",title:"sound",subtitle:"on"}),ci(this,"diagonal",void 0),ci(this,"onTap",()=>{$i.sound.toggleMuted()}),ci(this,"refresh",()=>{const e=$i.sound.muted?"off":"on";this.subtitle.text=x.b.translate(e),this.diagonal.visible=$i.sound.muted}),this.diagonal=d.Sprite.from("diagonal.png"),this.diagonal.anchor.set(.5),this.btn.addChild(this.diagonal)}enable(){this.signalNode||(this.signalNode=$i.sound.onMutedChange.add(this.refresh,this),this.refresh())}disable(){this.signalNode&&$i.user.onGameSettingsChange.remove(this.refresh,this),this.signalNode=null}}class SettingsItem_SettingsItemPrivacy extends SettingsItem_SettingsItem{constructor(){super({icon:"icon-info.png",title:"privacy_policy",subtitle:"empty"}),ci(this,"onTap",()=>{window.open(x.b.translate("privacy_policy_link"),"_blank")})}}function di(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Settings_Settings extends ce.a{constructor(){super(...arguments),di(this,"title",void 0),di(this,"bg",void 0),di(this,"base",void 0),di(this,"items",void 0),di(this,"version",void 0),di(this,"btnClose",void 0)}onBuild(){this.interactive=!0,this.bg=new he.b,this.addChild(this.bg);const e=586.5,t=850;this.base=this.addChild(te.a.rectComp({w:e,h:t,color:15658734,round:16},{w:608.5,h:874,image:"box-border-grey.png",x:5,y:6})),this.title=this.addChild(new Q.a("settings",{align:"center",fill:19072,fontSize:60,fontFamily:"Titan One",dropShadow:!1,dropShadowDistance:2,anchorX:.5,anchorY:.5})),this.title.y=-360,"none"!==E.a.leaderboard&&this.addItem(new SettingsItem_SettingsItemProfile),this.addItem(new SettingsItem_SettingsItemSound),this.addItem(new SettingsItem_SettingsItemPrivacy),this.btnClose=this.addChild(new CloseButton_CloseButton({onTap:()=>this.close()})),this.btnClose.x=-283.25,this.btnClose.y=-415,this.version=this.addChild(new Se.a("v0.9.99-hollywood",{align:"right",fill:3836863,fontSize:18,fontFamily:"Titan One",anchor:1})),this.version.alpha=.5,this.version.x=283.25,this.version.y=415}addItem(e){this.items||(this.items=[]),this.base.addChild(e),e.y=this.items.length*e.h-250,e.scale.set(.85),this.items.push(e)}onOpen(){for(const e of this.items)e.enable()}onClose(){for(const e of this.items)e.disable()}onResize(){const e=this.viewportWidth,t=this.viewportHeight;this.x=.5*e,this.y=.5*t,this.bg.resize(e,t)}}var ui=i(106);function pi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function mi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoardButton_BoardButton extends Oe.a{constructor(e){void 0===e&&(e={});const t=d.Sprite.from("base-item-large.png");t.anchor.set(.5),t.width=100,t.height=100,super(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(i),!0).forEach((function(t){mi(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pi(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({w:100,h:100,icon:"icon-item-hoverboard.png",base:t},e)),mi(this,"numBoards",void 0),this.numBoards=new d.Text("9",{align:"right",fontFamily:"Lilita One",fontSize:22,dropShadow:!0,dropShadowDistance:2,dropShadowColor:16777215}),this.numBoards.anchor.set(1,1),this.numBoards.x=33,this.numBoards.y=38,this.addChild(this.numBoards),$i.user.gameSettings.onChange.add(()=>this.refresh()),this.refresh()}refresh(){this.numBoards.text=String($i.user.boosts.consumables.hoverboard)}}var bi=i(120);function fi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class SoundButton_SoundButton extends bi.a{constructor(){super({icon:"icon-sound.png"}),fi(this,"diagonal",void 0),fi(this,"refresh",()=>{this.diagonal.visible=$i.sound.muted}),this.diagonal=d.Sprite.from("diagonal.png"),this.diagonal.anchor.set(.5),this.addChild(this.diagonal),this.onTap=()=>$i.sound.toggleMuted(),$i.sound.onMutedChange.add(this.refresh),this.refresh()}}function gi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const vi=[{type:"mystery-box",icon:"icon-item-mystery-box.png"},{amount:1,type:"keys",icon:"icon-key.png"},{type:"mini-mystery-box",icon:"icon-item-mini-mystery-box.png"},{amount:1e3,type:"coins",icon:"coin-pouch-icon.png"}];class FreeStuffButton_FreeStuffButton extends Oe.a{constructor(){super({w:210,h:80,color:5350442}),gi(this,"tvIcon",void 0),gi(this,"tvShine",void 0),gi(this,"arrowIcon",void 0),gi(this,"itemIcon",void 0),gi(this,"itemShine",void 0),gi(this,"timeline",void 0),gi(this,"prizeNumber",0),this.tvIcon=this.addChild(d.Sprite.from("icon-tv.png")),this.tvIcon.anchor.set(.5),this.tvIcon.scale.set(.8),this.tvIcon.x=-60,this.tvShine=this.tvIcon.addChild(d.Sprite.from("shine-effect.png"));const e=this.tvIcon.addChild(d.Sprite.from("icon-tv.png"));e.anchor.set(.5),this.tvShine.anchor.set(.5),this.tvShine.mask=e,this.arrowIcon=this.addChild(d.Sprite.from("icon-stay-low.png")),this.arrowIcon.anchor.set(.5),this.arrowIcon.rotation=-Math.PI/2,this.itemIcon=this.addChild(d.Sprite.from("coin-pouch-icon.png")),this.itemIcon.anchor.set(.5),this.itemIcon.scale.set(68/this.itemIcon.height),this.itemIcon.x=60,this.itemShine=this.itemIcon.addChild(d.Sprite.from("shine-effect.png"));const t=this.itemIcon.addChild(d.Sprite.from("coin-pouch-icon.png"));t.anchor.set(.5),this.itemShine.anchor.set(.5),this.itemShine.mask=t,this.timeline=new ie.f({repeat:-1}),this.onTap=async()=>{const e=vi[this.prizeNumber];await ve.a.SDK.rewardedBreak({type:"freeStuff",prize:e.type},[["mystery-reward","","start-screen"],["direct-coin-unlock","keys","start-screen"],["mini-mystery-reward","","start-screen"],["direct-coin-unlock","coins","start-screen"]][this.prizeNumber])&&(e.type.includes("mystery-box")?$i.nav.toPrizeScreen(e.type):($i.prizeScreen.open({prizes:[e]}),$i.user[e.type]+=e.amount||0),this.prizeNumber++,this.prizeNumber%=vi.length,$i.user.gameSettings.rewardedBreakPrize=this.prizeNumber,this.setPrize(),$i.user.save())},this.prizeNumber=$i.user.gameSettings.rewardedBreakPrize,this.setPrize()}setPrize(){this.timeline.time(0),this.timeline.kill(),this.timeline.clear();const e=vi[this.prizeNumber].icon,t=d.Texture.from(e);this.itemIcon.scale.set(1),this.itemIcon.texture=t,this.itemIcon.removeChild(this.itemShine.mask);const i=this.itemIcon.addChild(d.Sprite.from(t));i.anchor.set(.5),this.itemShine.mask=i,this.itemIcon.scale.set(68/this.itemIcon.height);const{x:s,y:r}=this.itemIcon.scale;this.timeline.delay(.5),this.timeline.to(this.tvIcon.scale,.3,{x:1,y:1}).to(this.tvIcon.scale,.3,{x:.8,y:.8}).fromTo(this.tvShine,1,{x:-100,y:100},{x:100,y:-100},0).to(this.arrowIcon.scale,.3,{x:1.4,y:1.4},.3).to(this.arrowIcon.scale,.3,{x:1,y:1},.61),this.timeline.to(this.itemIcon.scale,.3,{x:s+.2,y:r+.2},.6),this.timeline.to(this.itemIcon.scale,.3,{x:s,y:r},.91),this.timeline.fromTo(this.itemShine,1,{x:-100,y:100},{x:100,y:-100},.6)}}function yi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class PressToPlay_PressToPlay extends d.Container{constructor(){super(),yi(this,"bg",void 0),yi(this,"label",void 0),yi(this,"count",0),this.bg=te.a.rect({w:500,h:70,round:30,color:105727}),this.label=new Q.a("tap_to_play_desktop",{fontFamily:"Titan One",align:"center",fill:16777215,fontSize:40,anchorX:.5,anchorY:.5}),this.addChild(this.label)}updateTransform(){super.updateTransform(),this.label.rotation=.1*Math.cos(.1*this.count),this.count+=1}}function wi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class TitleScreen_TitleScreen extends ce.a{constructor(){super(...arguments),wi(this,"btnPlay",void 0),wi(this,"btnSound",void 0),wi(this,"btnSettings",void 0),wi(this,"btnBoards",void 0),wi(this,"tapArea",void 0),wi(this,"btnMyTour",void 0),wi(this,"bottomMenu",void 0),wi(this,"btnTopRun",void 0),wi(this,"btnMe",void 0),wi(this,"btnShop",void 0),wi(this,"freeStuffButton",void 0),wi(this,"onKeyDown",e=>{this.tapArea.interactive&&!e.repeat&&(" "!==e.code&&"Space"!==e.code||this.startGame())})}onBuild(){this.btnPlay=new PressToPlay_PressToPlay,this.addChild(this.btnPlay),this.tapArea=new d.Sprite(d.Texture.WHITE),this.addChild(this.tapArea),this.tapArea.alpha=0,this.tapArea.interactive=!1,this.tapArea.on("pointerdown",()=>this.startGame()),this.btnSound=new SoundButton_SoundButton,this.addChild(this.btnSound),this.btnSettings=new bi.a({icon:"icon-settings.png"}),this.btnSettings.onTap=()=>$i.settings.open(),this.addChild(this.btnSettings),this.btnBoards=new BoardButton_BoardButton,this.btnBoards.onTap=()=>$i.buyBoards.open(),this.addChild(this.btnBoards),this.btnMyTour=this.addChild(new Oe.a({w:240,h:100,color:9645882,icon:"front-icon-mytour.png"})),this.btnMyTour.onTap=()=>$i.nav.toIdleScreen("myTourPanel"),this.buildBottomBtns(),this.freeStuffButton=this.addChild(new FreeStuffButton_FreeStuffButton),$i.resources.manager.onLoadComplete.connect(this.updateLoadingState.bind(this)),this.updateLoadingState(),ve.a.SDK.commercialBreak(!0)}buildBottomBtns(){this.bottomMenu=new pt.a({spacing:40}),this.addChild(this.bottomMenu),"none"!==E.a.leaderboard&&(this.btnTopRun=new Oe.a({w:240,h:90,iconY:-10,color:5254027,icon:"front-icon-top-run.png"}),this.btnTopRun.onTap=()=>$i.nav.toIdleScreen("topRun"),this.bottomMenu.addButton(this.btnTopRun)),this.btnMe=new Oe.a({w:130,h:90,color:25857,icon:"front-icon-me.png"}),this.btnMe.onTap=()=>$i.nav.toMePanel(),this.bottomMenu.addButton(this.btnMe),this.btnShop=new Oe.a({w:200,h:90,color:2584491,icon:"front-icon-shop.png"}),this.btnShop.onTap=()=>$i.nav.toIdleScreen("boostShop"),this.bottomMenu.addButton(this.btnShop)}updateLoadingState(){if(!this.opened)return;const e=$i.resources.manager.areManifestsLoaded(["game-basic"]);this.btnPlay.visible=e,this.tapArea.interactive=e,this.btnMe.visible=$i.loader.areAllIdleCharactersLoaded(),this.bottomMenu.organise(),this.updateBadges()}updateBadges(){$i.awards.hasPrizeToCollect()?this.btnMe.showBadge():this.btnMe.hideBadge()}onOpen(){this.tapArea.interactive=!0,this.updateLoadingState(),this.updateBadges(),document.addEventListener("keydown",this.onKeyDown)}onClose(){this.tapArea.interactive=!1,document.removeEventListener("keydown",this.onKeyDown)}onResize(){this.tapArea.width=this.tapArea.height=5e3,this.btnSound.x=this.viewportWidth-60,this.btnSound.y=60+E.a.iOSUIOffsetY,this.btnSettings.x=60,this.btnSettings.y=(ui.a.isPoki()&&m.a.mobile?142:60)+E.a.iOSUIOffsetY,this.btnMyTour.x=this.viewportWidth/2,this.btnMyTour.y=60+E.a.iOSUIOffsetY,this.btnBoards.x=this.btnSettings.x,this.btnBoards.y=this.btnSettings.y+110,this.btnPlay.position.x=this.viewportWidth/2,this.btnPlay.position.y=this.viewportHeight-350,this.bottomMenu.x=this.viewportWidth/2,this.bottomMenu.y=this.viewportHeight-120;this.btnSound.x-this.btnMyTour.x-this.btnSound.width/2-this.btnMyTour.width/2-this.freeStuffButton.width>=20?(this.freeStuffButton.x=this.btnSound.x-this.freeStuffButton.width/2-this.btnSound.width/2-10,this.freeStuffButton.y=this.btnSettings.y):(this.freeStuffButton.x=this.btnMyTour.x,this.freeStuffButton.y=this.btnMyTour.y+this.btnMyTour.height/2+this.freeStuffButton.height/2+10)}startGame(){$i.prizeScreen.opened||$i.buyBoards.opened||$i.settings.opened||$i.screenBlocker.isOn()||($i.sound.play("gui-tap"),$i.nav.toGame())}}function _i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class TopRun_TopRun extends ce.a{constructor(){super(...arguments),_i(this,"w",0),_i(this,"h",0),_i(this,"jake",void 0),_i(this,"leaderboard",void 0),_i(this,"panel",void 0),_i(this,"title",void 0)}onBuild(){this.panel=new ke.a,this.addChild(this.panel),this.title=this.addChild(new Q.a("highscores",{align:"center",fill:211825,fontSize:70,fontFamily:"Titan One",dropShadowDistance:1,anchorX:.5})),this.addChild(this.title),this.title.y=20-this.panel.base.height/2,this.leaderboard=new Leaderboard_Leaderboard({entryHeight:56,entryWidth:this.panel.base.width-20,clampChars:E.a.maxNicknameChars}),this.leaderboard.locked=!0,this.panel.addChild(this.leaderboard),this.leaderboard.setPosition(0,-247)}async onOpen(){await this.leaderboard.refresh(),this.visible=!0}onClose(){this.visible=!1}onResize(){this.w=this.viewportWidth,this.h=this.viewportHeight,this.x=.5*this.w,this.y=.5*this.h,this.panel.resize(this.w,this.h)}}function xi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class UI_UI extends d.Container{constructor(){super(),xi(this,"viewportWidth",512),xi(this,"viewportHeight",512),xi(this,"viewportScale",1),xi(this,"layers",void 0),xi(this,"resize",()=>{let e=500;const t=$i.resize.w/$i.resize.h;e=t<.5?760:t<1?667:500,this.viewportScale=$i.resize.h/e*.5,this.viewportWidth=$i.resize.w/this.viewportScale,this.viewportHeight=$i.resize.h/this.viewportScale,this.scale.set(this.viewportScale)}),$i.stage.stage.addChild(this),this.layers=[new d.Container,new d.Container];for(const e of this.layers)this.addChild(e);$i.resize.onResize.connect(this.resize),this.resize()}get mainLayer(){return this.layers[0]}get frontLayer(){return this.layers[1]}}var Si=i(577),Pi=i(185),Ci=i(582),ki=i(334);function Oi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ModelViewer_ModelViewer extends ae.a{constructor(){super({stage:new d.Container,camera:new Si.a,renderer:$i.stage.renderer,culling:!1}),Oi(this,"ui",void 0),Oi(this,"currentEntity",void 0),Oi(this,"holder",void 0),$i.stage.mainContainer.addChild(this.stage),$i.stage.renderer.backgroundColor=1118481,this.holder=new xt.a,this.addChild(this.holder),this.mainCamera.camera.near=.01,this.mainCamera.camera.far=99999,this.ui=new ModelViewer_UI(this),this.resetCamera(),setTimeout(()=>{const e=localStorage.getItem("viewer-entity-name"),t=localStorage.getItem("viewer-entity-type");e&&t&&this.setEntity(e,t)},100)}get mainCamera(){return this.view3d.camera}get stage(){return this.view3d.stage}setEntity(e,t){if(void 0===t&&(t="model"),e&&t){this.currentEntity&&this.holder.removeChild(this.currentEntity);try{switch(t){case"scene":this.setScene(e);break;case"model":this.setModel(e)}}catch(e){return localStorage.removeItem("viewer-entity-name"),void localStorage.removeItem("viewer-entity-type")}localStorage.setItem("viewer-entity-name",e),localStorage.setItem("viewer-entity-type",t)}}setModel(e){const t=$i.library.getEntity(e);this.holder.scale.set(.2),this.holder.rotation.y=Math.PI,this.holder.addChild(t),this.currentEntity=t,this.resetCamera()}setScene(e){const t=$i.library.getScene(e);this.holder.scale.set(5),this.holder.rotation.y=0,this.holder.addChild(t),this.currentEntity=t;const i=t.getComponent(Pi.a);if(i){(e=>{const t=e._animations,i=Object(Ci.a)(),s=i.__controllers;for(let e=s.length-1;e>=0;e--){const t=s[e];i.remove(t)}const r=document.getElementById("model-viewer");null==r||r.appendChild(i.domElement.parentElement),e.autoUpdate=!1;for(const s in t){const r=t[s],a={currentTime:0,autoPlay:!1},o=24;let n;i.add(a,"currentTime").min(0).max(r.duration*o).step(.1).name(s).onChange(t=>{e._animationTick=t/o}).listen(),i.add(a,"autoPlay").onChange(t=>{t?n=setInterval(()=>{a.currentTime=Math.floor(e._animationTick*o)},10):clearInterval(n),e.autoUpdate=t})}})(i);const e={lockCamera:!1};Object(Ci.a)().add(e,"lockCamera").onChange(e=>{this.mainCamera.getComponent(ki.a).lock(e),this.mainCamera.getComponent(ki.a).lockZoom(e)});const s=re.a.childrenFlatMap(t,{},"",10);for(const e in s){const t={active:e=>{}};let i=!0;Object(Ci.a)().add(t,"active").name(s[e].name).onChange(()=>{i=!i,s[e].active=i})}}this.resetCamera()}resetCamera(){const e=this.mainCamera.getComponent(ki.a);e._radius=5,e._targetRadius=5,e._isDown=!1,e.center.set(0,0,0),e.easing=.1,e.sensitivity=.1,e.sensitivityRotation=1,e._isLocked=!1,e._isZoomLocked=!1,e._rx=0,e._trx=0,e._prevx=0,e._ry=0,e._try=0,e._prevy=0,e._vec.set(0,0,0),e.euler.set(0,0,0,"YXZ"),e._mouseDown.x=0,e._mouseDown.y=0,e._mouse.x=0,e._mouse.y=0,this.mainCamera.transform.position.x=0,this.mainCamera.transform.position.y=0,this.mainCamera.transform.position.z=0,this.mainCamera.transform.lookAt(e.center),e.update()}}class ModelViewer_UI{constructor(e){Oi(this,"element",void 0),Oi(this,"viewer",void 0),Oi(this,"models",void 0),Oi(this,"scenes",void 0),this.viewer=e,this.element=document.createElement("div"),this.element.id="model-viewer",this.element.style.position="fixed",this.element.style.zIndex="999",this.element.style.width="100%",this.element.style.height="100%",this.models=new ModelViewer_LibraryMenu(this,"model","left"),this.scenes=new ModelViewer_LibraryMenu(this,"scene","right"),this.show()}show(){this.refresh(),document.body.appendChild(this.element)}hide(){document.body.removeChild(this.element)}refresh(){this.models.refresh(),this.scenes.refresh()}}class ModelViewer_LibraryMenu{constructor(e,t,i){void 0===t&&(t="model"),void 0===i&&(i="left"),Oi(this,"ui",void 0),Oi(this,"align",void 0),Oi(this,"element",void 0),Oi(this,"viewer",void 0),Oi(this,"category",void 0),this.ui=e,this.viewer=e.viewer,this.align=i,this.category=t,this.element=document.createElement("div"),this.element.style.overflow="scroll",this.element.style.height="100%",this.element.style.position="fixed",this.element.style.textAlign=i,"right"===i&&(this.element.style.right="0px"),this.ui.element.appendChild(this.element)}refresh(){this.element.innerHTML="";let e=$i.library.geometries;"scene"===this.category&&(e=$i.library.scenes);const t=Object.keys(e).sort();for(const e of t){const t=document.createElement("button");t.value=e,t.style.display="block","right"===this.align&&(t.style.marginLeft="auto",t.style.marginRight="0px",t.style.textAlign="right"),t.style.backgroundColor="#222222",t.style.color="#AAAAAA",t.style.cursor="pointer",t.style.borderColor="#000000",t.style.fontSize="11px",t.style.lineHeight="11px",t.style.borderWidth="1px",t.innerText=e,t.onclick=()=>this.onSelect(t.value),this.element.appendChild(t)}}onSelect(e){this.viewer.setEntity(e,this.category)}}function Ti(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AppExtras_AppExtras{constructor(e){switch(Ti(this,"app",void 0),this.app=e,E.a.extra){case"models":this.initModelViewer();break;case"chunks":this.initChunkViewer()}}async initModelViewer(){await this.app.resources.load("preload","font"),document.body.appendChild(this.app.stage.view),await this.app.resources.load("game-basic","game-full","game-idle","boards","characters-basic","characters-idle","data"),this.app.viewer=this.app.addExtension(new ModelViewer_ModelViewer),this.app.hideLoadingMessage()}async initChunkViewer(){await this.app.resources.load("preload","font"),document.body.appendChild(this.app.stage.view),await this.app.resources.load("chunks-idle","chunks-basic","chunks-full","game-basic","game-full","game-idle"),this.app.viewer=this.app.addExtension(new ModelViewer_ModelViewer),this.app.hideLoadingMessage()}}var ji=i(180);function Mi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class AppLoader_AppLoader{constructor(e){Mi(this,"app",void 0),Mi(this,"idleCharactersLoaded",[]),Mi(this,"fullCharactersLoaded",[]),Mi(this,"characterLoadPromises",{}),Mi(this,"loading",!1),this.app=e,ji.a.useWorkers=E.a.useWebWorkers&&0===E.a.loadExtraAttempts,e.resources.manager.onLoadStart.connect(this.onLoadStart.bind(this)),e.resources.manager.onLoadProgress.connect(this.onLoadProgress.bind(this)),e.resources.manager.onLoadComplete.connect(this.onLoadComplete.bind(this))}async proceed(){switch(E.a.loadMode){case"all":await this.loadAll();break;case"simple":await this.loadSimple();break;case"progressive":await this.loadProgressive();break;case"progressive-discrete":await this.loadProgressiveDiscrete()}}async loadGroups(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];try{await this.app.resources.load(...t)}catch(e){throw this.app.tearDown("Sorry, game did not load properly. Try again."),new Error("Game failed to load due to network problems.")}}async loadAll(){await this.loadGroups("preload","font"),await this.loadGroups("chunks-idle","chunks-basic","chunks-full","game-idle","game-basic","game-full","data","ui","character-"+this.app.user.character+"-idle","character-"+this.app.user.character+"-basic"),x.b.language=E.a.language,this.app.sound.loadGroup("audio-idle"),this.app.sound.loadGroup("audio-basic"),this.app.sound.loadGroup("audio-full"),this.app.createGame(),this.app.nav.toTitleScreen(),ve.a.SDK.gameLoadingFinished(),this.app.hideLoadingMessage()}async loadSimple(){await this.loadGroups("preload","font"),await this.loadGroups("chunks-idle","game-idle","data","ui","character-"+this.app.user.character+"-idle"),x.b.language=E.a.language,this.app.createGame(),this.app.nav.toTitleScreen(),E.a.loadDelay&&await Object(qt.a)(E.a.loadDelay),this.loadGroups("chunks-basic","chunks-full","game-basic","game-full","character-"+this.app.user.character+"-basic"),this.app.sound.loadGroup("audio-idle"),this.app.sound.loadGroup("audio-basic"),this.app.sound.loadGroup("audio-full"),ve.a.SDK.gameLoadingFinished(),this.app.hideLoadingMessage()}async loadProgressive(){await this.loadGroups("preload","font"),await this.loadGroups("chunks-idle","game-idle","data","ui","character-"+this.app.user.character+"-idle"),x.b.language=E.a.language,this.app.sound.loadGroup("audio-idle"),this.app.createGame(),this.app.hideLoadingMessage(),this.app.nav.toTitleScreen(),E.a.loadDelay&&await Object(qt.a)(E.a.loadDelay),await this.loadGroups("chunks-basic","game-basic","character-"+this.app.user.character+"-basic"),this.app.sound.loadGroup("audio-basic"),ve.a.SDK.gameLoadingFinished(),E.a.loadDelay&&await Object(qt.a)(E.a.loadDelay),await this.loadGroups("chunks-full","game-full"),this.app.sound.loadGroup("audio-full"),E.a.loadDelay&&await Object(qt.a)(E.a.loadDelay),this.loadAllIdleCharacters()}async loadProgressiveDiscrete(){await this.loadGroups("preload","font"),await this.loadGroups("chunks-idle","game-idle","chunks-basic","game-basic","data","ui","character-"+this.app.user.character+"-idle","character-"+this.app.user.character+"-basic","boards"),this.app.sound.loadGroup("audio-idle"),this.app.sound.loadGroup("audio-basic"),x.b.language=E.a.language,this.app.createGame(),this.app.hideLoadingMessage(),this.app.nav.toTitleScreen(),ve.a.SDK.gameLoadingFinished(),E.a.loadDelay&&await Object(qt.a)(E.a.loadDelay),await this.loadGroups("chunks-full","game-full"),this.app.sound.loadGroup("audio-full"),E.a.loadDelay&&await Object(qt.a)(E.a.loadDelay),this.loadAllIdleCharacters()}async loadCharacter(e,t){void 0===t&&(t=!1),t&&await this.loadCharacter(e,!1);const i=t?"basic":"idle",s=t?this.fullCharactersLoaded:this.idleCharactersLoaded,r="character-"+e+"-"+i;this.characterLoadPromises[r]?await this.characterLoadPromises[r]:s.includes(e)||(this.characterLoadPromises[r]=this.loadGroups(r),await this.characterLoadPromises[r],delete this.characterLoadPromises[r],s.push(e))}async loadSelectedIdleCharacter(){const e=this.app.user.character;await this.loadCharacter(e,!1)}async loadSelectedFullCharacter(){const e=this.app.user.character;await this.loadCharacter(e,!0)}async loadAllIdleCharacters(){const e=this.app.data.getAvailableCharactersIds(),t=[];for(const i of e)t.push(this.loadCharacter(i,!1));await Promise.all(t)}areAllIdleCharactersLoaded(){const e=this.app.data.getAvailableCharactersIds(),t=[];for(const i of e)t.push("character-"+i+"-idle");return this.app.resources.manager.areManifestsLoaded(t)}onLoadStart(){this.app.resources.loadingIds.includes("game-idle")&&(this.loading=!0,window.loadingBar&&E.a.loadingMbs&&("progressive-discrete"===E.a.loadMode&&window.loadingBar.setTotal(6.4),"progressive"===E.a.loadMode&&window.loadingBar.setTotal(3.6),"simple"===E.a.loadMode&&window.loadingBar.setTotal(3.6),"all"===E.a.loadMode&&window.loadingBar.setTotal(14.5)))}onLoadProgress(e){this.loading&&window.loadingBar&&window.loadingBar.setProgress(e/100)}onLoadComplete(){this.loading&&(this.loading=!1)}}i(58);var Ni=i(342),Ei=i(72),Bi=i(10),zi=i(89);class OdieUtils_OdieUtils{static scaleGeometry(e,t){void 0===t&&(t=100);const i=e.geometry?e.geometry.buffers[0]:e.buffers[0];if(!i.__scaled){i.__scaled=!0;for(const e in i.data)i.data[e]*=t}}static entityChildren(e){return(e.container&&e.container.children?e.container.children:[]).slice(0)}static applyMap(e,t,i){e.view3d&&e.view3d.material&&(e.view3d.material.diffuseMap=i);const s=OdieUtils_OdieUtils.entityChildren(e);let r=s.length;for(;r--;)OdieUtils_OdieUtils.applyMap(s[r],t,i)}static applyMaterial(e,t,i){if(void 0===i&&(i=!1),e.view3d&&(e.view3d.material=t),!i)return;const s=OdieUtils_OdieUtils.entityChildren(e);let r=s.length;for(;r--;)OdieUtils_OdieUtils.applyMaterial(s[r],t)}static getSphere(e,t){void 0===t&&(t=null);const i=e.getComponent(zi.a);if(i){const e=i.getBoundingSphere();(!t||t.radius<e.radius)&&(t=e)}const s=OdieUtils_OdieUtils.entityChildren(e);for(const e of s)t=OdieUtils_OdieUtils.getSphere(e,t);return t}}function Hi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Di={"environment-idle":"environment-tex","environment-basic":"environment-tex","environment-full":"environment-tex","trains-idle":"environment-tex","trains-basic":"environment-tex","trains-full":"environment-tex","model-dog":"enemies","model-guard":"enemies",props:"props-tex","props-start":"props-tex","model-tricky-idlexmas":"tricky-tex",board_default_base:"board-hoverboard-tex"};class Library_Library{constructor(e){Hi(this,"app",void 0),Hi(this,"geometries",{}),Hi(this,"maps",{}),Hi(this,"scenes",{}),Hi(this,"geometrySceneNames",{}),Hi(this,"geometryByHash",{}),Hi(this,"geometryGroups",{}),Hi(this,"sceneByGeometryHash",{}),Hi(this,"materialNameByHash",{}),Hi(this,"characterDataCompleted",!1),Ni.a.MAX_BONES=64,this.app=e,this.app.resources.manager.onLoadComplete.connect(()=>{this.refresh()}),window.geometryGroups=this.geometryGroups,window.geometries=this.geometries}init(){this.refresh()}completeCharData(){const e=this.app.data.getAvailableCharacters();if(e&&!this.characterDataCompleted){this.characterDataCompleted=!0;for(let t=0;t<e.length;t++){const{id:i}=e[t];Di[i+"-game"]=i+"-tex",Di[i+"-idle"]=i+"-tex"}}}get cache(){return this.app.resources.cache}refresh(){this.completeCharData();for(const t in this.cache){const i=t.split("?").shift()||t;if(i.endsWith(".gb")){const s=(e=void 0,null===(e=i.split("/").pop())||void 0===e?void 0:e.split(".").shift());if(this.scenes[s])continue;const r=this.cache[t].gbObject,a="___";r.materials.forEach(e=>{if(e.name.includes(a)){const[t,i]=e.name.split(a);this.materialNameByHash[t]=i.toLowerCase()}});for(const e in this.cache[t].geometryHash){let i=String(e.split(" +").shift());i=String(i.split(".00").shift());let r=e;if("tube_start"===i&&(i="tube",r=e+" + "),"tube_mid"===i&&(i="tube",r=e+" + 1"),"tube_end"===i&&(i="tube",r=e+" + 2"),i=i.replace("_LOD0",""),i=i.replace("_LOD1","_low"),i.toLowerCase().includes("train_")&&(i=i.toLowerCase(),"train_standard_wagon1"===i?i="train_standard_wagon01":"train_standard_wagon2"===i&&(i="train_standard_wagon02")),t.includes("environment")&&["train_sub","train_cargo","train_standard"].includes(i))continue;this.geometryByHash[r]=this.cache[t].geometryHash[e],this.geometryGroups[i]||(this.geometryGroups[i]=[]);const a=this.geometryGroups[i];a.indexOf(r)<0&&a.push(r),this.geometries[i]||(this.geometries[i]=this.cache[t].geometryHash[e],this.geometrySceneNames[i]=s)}this.scenes[s]=this.cache[t]}if(i.endsWith(".png")||i.endsWith(".webp")){let e=Ri(i).replace(/@[\d]*\.?[\d]x/g,"");if(e=e.replace(".webp",""),e=e.replace(".png",""),this.maps[e])continue;this.maps[e]=this.cache[t]}}var e}whichEntity(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const e in t)if(this.geometries[t[e]])return t[e];return null}hasScene(e){return!!this.scenes[e]}getScene(e,t){void 0===t&&(t={}),t.map||(t.map=Di[e]);const i=this.scenes[e].getScene();return function e(t,i){const s=Ei.a,r=new s({diffuseMap:i,color:16777215}),a=new s({skinning:!0,diffuseMap:i,color:16777215,maxBones:29});if(t.view3d)if(t.view3d.material){const e=t.view3d.geometry.attributes;e&&e.aBoneWeights?t.view3d.material instanceof s?t.view3d.material.diffuseMap=i:t.view3d.material=a:t.view3d.material=r}else t.view3d.material=r;const o=OdieUtils_OdieUtils.entityChildren(t);let n=o.length;for(;n--;)e(o[n],i)}(i,t.map instanceof d.Texture?t.map:this.maps[t.map]),i}getEntity(e,t){let i;return void 0===t&&(t={}),this.geometryGroups[e]||("epic_mid"===e&&(e="epic_start"),"epic_end"===e&&(e="epic_start")),i=1===this.geometryGroups[e].length?this.getEntityFromGeometry(e,this.geometryGroups[e][0],t):this.mountEntity(new xt.a,e,t),i.groupName=e,i}getEntityPromise(e,t){return void 0===t&&(t={}),new Promise(i=>{if(this.hasGroup(e))i(this.getEntity(e,t));else{let s=0;const r=setInterval(()=>{this.hasGroup(e)&&(clearInterval(r),i(this.getEntity(e,t))),s++},300)}})}mountEntity(e,t,i){void 0===i&&(i={});const s=this.geometryGroups[t];for(const r in s){const a=this.getEntityFromGeometry(t,s[r],i);a.geomHash=s[r],e.addChild(a),e.parts||(e.parts={}),e.parts[r]=a}return e}getEntityFromGeometry(e,t,i){var s,r;void 0===i&&(i={}),i=Object.assign({},i);const a=this.geometryByHash[t],o=this.geometrySceneNames[e];i.map||(i.map=Di[o]);const n=String(t.split(" +").shift()),l=this.materialNameByHash[n];if(null!=l&&l.includes("shadow")){i.blendMode=d.BLEND_MODES.MULTIPLY;const e=(n.includes("train"),"environment-tex");i.map=this.getMap(e),i.depthMask=!1,i.customNoFog=!1,i.whiteFog=!0,i.fog=!0}null!=l&&l.includes("glass_transparent")?i.opacity=.5:null!=l&&l.includes("glass")&&(n.includes("epic_start")&&(i.fogMultiplier=1.6),i.reflectCube=this.getMap("reflection"),null!=l&&l.includes("glass_opaque")&&(i.opacity=.5)),(null!=l&&l.includes("water")||null!=l&&l.includes("ice"))&&(i.opacity=.4,i.customNoFog=!0,i.fog=!1,i.blendMode=d.BLEND_MODES.NORMAL_NPM,i.depthMask=!1),(null!=l&&l.includes("glow")||null!=l&&l.includes("light")||null!=n&&n.includes("glow")||null!=n&&n.includes("Rainbow"))&&(i.blendMode=d.BLEND_MODES.ADD,i.customNoFog=!0,i.opacity=.3,i.depthMask=!1),(null!=l&&l.includes("train_start")||n.includes("train_start"))&&(i.map=this.getMap("train-start"),i.opacity=.999),null!=l&&l.includes("rails")&&null!=n&&n.includes("train")&&(i.screenMask="rails1");const h="string"==typeof i.map?this.getMap(i.map):i.map,c="string"==typeof i.screenMask?this.getMap(i.screenMask):i.screenMask,u=i.material?i.material:Ei.a;null===(s=Bi.a.applyMaterialOpts)||void 0===s||s.call(Bi.a,n,l,i);const p=i.color?new u({color:i.color,customFog:!!i.fog,fogMultiplier:i.fogMultiplier,whiteFog:i.whiteFog}):new u({map:h,diffuseMap:h,whiteFog:i.whiteFog,customFog:!i.customNoFog,rails:!!i.rails,screenMask:c,reflectCube:i.reflectCube,fogMultiplier:i.fogMultiplier}),m=new d.State;i.opacity&&(p.opacity=i.opacity),m.depthTest=!0,m.blend=!!i.opacity&&i.opacity<1,m.culling=!0,i.blendMode&&(m.blendMode=i.blendMode),!1===i.depthMask&&(m.depthMask=!1);const b=new xt.a({geometry:a,material:p,state:m});return null===Bi.a||void 0===Bi.a||null===(r=Bi.a.handleThemeMaterial)||void 0===r||r.call(Bi.a,b,n,l),b.materialName=l,b}getMap(e){if(!this.maps[e])throw new Error("[Library] Map does not exist: "+e);return this.maps[e]}hasGeometry(e){return!!this.geometries[e]}hasGroup(e){return!!this.geometryGroups[e]}hasMap(e){return!!this.maps[e]}hasResourcesForBasicGameplay(){return!!this.scenes["environment-basic"]}hasResourcesForFullGameplay(){return!!this.scenes["environment-full"]}}function Ri(e){var t;return null===(t=e.split("/").pop())||void 0===t?void 0:t.replace(".png","").replace(".jpg","")}var Li=i(119);function Ii(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Navigation_Navigation{constructor(){Ii(this,"opened",void 0),Ii(this,"firstRun",!0),Ii(this,"onGameplayStart",new p.Signal),Ii(this,"onGameplayFinish",new p.Signal),Ii(this,"runGame",()=>{this.onGameplayStart.dispatch(),$i.resources.manager.onLoadComplete.disconnect(this.runGame),$i.game.onGameover.add(this),$i.game.runWithIntro()})}resetUi(){var e;$i.show(),$i.prizeScreen.close(),$i.saveme.close(),$i.gameover.close(),$i.notEnoughCurrency.close(),$i.buyBoards.close(),null===(e=this.opened)||void 0===e||e.close()}async toIdleScreen(e,t,i){void 0===t&&(t={}),this.resetUi(),this.idleGame(),await(null==i?void 0:i());const s=$i[e];s.open(t),this.opened=s}idleGame(){$i.game.idle(),$i.game.onGameover.remove(this)}async toMePanel(){this.toIdleScreen("mePanel",{},async()=>{$i.showLoadingMessage(),await $i.loader.loadAllIdleCharacters(),$i.hideLoadingMessage()})}toTitleScreen(){this.toIdleScreen("title")}testPrizeScreen(){setTimeout(()=>{$i.prizeScreen.open({prizes:[{type:"coins",amount:1,boxType:"mystery-box"},{amount:1,type:"keys",icon:"icon-key.png"},{type:"hoverboard",amount:1,boxType:"mystery-box"}]}),$i.prizesPanel.open("mini-mystery-box")},1e3)}async toAwards(){this.resetUi(),this.idleGame(),$i.showLoadingMessage(),await $i.loader.loadAllIdleCharacters(),$i.hideLoadingMessage(),$i.mePanel.open(),$i.mePanel.setSection("awards"),this.opened=$i.mePanel}async toGame(){this.resetUi(),$i.showLoadingMessage(),await $i.loader.loadSelectedFullCharacter(),$i.hideLoadingMessage(),this.firstRun||await ve.a.SDK.commercialBreak(!0),$i.resources.manager.areManifestsLoaded(["game-basic"])?this.runGame():$i.resources.loading?$i.resources.manager.onLoadComplete.connect(this.runGame):this.runGame(),this.firstRun=!1}toPrizeScreen(e){void 0===e&&(e="mystery-box");const t=Object(Li.a)(e);$i.prizeScreen.open({prizes:[t]})}async toGameover(e){void 0===e&&(e=!1),this.resetUi(),$i.game.onGameover.remove(this),this.onGameplayFinish.dispatch(),$i.game.stats.score>$i.user.highscore||e?($i.highScoreScreen.open(),$i.highScoreScreen.onExit.addOnce(()=>$i.gameover.open())):$i.gameover.open()}async gameover(){await Object(qt.a)(.75),$i.saveme.open()}}var Fi=i(61);function Ai(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Gi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(i),!0).forEach((function(t){Ui(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ai(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ui(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Sound_Sound{constructor(e){Ui(this,"app",void 0),Ui(this,"ready",!0),Ui(this,"items",void 0),Ui(this,"_volume",1),Ui(this,"_musicPlaying",""),Ui(this,"onMutedChange",void 0),this.app=e,this.onMutedChange=new p.Signal,this.items={},this.init()}async init(){const e=await F();for(const t in e){const i=e[t].audio;for(const e in i){const s=i[e].shortcut.split(".").shift(),r=E.a.assetsPath+e;this.items[s]=Gi({group:t.split("/").pop(),loop:!1,volume:1,url:r,stream:!1,registered:!1},i[e])}}this.muted=this.app.user.muted,this.app.visibility.onVisibilityChange.connect(this.onVisibilityChange.bind(this)),ve.a.SDK.onBreakStart.add(()=>{this.volume(0)}),ve.a.SDK.onBreakComplete.add(()=>{this.volume(E.a.volume)})}onVisibilityChange(e){Fi.a.systemMuted=!e}ensureRegister(e){const t=this.items[e];if(!t)throw new Error("[Sound] Sound item not found: "+e);t.registered||(t.registered=!0,Fi.a.registerSound({id:e,src:[t.ogg,t.mp3],preload:!0,stream:t.stream,loop:t.loop,volume:t.volume}))}loadGroup(e){void 0===e&&(e="");for(const t in this.items){this.items[t].group===e&&this.ensureRegister(t)}}volume(e){return this._volume=e,Fi.a.volume=this._volume,e}play(e,t){return!this.ready||this.muted?null:(this.ensureRegister(e),Fi.a.playSfx(e,t))}stop(e){if(e){if(!this.items[e].registered)return;Fi.a.sfxChannel.forEach(t=>{t.id===e&&t.stop()})}else Fi.a.sfxChannel.stop()}playMusic(e,t){return!this.ready||this._musicPlaying?null:(this.ensureRegister(e),this._musicPlaying=e,Fi.a.playMusic(e,t))}stopMusic(){this._musicPlaying="",Fi.a.musicChannel.stop()}get muted(){return!!Fi.a.muted}set muted(e){Fi.a.muted=e,Fi.a.volume=e?0:this._volume,this.app.user.muted=e,this.app.user.save(),this.onMutedChange.dispatch(e)}toggleMuted(){this.muted=!this.muted}stopAllFx(){Fi.a.sfxChannel.stop()}async musicFadeOut(e){Fi.a.musicChannel.fadeTo(0,.5),e&&(await Object(qt.a)(e),Fi.a.musicChannel.fadeTo(1,.5))}musicFadeIn(){Fi.a.musicChannel.fadeTo(1,1)}}function Vi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class DeepStore_DeepStore{constructor(e){if(Vi(this,"saved",{}),Vi(this,"onChange",new p.Signal),Vi(this,"storage",void 0),Vi(this,"key",void 0),this.key=e,"DeepStore"===this.constructor.name)throw new Error("This class is made to be extended, should work only as subclass.");m.a.isLocalStorageAllowed?this.storage=window.localStorage:m.a.isSessionStorageAllowed?this.storage=window.sessionStorage:this.storage=new CookieStorage(this.key,30),Object.defineProperty(this,"key",{enumerable:!1}),Object.defineProperty(this,"onChange",{enumerable:!1}),Object.defineProperty(this,"saved",{enumerable:!1}),Object.defineProperty(this,"storage",{enumerable:!1})}save(){if(!this.key)throw new Error("[Store] Save failed: invalid key");const e=this.getData();if(v(f(this.saved,e)))return;const t=JSON.stringify(e);this.storage.setItem(this.key,t),this.saved=e,this.onChange.dispatch()}load(){if(!this.key)throw new Error("[Store] Load failed: invalid key");const e=this.storage.getItem(this.key);let t={};try{t=e?JSON.parse(e):{}}catch(e){}t=this.cleanSavedData(t),Object.assign(this,t),this.saved=t}cleanSavedData(e){const t=g(this),i=g(e);for(const e in i){const s=e.split(".").pop();let r=!1;for(const a in t){if(r=r||a===e,r){const s=t[a],r=i[e];Array.isArray(s)&&Array.isArray(r)&&(r.push(...s.filter(e=>!r.includes(e))),i[a]=r),typeof s!=typeof r&&(i[a]=s);break}a.split(".").pop()===s&&(i[a]=i[e],delete i[e])}r||delete i[e]}for(const e in t){let s=!1;for(const t in i)s=s||t===e;s||(i[e]=t[e])}return function(e){const t={};for(const i in e){const s=i.split(".");let r=t;for(let t=0;t<s.length;t++){const a=t===s.length-1;r[s[t]]=a?e[i]:r[s[t]]||{},r=r[s[t]]}}return t}(i)}getData(){return JSON.parse(JSON.stringify(this))}}function Wi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoardSettings_BoardSettings extends DeepStore_DeepStore{constructor(){super("BoardSettings"),Wi(this,"name","hoverboard"),Wi(this,"powerups",[0]),this.load()}}function Ki(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class CharacterSettings_CharacterSettings extends DeepStore_DeepStore{constructor(){super("CharacterSettings"),Ki(this,"name","jake"),Ki(this,"outfit",0),this.load()}}const Ji=["angry","amazing","ultimate","mysterious","obscure","fancy","funky","skiing","falling","super","sling","rodeo","crazy","rooftop","pointy","rolling","double","virtual","original","total","triple","happy","jelly","magic","interactive","talking","extreme","grippy","loopy","hidden","smart","pixel","real","random","charming","epic","fruity","sweet","mini","giant","tiny","bubbly","little"],Xi=["android","boom","beach","station","wolf","glass","banana","train","road","snout","ham","bob","kong","town","subway","iron","slime","king","knight","survival","princess","doctor","hair","zoi","booze","piano","library","party","rogue","chicken","horse","penguin","sloth","geometry","burger","cooking","factory","town","cave","pants","judge","shoe","salon","money","candy","paint","stickman","master","cookie","story","helix","piñata","dragon","ball","picnic","bottle","tower","soda","bullet","hero","sky","guru","news","space","fruit","ninja","samurai","shock","lightning","cowboy","water","bubble","palace","skate","coffee","freeze","ice","vanilla","summer","business","elevator","guitar","room","plant","tree","zombie","pizza","fire","marble","tunnel","fish","snake","desk","phone"];function Yi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class GameSettings_GameSettings extends DeepStore_DeepStore{constructor(){super("GameSettings"),Yi(this,"name",class NicknameGen{static generateName(){return this.randomPick(...Ji)+this.randomPick(...Xi)}static randomPick(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(s=t[Math.floor(Math.random()*t.length)]).charAt(0).toUpperCase()+s.slice(1);var s}}.generateName()),Yi(this,"muted",!1),Yi(this,"tutorial",!1),Yi(this,"adConsent",!1),Yi(this,"wordHunt",{word:"",currentLetter:"",completed:[]}),Yi(this,"currencies",{coins:0,keys:5}),Yi(this,"highscore",0),Yi(this,"missions",[]),Yi(this,"rewardedBreakPrize",0),this.load()}}function qi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ShopSettings_ShopSettings extends DeepStore_DeepStore{constructor(){super("ShopSettings"),qi(this,"purchased",{characters:["jake"],outfits:[],boards:["hoverboard"],boosts:{consumables:{hoverboard:3,mysteryBox:0,scoreBooster:0,headstart:0},permanents:{jetpack:0,sneakers:0,magnet:0,multiplier:0}}}),this.load()}}function Zi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class User_User{constructor(){Zi(this,"nameSetByUser",!1),Zi(this,"_score",0),Zi(this,"avatar",0),Zi(this,"gameSettings",new GameSettings_GameSettings),Zi(this,"characterSettings",new CharacterSettings_CharacterSettings),Zi(this,"boardSettings",new BoardSettings_BoardSettings),Zi(this,"shopSettings",new ShopSettings_ShopSettings),Zi(this,"onCoinsSpent",new p.Signal),E.a.reset&&(this.gameSettings.storage.clear(),this.characterSettings.storage.clear(),this.shopSettings.storage.clear(),this.gameSettings=new GameSettings_GameSettings,this.characterSettings=new CharacterSettings_CharacterSettings,this.shopSettings=new ShopSettings_ShopSettings),(E.a.modCoins||E.a.gdAwardKeys)&&(this.coins+=Math.round(Number(E.a.modCoins)),this.keys+=Math.round(Number(E.a.gdAwardKeys)),this.coins<0&&(this.coins=0),this.keys<0&&(this.keys=0),this.save())}save(){this.gameSettings.save(),this.shopSettings.save(),this.characterSettings.save(),this.boardSettings.save()}get onGameSettingsChange(){return this.gameSettings.onChange}get onCharacterSettingsChange(){return this.characterSettings.onChange}get character(){return this.characterSettings.name}set character(e){this.characterSettings.name=e}get outfit(){return this.characterSettings.outfit}set outfit(e){this.characterSettings.outfit=e}get board(){return this.boardSettings.name}set board(e){this.boardSettings.name=e}get boardPowers(){return this.boardSettings.powerups}set boardPowers(e){this.boardSettings.powerups=e}get score(){return this._score}set score(e){e!==this._score&&(this._score=e,e>this.gameSettings.highscore&&(this.gameSettings.highscore=e))}get highscore(){return this.gameSettings.highscore}set highscore(e){this.gameSettings.highscore=e}get name(){return this.gameSettings.name}set name(e){this.gameSettings.name=e}get muted(){return this.gameSettings.muted}set muted(e){e!==this.muted&&(this.gameSettings.muted=e)}get tutorial(){return this.gameSettings.tutorial}set tutorial(e){e!==this.tutorial&&(this.gameSettings.tutorial=e)}get coins(){return this.gameSettings.currencies.coins}set coins(e){const t=this.gameSettings.currencies.coins-e;t>0&&this.onCoinsSpent.dispatch(t),this.gameSettings.currencies.coins=e}get keys(){return this.gameSettings.currencies.keys}set keys(e){this.gameSettings.currencies.keys=e}get boosts(){return this.shopSettings.purchased.boosts}set currentLetter(e){this.gameSettings.wordHunt.currentLetter=e}get currentLetter(){return this.gameSettings.wordHunt.currentLetter}set completedHunts(e){this.gameSettings.wordHunt.completed=e}get completedHunts(){return this.gameSettings.wordHunt.completed}set huntWord(e){this.gameSettings.wordHunt.word=e}get huntWord(){return this.gameSettings.wordHunt.word}get leaderboardEntry(){return{score:this.score,date:0,profile:{name:this.name,image:this.avatar}}}progressMission(e,t,i){let s=this.gameSettings.missions[i];s||(s=[],this.gameSettings.missions[i]=s);const r=s.find(t=>t.id===e);r?r.progress=t:s.push({id:e,progress:t}),this.save()}openMysteryBox(e){let{type:t,amount:i}=e;const s=this.shopSettings.purchased.boosts.consumables;if("coins"===t)this.coins+=i;else if("keys"===t)this.keys+=i;else if("hoverboard"===t)s.hoverboard+=i;else if("headstart"===t)s.headstart+=i;else{if("scoreBooster"!==t)throw new Error("Invalid prize type: "+t);s.scoreBooster+=i}this.save()}}function Qi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}d.settings.PRECISION_VERTEX=E.a.vertp||d.PRECISION.HIGH,d.settings.PRECISION_FRAGMENT=E.a.fragp||d.PRECISION.LOW,d.settings.PREFER_ENV=d.ENV.WEBGL2;class SubwaySurfersApp_SubwaySurfersApp extends s.a{constructor(){super(...arguments),Qi(this,"extensions",[]),Qi(this,"stage",void 0),Qi(this,"resources",void 0),Qi(this,"i18n",void 0),Qi(this,"visibility",void 0),Qi(this,"resize",void 0),Qi(this,"nav",void 0),Qi(this,"library",void 0),Qi(this,"sound",void 0),Qi(this,"game",void 0),Qi(this,"ui",void 0),Qi(this,"user",void 0),Qi(this,"gameover",void 0),Qi(this,"title",void 0),Qi(this,"viewer",void 0),Qi(this,"saveme",void 0),Qi(this,"topRun",void 0),Qi(this,"boostShop",void 0),Qi(this,"mePanel",void 0),Qi(this,"myTourPanel",void 0),Qi(this,"settings",void 0),Qi(this,"loader",void 0),Qi(this,"extras",void 0),Qi(this,"data",void 0),Qi(this,"shop",void 0),Qi(this,"notEnoughCurrency",void 0),Qi(this,"buyBoards",void 0),Qi(this,"prizesPanel",void 0),Qi(this,"prizeScreen",void 0),Qi(this,"ageGatePanel",void 0),Qi(this,"consentPanel",void 0),Qi(this,"boostPanel",void 0),Qi(this,"screenBlocker",void 0),Qi(this,"notification",void 0),Qi(this,"awards",void 0),Qi(this,"highScoreScreen",void 0),Qi(this,"background",void 0),Qi(this,"message",void 0)}async run(){d.Ticker.system.maxFPS=E.a.fps,d.utils.isWebGLSupported()?(this.user=this.addExtension(new User_User),this.data=this.addExtension(new AppData_AppData),this.stage=this.add(r.a,{backgroundColor:14194135,width:window.innerWidth,height:window.innerHeight,antialias:!1,transparent:!1,resolution:E.a.resolution}),this.resources=this.add(a.a,{manifest:await F(),version:E.a.quality,extraLoadAttempts:E.a.loadExtraAttempts,extraLoadAttemptsInterval:1}),this.i18n=this.add(o.a,{entryDefaults:{fontName:"Titan One"}}),this.visibility=this.add(n.a),E.a.stats&&this.add(l.a),this.resize=this.addExtension(new Resizer_Resizer({maxRenderScale:E.a.maxRenderScale})),this.addBackground(),this.ui=this.addExtension(new UI_UI),this.nav=this.addExtension(new Navigation_Navigation),this.library=this.addExtension(new Library_Library(this)),this.sound=this.addExtension(new Sound_Sound(this)),this.title=this.addExtension(new TitleScreen_TitleScreen),this.gameover=this.addExtension(new Gameover_Gameover),this.saveme=this.addExtension(new SaveMe_SaveMe),this.topRun=this.addExtension(new TopRun_TopRun),this.mePanel=this.addExtension(new MePanel_MePanel),this.myTourPanel=this.addExtension(new MyTourPanel_MyTourPanel),this.loader=this.addExtension(new AppLoader_AppLoader(this)),this.boostShop=this.addExtension(new BoostShop_BoostShop),this.settings=this.addExtension(new Settings_Settings),this.shop=this.addExtension(new Shop_Shop),this.notEnoughCurrency=this.addExtension(new NotEnoughCurrency_NotEnoughCurrency),this.buyBoards=this.addExtension(new BuyBoards_BuyBoards),this.prizesPanel=this.addExtension(new MysteryBoxPrizes_MysteryBoxPrizes),this.prizeScreen=this.addExtension(new PrizeScreen_PrizeScreen),this.ageGatePanel=this.addExtension(new AgeGatePanel_AgeGatePanel),this.consentPanel=this.addExtension(new ConsentPanel_ConsentPanel),this.screenBlocker=this.addExtension(new ScreenBlocker_ScreenBlocker),this.boostPanel=this.addExtension(new BoostsPanel_BoostsPanel),this.notification=this.addExtension(new Notification_Notification),this.awards=this.addExtension(new Awards_Awards(this)),this.highScoreScreen=this.addExtension(new HighScoreScreen_HighScoreScreen),this.stage.view.remove(),await this.init(),await u.a.init(),Object(It.g)(),h.a._version=E.a.quality,E.a.extra?this.extras=this.addExtension(new AppExtras_AppExtras(this)):await this.loader.proceed(),this.initUserDebugData()):this.tearDown("This browser does not support WebGL.")}async show(){this.stage.view.parentNode||(await Object(c.a)(),await Object(c.a)(),await Object(c.a)(),window.loadingBar&&window.loadingBar.hide(),document.body.appendChild(this.stage.view),this.stage.view.style.filter="saturate("+E.a.canvasSaturation+")")}createGame(){this.game||(this.game=this.addExtension(new _.a(this,this.sound)),this.game.idle(),this.awards.initialise())}addExtension(e){if(this.extensions.indexOf(e)>=0)throw new Error("Extension already added");return this.initRunner.add(e),this.prepareRunner.add(e),this.startRunner.add(e),this.extensions.push(e),e}showLoadingMessage(){this.message||(this.message=document.getElementById("message")),this.message&&document.body.appendChild(this.message)}hideLoadingMessage(){this.message||(this.message=document.getElementById("message")),this.message&&this.message.remove()}tearDown(e){d.Ticker.system.destroy(),this.stage&&this.stage.view.remove(),window.loadingBar&&window.loadingBar.hide();const t=document.getElementById("message")||document.createElement("div");t.id="message",t.innerHTML='\n        <div id="message">\n        <h1>'+e+"</h1>\n        </div>\n        ",t.parentNode||document.body.appendChild(t)}initUserDebugData(){E.a.gdFreeMysteryBox&&this.nav.toPrizeScreen(),this.user.save()}addBackground(){const e=new d.Graphics;this.stage.mainContainer.addChild(e);const t=()=>{const t=((e,t)=>{const i=document.createElement("canvas"),s=i.getContext("2d"),r=s.createLinearGradient(50,0,50,40);return r.addColorStop(0,e),r.addColorStop(1,t),s.fillStyle=r,s.fillRect(0,0,100,100),d.Texture.from(i)})(E.a.backgroundUpperGradient,E.a.backgroundLowerGradient);e.beginTextureFill({texture:t}).drawRect(0,0,100,100).endFill(),e.width=window.innerWidth*(window.devicePixelRatio||1),e.height=window.innerHeight*(window.devicePixelRatio||1)};t(),this.resize.onResize.connect(()=>{t()}),e.fillBackground=t,this.background=e}}const $i=new SubwaySurfersApp_SubwaySurfersApp},,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return z}));i(4),i(58);var s=i(14),r=i(90),a=i(37),o=i(0),n=i(94),l=i(270),h=i(215),c=i(16),d=i(1),u=i(82),p=i(64);const m=i(498).default,b=i(499).default;class GradientMaterial_GradientMaterial extends u.a{constructor(e){void 0===e&&(e={});e.uniforms=p.a.group,super(e,m,b,["#define BEND"],"gradient");const t=this.uniforms;t.uGradientA=void 0===e.gradientA?[1,1,1]:o.utils.hex2rgb(e.gradientA),t.uGradientB=void 0===e.gradientB?[1,1,1]:o.utils.hex2rgb(e.gradientB)}}var f,g,v;f=GradientMaterial_GradientMaterial,v=void 0,(g=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(g="_uniformGroup"))in f?Object.defineProperty(f,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):f[g]=v;var y=i(72),w=i(2),_=i(20),x=i(271),S=i(124),P=i(272),C=i(273),k=i(274),O=i(275),T=i(276),j=i(41);function M(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let N=Math.random()<.5?0:1;class HollywoodTheme_Minecart extends c.a{constructor(e){super(),M(this,"anim",void 0),M(this,"activator",void 0),this.levelEntity=!1,this.add(n.a),this.anim.addScene({file:e,texture:"environment-tex",fps:25,offset:0,clips:{Ride:{frames:[0,100]}}}),this.model=this.anim.container,this.addChild(this.model),this.anim.play("Ride",{loop:!0,mixRatio:.1})}}function E(e,t){t.x*=o.DEG_TO_RAD,t.y*=o.DEG_TO_RAD,t.z*=o.DEG_TO_RAD;const i=new a.a;return i.makeRotationFromEuler(t),i.setPosition(e),i}var B;const z=new class HollywoodTheme_HollywoodTheme{constructor(){M(this,"glslFogColor",function(){const e=S.fogColor.indexOf("(")+1,t=S.fogColor.indexOf(")"),i=S.fogColor.substring(e,t).split(",").map(e=>{const t=parseFloat(e);return Math.pow(t,2.2)});return"vec3("+i[0]+", "+i[1]+", "+i[2]+")"}()),M(this,"glslFogNear",428),M(this,"glslFogFar",784)}handleSkyline(e){const t=w.a.library.getEntity("sl_monument_1",{fog:!1}),i=new GradientMaterial_GradientMaterial({gradientA:14786699,gradientB:14053744});t.view3d.material=i,e.addChild(t);const s=w.a.library.getEntity("sl_monument_2",{fog:!1});s.view3d.material=i,t.addChild(s)}hideTutorialGatesFloor(e){return!!e.name.match("tutorial")}addEpicFloor(){return!1}hideTubeFloors(){return!1}hasWagons(){return!0}stringHexToNumber(e){return parseInt(e.replace(/^#/,""),16)}handleEpicStart(e,t){e.levelEntityRemovalOffset=-600}handleEpicMid(e,t){t.parent.removeChild(t)}handleEpicEnd(e,t){t.parent.removeChild(t)}handleTubeStart(e){var t;j.a.handleChunkConfig(null===(t=z.tunnelConfig)||void 0===t?void 0:t.call(z),e,"tube_mid",!0,d.a.blockSize)}handleTubeEnd(e){var t;j.a.handleChunkConfig(null===(t=z.tunnelConfig)||void 0===t?void 0:t.call(z),e,"tube_mid",!0,d.a.blockSize)}fillersEventItems(e,t,i,s,r){}handleThemeMaterial(e,t,i){if("epic_western"===t){const t=new HollywoodTheme_Minecart("mineCart1");e.addChild(t);const i=new HollywoodTheme_Minecart("mineCart2");e.addChild(i)}else if(t.includes("pillars_mid_var01")){const t=E(new s.a(-45.2,16.8,44.5),new r.a(0,90,180)),i=E(new s.a(5,2.93,11.3),new r.a(5.898024,.4171604,-175.947));this.addLasers(e,C,t,i)}else if(t.includes("pillars_mid_var02")){const t=E(new s.a(63.3,16.8,111),new r.a(0,0,0)),i=E(new s.a(-20.6,-1.7,-.8),new r.a(-8.238647,-92.14703,-8.626766e-7));this.addLasers(e,k,t,i)}else t.includes("tube_end")?(this.addFire(e,49.3,20.9,-20.5),this.addFire(e,-48.1,20.9,-20.5)):t.includes("tube_extra_01")?(this.addFire(e,-58.4,55.06,49.8),this.addFire(e,58.6,55.06,49.8)):t.includes("tube_extra_02")&&(this.addFire(e,-32.56,15.1,73.59),this.addFire(e,-39.02,15.1,73.59))}addFire(e,t,i,s){const r=_.a.unityParticle(x,"fire",1);r.rx=.5*-Math.PI,r.x=t,r.y=i,r.z=s,e.addChild(r)}addLasers(e,t,i,o){const n=_.a.unityParticle(t,"environment-tex",1),l=(new a.a).multiplyMatrices(i,o),h=(new r.a).setFromRotationMatrix(l),c=(new s.a).setFromMatrixPosition(l);n.x=-c.x,n.y=c.y,n.z=c.z,n.rx=h.x,n.ry=-h.y,n.rz=-h.z,e.addChild(n)}applyBlendMode(e,t){if(e.view3d){const i=e.view3d.state;i.blend=!0,i.blendMode=t,i.depthMask=!1}}applyColor(e,t,i){if(!e.view3d)return;const s=e.view3d.material;void 0!==t&&(s.color=function(e){let t=(e>>16&255)/255,i=(e>>8&255)/255,s=(255&e)/255;return t=Math.floor(255*Math.pow(t,2.2)),i=Math.floor(255*Math.pow(i,2.2)),s=Math.floor(255*Math.pow(s,2.2)),t<<16|i<<8|s}(t)),void 0!==i&&(s.opacity=i)}applyMap(e,t,i,s,r,a,n){void 0===s&&(s=!1),void 0===r&&(r=!0),void 0===a&&(a=!1);const c=w.a.library.getMap(t);c.baseTexture.wrapMode=o.WRAP_MODES.REPEAT;const d=a?"diffuseMapPremultiplied":"diffuseMap",u=new y.a({[d]:c,customFog:r,vertexColors:s,wave:n});e.view3d&&(e.view3d.material=u,i&&!e.getComponent(h.a)&&e.addComponent(h.a,{x:i[0],y:i[1]})),n&&e.addComponent(l.a)}overrideGameConfig(){d.a.theme="hollywood",d.a.backgroundUpperGradient="#cab9da",d.a.backgroundLowerGradient="#fbd69c",d.a.trainLightColor=S.trainLightColor,d.a.trainLights=1,d.a.trainXOffset=0,d.a.trainYOffset=-15,d.a.trainZOffset=0,d.a.subLightColor=S.subLightColor,d.a.subLights=1,d.a.subXOffset=0,d.a.subYOffset=-15,d.a.subZOffset=0,d.a.trainLightTexture="environment-tex",d.a.trainLightModelName=["train_light_standard","train_light_sub","train_light_freight"],d.a.trainSideLightModelName=[],d.a.trainSideLightModelName[3]="train_standard_windows",d.a.trainSideLightModelName[5]="train_standard_windows2",d.a.trainLightScale=1}fillerConfig(){return P}tunnelConfig(){return T}specialConfig(){return O}altEpics(){return N++%2==0}};null===(B=z.overrideGameConfig)||void 0===B||B.call(z)},,function(e,t,i){"use strict";i.d(t,"a",(function(){return Math2}));i(4);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Math2{static lerp(e,t,i,s){return void 0===s&&(s=0),s&&e>=t-s&&e<=t+s?t:e+(t-e)*(i<0?0:i>1?1:i)}static lerpCap(e,t,i,s,r){if(void 0===s&&(s=0),void 0===r&&(r=0),s&&e>=t-s&&e<=t+s)return t;let a=(i<0?0:i>1?1:i)*(t-e);return r&&(a=this.clamp(a,-r,r)),e+a}static clamp(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=1),e<t?t:e>i?i:e}static sign(e,t){return void 0===t&&(t=!1),t?e<0?-1:e>0?1:0:e<0?-1:1}static ease(e,t,i,s){const r=-(e-t)*i;return s?this.clamp(r,-s,s):r}static lerpVec3(e,t,i,s,r){return void 0===r&&(r=0),e.x=this.lerp(t.x,i.x,s,r),e.y=this.lerp(t.y,i.y,s,r),e.z=this.lerp(t.z,i.z,s,r),e}static smoothStep(e,t,i){return(i=this.clamp((i-e)/(t-e),0,1))*i*(3-2*i)}static smoothDamp(e,t,i,s,r,a){const o=2/(s=Math.max(1e-4,s)),n=o*a,l=1/(1+n+.479999989271164*n*n+.234999999403954*n*n*n),h=e-t,c=t,d=r*s,u=this.clamp(h,-d,d),p=(i+o*u)*a;i=(i-o*p)*l;let m=(t=e-u)+(u+p)*l;return c-e>0==m>c&&(m=c,i=(m-c)/a),m}}s(Math2,"PI_HALF",.5*Math.PI),s(Math2,"PI_QUARTER",.25*Math.PI),s(Math2,"PI_DOUBLE",2*Math.PI),s(Math2,"DEG_TO_RAD",.0174533)},function(e,t,i){"use strict";i.d(t,"a",(function(){return Graph}));i(11),i(4);var s=i(0);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Graph{static rect(e){return e.image?this.rectImg(e):this.rectColor(e)}static rectColor(e){void 0===e&&(e={});const t=a(a({},{name:"rectColor",w:120,h:120,x:0,y:0,round:0,alpha:1,color:3246014}),e),i=new s.Graphics;i.beginFill(t.color,t.alpha);const r=-t.w/2+t.x,o=-t.h/2+t.y;return t.round?i.drawRoundedRect(r,o,t.w,t.h,t.round):i.drawRect(r,o,t.w,t.h),i.endFill(),i}static rectImg(e){void 0===e&&(e={});const t=a({name:"rectImg",w:120,h:120,x:0,y:0,l:15,t:15,r:25,b:25,image:"box-border-grey.png"},e),i=s.Texture.from(t.image),r=new s.NineSlicePlane(i,t.l,t.t,t.r,t.b);return r.width=t.w,r.height=t.h,r.x=.5*-t.w+t.x,r.y=.5*-t.h+t.y,r}static rectComp(){const e=new s.Container;for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];for(const t of i){const i=this.rect(t);e[t.name]=i,e.addChild(i)}return e}static roundRectBorder(e){void 0===e&&(e={});const t=Object.assign({w:120,h:120,round:5,color:3246014,alpha:1,borderWidth:12,borderColor:16777215},e),i=Object.assign({name:"fill"},t);if(t.borderColor>=0){const e={name:"border",w:t.w+t.borderWidth,h:t.h+t.borderWidth,round:t.round+.5*t.borderWidth,color:t.borderColor,alpha:t.alpha};return this.rectComp(e,i)}return this.rect(i)}static rectShadow(e){void 0===e&&(e={});const t=Object.assign({w:120,h:120,round:0,color:3246014,alpha:1,shadowDistance:8,shadowColor:0,shadowAngle:.25*Math.PI,shadowAlpha:1,x:0,y:0},e),i=Object.assign({},t,{name:"fill"}),s=Object.assign({},t,{name:"shadow",color:t.shadowColor,alpha:t.shadowAlpha,x:t.x+Math.sin(t.shadowAngle)*t.shadowDistance,y:t.y+Math.cos(t.shadowAngle)*t.shadowDistance});return this.rectComp(s,i)}static rectBorder(e){void 0===e&&(e={});const t=Object.assign({w:120,h:120,round:5,color:3246014,alpha:1,borderWidth:8,borderColor:0,borderAlpha:1},e),i=Object.assign({},t,{name:"fill"}),s=Object.assign({},t,{name:"border",w:t.w+2*t.borderWidth,h:t.h+2*t.borderWidth,color:t.borderColor,alpha:t.borderAlpha,round:t.round+.5*t.borderWidth});return this.rectComp(s,i)}static clear(e){if(e.clear&&e.clear(),e.children)for(const t in e.children)this.clear(e.children[t])}static resize(e,t,i){if(e.width&&(e.width=t,e.height=i),e.children)for(const s in e.children)Graph.resize(e.children[s],t,i)}}},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return GameEntity}));i(11),i(4);var s=i(35);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class GameEntity extends s.a{constructor(e){super(e),r(this,"levelEntity",!0),r(this,"levelEntityRemovalOffset",0),r(this,"removableOnCrash",!1),r(this,"view",void 0),r(this,"model",void 0),r(this,"anim",void 0),r(this,"attractable",void 0),r(this,"body",void 0),r(this,"collectible",void 0),r(this,"dizzy",void 0),r(this,"floating",void 0),r(this,"follower",void 0),r(this,"halo",void 0),r(this,"hoverboard",void 0),r(this,"jetpack",void 0),r(this,"jump",void 0),r(this,"lane",void 0),r(this,"magnet",void 0),r(this,"movable",void 0),r(this,"multiplier",void 0),r(this,"notifier",void 0),r(this,"particles",void 0),r(this,"player",void 0),r(this,"pogo",void 0),r(this,"pop",void 0),r(this,"popPickup",void 0),r(this,"reviveHalo",void 0),r(this,"roll",void 0),r(this,"shadow",void 0),r(this,"shine",void 0),r(this,"sneakers",void 0),r(this,"state",void 0),r(this,"parts",void 0),r(this,"ramp",void 0),r(this,"checkpoint",void 0),r(this,"lowCamera",void 0),r(this,"tutorialTrigger",void 0),r(this,"animationController",void 0),r(this,"namedComponents",{}),r(this,"triggerEnter",void 0),this.levelEntity=!0}get game(){return this.scene}init(){this.active=!0}reset(){this.active=!1}awake(){}sendMessage(e){Array.from(this._components.values()).forEach(t=>{t[e]&&t[e]()})}add(e,t,i){const s=this.addComponent(e,t,i);return i||(i=function(e){let t=e.DEFAULT_NAME;if(!t){t=e.name;const i=t.split("_");i[0]===i[1]&&(t=i[0]),t=t[0].toLowerCase()+t.slice(1)}return t}(e)),this[i]=s,s}onCollect(e){}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Random}));class Random{static color(){return Math.floor(16777215*Math.random())}static range(e,t,i){void 0===i&&(i=!1);const s=e+(t-e)*Math.random();return i?Math.floor(s):s}static pick(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t[Math.floor(Math.random()*t.length)]}static item(e){if(Array.isArray(e))return e[Math.floor(Math.random()*e.length)];const t=Object.keys(e);return e[t[Math.floor(Math.random()*t.length)]]}static shuffle(e){let t,i,s=e.length;for(;0!==s;)i=Math.floor(Math.random()*s),s-=1,t=e[s],e[s]=e[i],e[i]=t;return e}}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return GameComponent}));i(4);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class GameComponent{constructor(e,t){void 0===t&&(t={}),s(this,"entity",void 0),s(this,"data",void 0),this.entity=e,this.data=t}reset(){}respawn(){}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return EntityTools_EntityTools}));i(11),i(4);var s=i(572),r=i(35),a=i(552),o=i(185),n=i(181),l=i(83),h=i(148),c=i(0),d=i(127),u=i(82);const p=i(486).default,m=i(487).default;class ParticleMaterial_ParticleMaterial extends u.a{constructor(e){void 0===e&&(e={});const t=[];e.map&&t.push("#define MAP"),super(e,p,m,t,"particle")}}var b,f,g;b=ParticleMaterial_ParticleMaterial,g=void 0,(f=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(f="_uniformGroup"))in b?Object.defineProperty(b,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):b[f]=g;var v=i(64);function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x=i(488).default,S=i(489).default;class UnityParticleMaterial_UnityParticleMaterial extends u.a{constructor(e){var t,i;void 0===e&&(e={});const s=["#define BEND"];e.discard&&s.push("#define DISCARD "+e.discard),e.map&&s.push("#define MAP"),s.push("#define MODE "+(null!==(t=e.renderMode)&&void 0!==t?t:0)),s.push("#define ALIGNMENT "+(null!==(i=e.alignment)&&void 0!==i?i:0)),e.rotationSeparateAxes&&s.push("#define ROTATION_SEPARATE_AXES"),e.uniforms=w(w({},v.a.group),{},{uOpacity:1}),super(e,x,S,s,"unity-particle"+s.join("_"))}get opacity(){return this.uniforms.uOpacity}set opacity(e){this.uniforms.uOpacity=e}}var P=i(72),C=i(2);i(31),i(38),i(32),i(33),i(34),i(75);class RampGeometry_RampGeometry extends l.a{constructor(){super();const e=new Float32Array([-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5]),t=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),i=new Uint16Array([0,0,0,0,0,0,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,19,0,0,0,20,21,23,0,0,0]);this.addAttribute("aPosition",e,3),this.addAttribute("aNormal",t,3),this.addAttribute("aUv",[0,1,1,0,1,1,0,0,0,1,1,0,1,1,0,0,0,1,1,0,1,1,0,0,0,1,1,0,1,1,0,0,0,1,1,0,1,1,0,0,0,1,1,0,1,1,0,0],2),this.addIndex(i)}}var k=i(17);function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class EntityTools_EntityTools{static entityChildren(e){var t;return((null==e||null===(t=e.container)||void 0===t?void 0:t.children)||[]).slice(0)}static toggleRenderable(e,t,i){if(void 0===i&&(i=!0),e.view3d&&(e.view3d.renderable=t),i){const s=this.entityChildren(e);for(const e of s)this.toggleRenderable(e,t,i)}}static setMap(e,t,i,s){if(void 0===s&&(s=!0),e.view3d&&e.view3d.material&&(e.view3d.material[t]=i),s){const r=this.entityChildren(e);for(const e of r)this.setMap(e,t,i,s)}}static findEntity(e,t,i,s){if(void 0===i&&(i=4),!t)throw new Error("A path must be provided");const r=this.childrenFlatMap(e,{},"",i);let a=null;r[t]&&(a=r[t]);for(const e in r)if(e.endsWith(t)&&!e.match("_old")){a=r[e];break}if(a&&s){const e=this.childrenFlatMap(a,{},"",i);for(const t in e){const i=e[t];this.toggleRenderable(i,s.includes(i.name))}}return a}static childrenFlatMap(e,t,i,s){void 0===t&&(t={}),void 0===i&&(i=""),void 0===s&&(s=4);const r=this.entityChildren(e);s-=1;for(const e in r){const a=r[e],o=i+"/"+a.name;t[o]=a,s>0&&this.childrenFlatMap(a,t,o,s)}return t}static box(e,t,i){void 0===t&&(t=k.a.color()),void 0===i&&(i=1);const a=new c.State;a.blend=i<1,a.depthTest=!0;const o=new s.a(e.width,e.height,e.depth,1,1,64),n=new P.a({color:t,opacity:i});return new r.a({geometry:o,material:n,state:a})}static ramp(e,t,i){void 0===i&&(i=1),void 0===t&&(t=k.a.color());const s=new c.State;s.blend=i<1,s.depthTest=!0;const a=new RampGeometry_RampGeometry,o=new P.a({color:t,opacity:i});return new r.a({geometry:a,material:o,state:s})}static plane(e,t,i,s,o){void 0===i&&(i=1);const n=new c.State;n.blend=i<1,n.depthTest=!0,o&&(n.blendMode=o);const l="string"==typeof s?C.a.library.getMap(s):s;if(!l)throw new Error("Map not found for "+s);const h=new a.a(e,t,4,4),d=new P.a({diffuseMap:l,opacity:i});return new r.a({geometry:h,material:d,state:n})}static particle(e,t,i,s,o){void 0===i&&(i=1);const n=new c.State;n.blend=!0,n.depthTest=!1,o&&(n.blendMode=o);const l=C.a.library.getMap(s);if(!l)throw new Error("Map not found for "+s);const h=new a.a(e,t,4,4),d=new ParticleMaterial_ParticleMaterial({map:l,opacity:i});return new r.a({geometry:h,material:d,state:n})}static unityParticle(e,t,i,s){var o,n,u,p,m;const b=new c.State;let f;b.blend=i!==c.BLEND_MODES.NONE,b.depthTest=!0,b.depthMask=i===c.BLEND_MODES.NONE,void 0!==i&&(b.blendMode=i);const g=t?C.a.library.getMap(t):null,v=null!==(o=null===(n=e.renderer)||void 0===n?void 0:n.mode)&&void 0!==o?o:d.a.Billboard,y=null!==(u=null===(p=e.renderer)||void 0===p?void 0:p.alignment)&&void 0!==u?u:0;switch(v){case d.a.Billboard:case d.a.Stretch:f=new a.a(1,1,1,1),f.instanceCount=0;break;case d.a.Mesh:{const t=Object(h.a)(e.renderer.meshes),i=C.a.library.getEntity(t).view3d.data.geometry;f=new l.a,f.addAttribute("aPosition",i.getBuffer("aPosition")),f.addAttribute("aUv",i.getBuffer("aUv")),f.addIndex(i.getIndex()),f.instanceCount=0;break}default:throw new Error("Unsupported render mode!")}const w=new UnityParticleMaterial_UnityParticleMaterial({map:g,renderMode:v,alignment:y,rotationSeparateAxes:(null===(m=e.rotationOverLifetime)||void 0===m?void 0:m.enabled)&&e.rotationOverLifetime.separateAxes,discard:s}),_=new r.a({geometry:f,material:w,state:b});return _.addComponent(d.b,{data:e,geometry:f}),_}static tint(e,t){e.view3d&&e.view3d.material&&(e.view3d.material.color=t);const i=EntityTools_EntityTools.entityChildren(e);let s=i.length;for(;s--;){const e=i[s];EntityTools_EntityTools.tint(e,t)}}static ensureAnimation(e,t,i){const s=null==e?void 0:e.getComponent(o.a),r=i.name;if(!r)throw new Error("[EntityTools] A name for the animation is required");if(!s)throw new Error("[EntityTools] Entity has no animation controller");const a=s._animations,l=a[0],h=T(T({},{name:r,start:0,end:10,animation:l,speed:.015,loop:!0}),i);h.start=Math.max(h.start/t,0),h.end=Math.min(h.end/t,l.duration),a[r]?(a[r].duration=h.end-h.start,a[r].speed=h.speed,a[r].loop=h.loop):a[r]=n.a.fromAnimation(h)}static playAnimation(e,t,i){void 0===i&&(i=!0);const s=null==e?void 0:e.getComponent(o.a);if(!s)throw new Error("[EntityTools] Entity has no animation controller");s._mixing=!1,s._mixRatio=1,s.lastAnimation=null,s.play(t,i),s.updateAnimation(.1),s.render()}static stopAnimation(e,t,i){void 0===i&&(i=!0);const s=null==e?void 0:e.getComponent(o.a);if(!s)throw new Error("[EntityTools] Entity has no animation controller");s._mixing=!1,s._mixRatio=1,s.lastAnimation=null,s.play(t,i),s.updateAnimation(.1),s.render(),s.animation=null}static findWithComponent(e,t){const i=[];return e.container.traverse(e=>{e[t]&&i.push(e)}),i}}},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Poki}));i(11),i(4);var s=i(27);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const a=window;const o=new class PokiSDKWrapper{constructor(){r(this,"onBreakStart",new s.Signal),r(this,"onBreakComplete",new s.Signal)}async getScores(e){throw new Error("Method not implemented.")}init(){const e=a.PokiSDK;return e?e.init(...arguments):n(!1)}setSkipVideo(e){const t=a.PokiSDK;t&&(t._skipVideo=e)}setDebug(){const e=a.PokiSDK;return e?e.setDebug(...arguments):n()}gameLoadingStart(){const e=a.PokiSDK;return e?e.gameLoadingStart(...arguments):n()}gameLoadingFinished(){const e=a.PokiSDK;return e?e.gameLoadingFinished(...arguments):n()}gameplayStart(){const e=a.PokiSDK;return e?e.gameplayStart(...arguments):n()}gameplayStop(){const e=a.PokiSDK;return e?e.gameplayStop(...arguments):n()}async commercialBreak(){const e=a.PokiSDK;if(e._skipVideo)return!0;let t=n(!0);this.onBreakStart.dispatch(),e&&(t=e.commercialBreak(...arguments));let i=void 0;try{i=await t}catch{i=!1}return this.onBreakComplete.dispatch(),i}happyTime(){const e=a.PokiSDK;return e?e.happyTime(...arguments):n()}customEvent(){const e=a.PokiSDK;return e?e.customEvent(...arguments):n()}async rewardedBreak(e,t){void 0===e&&(e={}),void 0===t&&(t=[]);const i=a.PokiSDK;if(i._skipVideo)return!0;i.adBlockerOn||this.customEvent("rewardedBreak","start",e);let s=n(!1);return this.onBreakStart.dispatch(),i&&!i.adBlockerOn&&(s=i.rewardedBreak(...t)),s.then(t=>(i.adBlockerOn||this.customEvent("rewardedBreak","complete",e),this.onBreakComplete.dispatch(),t))}togglePlayerAdvertisingConsent(e,t){const i=a.PokiSDK;return i?i.togglePlayerAdvertisingConsent(e,t):n(!0)}};class Poki{static get SDK(){return o}static sendCustomMessage(e,t,i){a.parent&&a.parent.postMessage({type:"pokiMessageEvent",content:{event:"pokiTrackingCustom",data:{eventNoun:e,eventVerb:t,eventData:i}}},"*")}}function n(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const s={then:e=>(e(...t),s),catch:()=>s};return s}},,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Button}));i(4);var s=i(222),r=i(0),a=i(2),o=i(23),n=i(174),l=i(13);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const u={name:"",key:"",base:null,w:64,h:64,round:5,color:16711680,borderColor:16777215,borderWidth:10,icon:"",iconX:0,iconY:0,iconTint:-1,label:"",labelX:0,labelY:0,labelSize:25,labelFont:"Titan One",labelShadow:0,labelShadowColor:0,labelColor:16777215,labelParams:{},onTap:null,tintBaseOnPress:!0};class Button extends r.Container{constructor(e){void 0===e&&(e={}),super(),d(this,"base",void 0),d(this,"icon",void 0),d(this,"label",void 0),d(this,"badge",void 0),d(this,"_keyField","none"),d(this,"_key",null),d(this,"_onTap",void 0),d(this,"_onKeyDownBind",void 0),d(this,"_selected",!1),d(this,"_options",void 0),d(this,"_baseOriginalTint",16777215),d(this,"_blockEvents",!1),this._options=c({},u),this.setup(e),e.key&&(this.key=e.key),this.on("pointertap",this.onPointerTap.bind(this),this),this.on("pointerdown",this.onPointerDown.bind(this),this),this.on("pointerup",this.onPointerUp.bind(this),this),this.on("pointerupoutside",this.onPointerUp.bind(this),this),o.a.SDK.onBreakStart.add(()=>{this._blockEvents=!0}),o.a.SDK.onBreakComplete.add(()=>{this._blockEvents=!1})}setup(e){void 0===e&&(e={}),this._options=c(c({},this._options),e),this.name=this._options.name,this.onTap=this._options.onTap,this.updateBase(),this.updateIcon(),this.updateLabel()}updateBase(){this._options.base instanceof r.Container?(this.base=this._options.base,this.addChild(this._options.base)):this.base?(l.a.clear(this.base),this.removeChild(this.base)):(this.base=l.a.roundRectBorder(this._options),this.addChild(this.base))}updateIcon(){this.icon&&this.removeChild(this.icon),this._options.icon&&(this.icon||(this.icon=new r.Sprite),this.icon.texture=r.Texture.from(this._options.icon),this.icon.anchor.set(.5),this.icon.x=this._options.iconX,this.icon.y=this._options.iconY,this.icon.tint=this._options.iconTint>=0?this._options.iconTint:16777215,this.addChild(this.icon))}updateLabel(){this.label&&this.removeChild(this.label),this._options.label&&(this.label||(this.label=new s.a(this._options.label,{fontFamily:this._options.labelFont,fontSize:this._options.labelSize,anchorX:.5,anchorY:.5,fill:this._options.labelColor,dropShadow:this._options.labelShadow>0,dropShadowDistance:this._options.labelShadow,dropShadowColor:this._options.labelShadowColor,params:this._options.labelParams})),this.label.options.params=this._options.labelParams,this.label.x=this._options.labelX,this.label.y=this._options.labelY,this.label.id=this._options.label,this.label.refresh(),this.addChild(this.label))}onPointerTap(e){e.data.originalEvent.preventDefault(),this._onTap&&(a.a.sound.play("gui-tap"),this._onTap())}onKeyDown(e){this.interactive&&this.visible&&this._key&&(e.repeat||!this._onTap||this._blockEvents||e[this._keyField]===this._key&&this._onTap())}get key(){return this._key}set key(e){this._key=e,this._keyField="string"==typeof e?"code":"which",this._onKeyDownBind||(this._onKeyDownBind=this.onKeyDown.bind(this)),document.removeEventListener("keydown",this._onKeyDownBind),this._key&&document.addEventListener("keydown",this._onKeyDownBind)}set onTap(e){this._onTap=e,this.enabled=!!e}get onTap(){return this._onTap}set enabled(e){this.interactive=e,this.buttonMode=e;const t=e?1:.5;this.base&&(this.base.alpha=t)}get enabled(){return this.interactive}set selected(e){this._selected=e;const t=e?5592405:16777215;this.base&&(this.base.fill.tint=t)}get selected(){return!!this._selected}get baseWidth(){return this.base?this.base.width:this._options.w?this._options.w:1}get baseHeight(){return this.base?this.base.height:this._options.h?this._options.h:1}tintBase(e){this.base&&(this.base.tint=e)}tintIcon(e){this.icon&&(this.icon.tint=e)}onPointerDown(){this._options.tintBaseOnPress&&this.base instanceof r.DisplayObject&&p(this.base,11184810)}onPointerUp(){this._options.tintBaseOnPress&&this.base instanceof r.DisplayObject&&p(this.base,16777215)}showBadge(){this.badge||(this.badge=new n.a),this.addChild(this.badge),this.badge.visible=!0,this.badge.x=this.baseWidth/2-10,this.badge.y=-this.baseHeight/2+10}hideBadge(){this.badge&&(this.badge.visible=!1)}}function p(e,t){const i=e;i&&(void 0!==i.tint&&(i.tint=t),i.children&&i.children.forEach(e=>p(e,t)))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Widget}));i(11),i(4);var s=i(0),r=i(2);function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Widget extends s.Container{constructor(){super(...arguments),a(this,"_built",!1),a(this,"_opened",!1),a(this,"viewportWidth",512),a(this,"viewportHeight",512),a(this,"viewportScale",1),a(this,"autoAddChild",!0),a(this,"layer",0),a(this,"resize",()=>{this.viewportWidth=r.a.ui.viewportWidth,this.viewportHeight=r.a.ui.viewportHeight,this.viewportScale=r.a.ui.viewportScale,this._opened&&this.onResize()})}get built(){return this._built}get opened(){return this._opened}build(){this._built||(this._built=!0,this.onBuild(),this.onResize())}open(e){this._opened||(this._opened=!0,this._built||this.build(),this.visible=!0,this.autoAddChild&&r.a.ui.layers[this.layer].addChild(this),this.onOpen(e),r.a.resize.onResize.connect(this.resize),this.resize())}close(){this._opened&&this._built&&(this._opened=!1,this.visible=!1,this.autoAddChild&&this.parent&&this.parent.removeChild(this),this.onClose(),r.a.resize.onResize.disconnect(this.resize))}onBuild(){}onOpen(e){}onClose(){}onResize(){}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Game_Game}));i(11),i(4);var s=i(580),r=i(178),a=i(42),o=i(573),n=i(0),l=i(27),h=i(56),c=i(143),d=i(339),u=i(343),p=i(305),m=i(306),b=i(308),f=i(344),g=i(345),v=i(309),y=i(317),w=i(318),_=i(319),x=i(147),S=i(323),P=i(324),C=i(325),k=i(326),O=i(327),T=i(1),j=i(64),M=i(23),N=i(328);function E(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class SmoothTime_SmoothTime extends N.a{constructor(e){void 0===e&&(e={}),super(e),E(this,"smooth",0),e.smooth&&(this.smooth=e.smooth)}nextUpdate(){const e=performance.now(),t=Math.min(e-this._lastTime,this.maxDeltaTime);this.smooth>0&&this.smooth<1?this._deltaTime-=(this._deltaTime-t)*this.smooth:this._deltaTime=t,this._frameTime=this._deltaTime/this._frameDuration,this._lastTime=e}}function B(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Game_Game extends s.a{constructor(e,t){var i,s=()=>super.resize;super({stage:new n.Container,camera:new r.a,renderer:e.stage.renderer,culling:!1}),i=this,B(this,"app",void 0),B(this,"w",void 0),B(this,"h",void 0),B(this,"s",void 0),B(this,"bendX",void 0),B(this,"bendY",void 0),B(this,"aspectRatio",void 0),B(this,"blurred",void 0),B(this,"sfx",void 0),B(this,"state",void 0),B(this,"playingTheme",void 0),B(this,"freeRevivals",void 0),B(this,"paidRevivals",void 0),B(this,"onReset",void 0),B(this,"onIdle",void 0),B(this,"onRun",void 0),B(this,"onPause",void 0),B(this,"onResume",void 0),B(this,"onGameover",void 0),B(this,"onRevive",void 0),B(this,"onEnterTunnel",void 0),B(this,"onExitTunnel",void 0),B(this,"hero",void 0),B(this,"guard",void 0),B(this,"camera",void 0),B(this,"pool",void 0),B(this,"physics",void 0),B(this,"level",void 0),B(this,"hud",void 0),B(this,"stats",void 0),B(this,"missions",void 0),B(this,"controller",void 0),B(this,"environment",void 0),B(this,"route",void 0),B(this,"tutorial",void 0),B(this,"intro",void 0),B(this,"leaderboard",void 0),B(this,"culling",void 0),B(this,"pickup",void 0),B(this,"reseted",!1),B(this,"onPickupPowerup",new l.Signal),B(this,"resize",(function(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=1),s().call(i,e,t),i.updateWorldBend(),i.aspectRatio=t/e,i.w=e,i.h=t,i.s=r,i.hud&&i.hud.resize(),i.controller&&i.controller.resize(e,t)})),M.a.SDK.setSkipVideo(T.a.debug),window.game=this,this.time=new SmoothTime_SmoothTime({smooth:T.a.smoothDelta}),this.freeRevivals=0,this.paidRevivals=0,this.timeScale=1,this.playingTheme=!1,this.app=e,this.w=512,this.h=512,this.s=1,this.state=-1,h.a.init(e.resources.cache),this.bendX=0,this.bendY=0,this.aspectRatio=1,this.blurred=!1,this.sfx=t,this.onReset=new a.a("reset"),this.onIdle=new a.a("idle"),this.onRun=new a.a("run"),this.onPause=new a.a("pause"),this.onResume=new a.a("resume"),this.onGameover=new a.a("gameover"),this.onRevive=new a.a("revive"),this.onEnterTunnel=new a.a("enterTunnel"),this.onExitTunnel=new a.a("exitTunnel"),this.camera=this.addSystem(p.a,{}),this.pool=this.addSystem(o.a,{}),this.physics=this.addSystem(S.a,{}),this.level=this.addSystem(_.a,{}),this.hud=this.addSystem(v.a,{}),this.stats=this.addSystem(k.a,{}),this.missions=this.addSystem(x.b),this.controller=this.addSystem(m.a,{}),this.environment=this.addSystem(g.a,{}),this.route=this.addSystem(C.a,{}),this.tutorial=this.addSystem(O.a,{}),this.intro=this.addSystem(y.a,{}),this.leaderboard=this.addSystem(w.a,{}),T.a.culling&&(this.culling=this.addSystem(b.a)),this.pickup=this.addSystem(P.a,{}),T.a.debug&&this.addSystem(f.a,{}),this.hero=new d.a,this.addChild(this.hero),this.guard=new u.a,this.addChild(this.guard),e.resize.onResize.connect(this.resize),this.resize(e.resize.w,e.resize.h),e.stage.mainContainer.addChild(this.stage),e.resources.manager.onLoadComplete.connect(this.onLoadComplete.bind(this)),this.app.visibility.onVisibilityChange.connect(this.onVisibilityChange.bind(this)),this.culling&&(this.view3d._culling=this.culling)}get stage(){return this.view3d.stage}onVisibilityChange(e){this.resize(this.app.resize.w,this.app.resize.h),e&&this.state===Game_Game.RUNNING&&this.pause()}addChild(e){this.container.root.addChild(e)}removeChild(e){this.container.root.removeChild(e)}get timeScale(){return this.time.timeScale}set timeScale(e){this.time.timeScale=e}get delta(){return this.time.frameTime}get deltaSecs(){return this.time.deltaTime/1e3}update(){this.state!==Game_Game.PAUSED&&super.update()}onFocus(){this.blurred=!1}onBlur(){this.blurred=!0,this.state===Game_Game.RUNNING&&this.pause()}reset(){this.reseted||(this.reseted=!0,this.hero&&(this.timeScale=T.a.timeScale,this.bendX=0,this.bendY=0,this.freeRevivals=0,this.paidRevivals=0,this.hero.reset(),this.guard&&this.guard.reset(),this.onReset.run()))}updateWorldBend(){T.a.bend&&(this.bendX=T.a.bendX*this.aspectRatio,this.bendY=T.a.bendY,j.a.group.uBend[0]=this.bendX,j.a.group.uBend[1]=this.bendY)}idle(){var e;this.state!==Game_Game.IDLE&&(this.state===Game_Game.RUNNING&&M.a.SDK.gameplayStop(),this.tutorial.enabled=!this.app.user.tutorial||T.a.tutorial,this.reset(),this.state=Game_Game.IDLE,this.hero.player.reset(0,1.2),null===(e=this.guard)||void 0===e||e.reset(),this.onIdle.run())}run(){this.state!==Game_Game.RUNNING&&(this.reseted=!1,this.state===Game_Game.GAMEOVER&&this.idle(),c.a.prepopulate(),h.a.refreshCache(),this.hud&&this.hud.build(),this.hero.init(),this.state=Game_Game.RUNNING,this.reset(),this.onRun.run(),this.playTheme(),this.guard&&this.guard.run(),this.hero.run(),M.a.SDK.gameplayStart(),M.a.sendCustomMessage("game","roundStart",{}),this.sfx.volume(T.a.volume))}async runWithIntro(){var e,t;if(this.reseted=!1,this.idle(),c.a.prepopulate(),h.a.refreshCache(),M.a.SDK.gameplayStart(),M.a.sendCustomMessage("game","roundStart",{}),this.playTheme(),this.level.currentChunk)for(const e of this.level.currentChunk.fillerList)e.build();null===(e=this.guard)||void 0===e||e.scale.set(.01),this.hero.playIntro(),this.guard&&this.guard.playIntro(),this.intro.play(),null===(t=this.guard)||void 0===t||t.scale.set(1),this.tutorial.enabled?this.level.queueTutorial():(this.level.queueChunk(),this.level.queueChunk(),this.level.queueChunk())}runFromIntro(){this.reseted=!1,this.hud&&this.hud.build(),this.guard&&this.guard.run(),this.hero.run(),this.camera.run(),this.onRun.run(),this.state=Game_Game.RUNNING}pause(){this.state===Game_Game.RUNNING&&(this.state=Game_Game.PAUSED,this.onPause.run(),M.a.SDK.gameplayStop())}resume(e){void 0===e&&(e=0),this.state===Game_Game.PAUSED&&(e?this.hud.runCountdown(e,this.resume.bind(this)):(this.state=Game_Game.RUNNING,this.onResume.run(),M.a.SDK.gameplayStart()))}async gameover(){this.state!==Game_Game.GAMEOVER&&(this.app.user.keys+=this.stats.keys,this.app.user.save(),this.stats.keys=0,this.app.sound.volume(0),M.a.SDK.gameplayStop(),this.app.sound.volume(T.a.volume),this.camera.exitTunnel(),this.app.user.save(),this.state=Game_Game.GAMEOVER,this.hero.player.stop(),this.guard&&this.guard.catchHero(),this.onGameover.run(),M.a.sendCustomMessage("game","roundEnd",{}),false&&(navigator.sendBeacon("https://leveldata.poki.io/stars","5dd312fa-015f-11ea-ad56-9cb6d0d995f7"),window._gameoverbeacon=!0))}paidRevivalCost(){return Math.pow(2,this.paidRevivals)}revive(e,t){void 0===e&&(e=0),void 0===t&&(t=!1),this.state!==Game_Game.RUNNING&&(this.hero.player.reset(this.hero.body.z,this.hero.body.x,this.hero.body.lane),this.hero.active=!1,this.guard&&this.guard.reset(),e?this.hud.runCountdown(e,()=>this.revive(0,t)):(t?(this.app.user.keys-=this.paidRevivalCost(),this.app.user.keys<0&&(this.app.user.keys=0),this.app.user.save(),this.paidRevivals+=1):this.freeRevivals+=1,this.state=Game_Game.RUNNING,this.level.removeObstacles(),this.hero.active=!0,this.hero.revive(),this.onRevive.run(),this.hero.player.run(0),this.controller.show(),this.guard&&this.guard.run(),M.a.SDK.gameplayStart()))}playTheme(){this.playingTheme||(this.playingTheme=!0,this.sfx.volume(T.a.volume),this.sfx.playMusic("theme",{loops:!0}))}enterTunnel(){this.onEnterTunnel.run()}exitTunnel(){this.onExitTunnel.run()}get profile(){return{deltaStep:this.delta,deltaSecs:this.deltaSecs,objects:this.allEntities.length,entities:this.level.entities.length}}onLoadComplete(){h.a.refreshCache()}}B(Game_Game,"IDLE",0),B(Game_Game,"RUNNING",1),B(Game_Game,"PAUSED",2),B(Game_Game,"GAMEOVER",3)},,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return GameSystem}));i(4);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class GameSystem{constructor(e){s(this,"entity",void 0),s(this,"game",void 0),this.entity=e,this.game=this.entity.scene}}},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return ScreenGlow}));i(4);var s=i(0);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let a=function(e){return e[e.BLUR=0]="BLUR",e[e.BLACK=1]="BLACK",e}({});class ScreenGlow extends s.Container{constructor(e){void 0===e&&(e=a.BLUR),super(),r(this,"w",0),r(this,"h",0),r(this,"bottom",void 0),r(this,"top",void 0),r(this,"bg",void 0),e===a.BLUR?(this.top=s.Sprite.from("base-blurry.png"),this.addChild(this.top),this.top.anchor.y=1,this.top.scale.y=-1,this.top.anchor.x=.5,this.bottom=s.Sprite.from("base-blurry.png"),this.addChild(this.bottom),this.bottom.anchor.x=.5,this.bottom.anchor.y=1,this.bg=new s.Graphics,this.bg.beginFill(0,.5),this.bg.drawRect(-8,-8,16,16),this.bg.endFill(),this.addChild(this.bg)):(this.bg=new s.Graphics,this.bg.beginFill(0,.95),this.bg.drawRect(-8,-8,16,16),this.bg.endFill(),this.addChild(this.bg))}resize(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.w=e||this.w,this.h=t||this.h,this.bg&&(this.bg.width=this.w,this.bg.height=this.h),this.top&&(this.top.y=-this.h/2,this.top.width=this.w,this.top.height=230),this.bottom&&(this.bottom.y=this.h/2,this.bottom.width=this.w,this.bottom.height=230)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return ThemeConfigBuilder}));i(11),i(58);var s=i(35),r=i(14),a=i(90),o=i(37),n=i(277),l=i(167),h=i(2);const c=new Map;class ThemeConfigBuilder{static handleChunkConfig(e,t,i,s,r){if(void 0===s&&(s=!1),void 0===r&&(r=0),!e)return;if(c.has(t))return;c.set(t,!0);const a=e.objects.find(e=>e.meshName===i);a&&(a.meshName?a.meshName!==t.name?ThemeConfigBuilder.addMeshFromDef(a,t,s,r):ThemeConfigBuilder.addChildrenFromDef(a,t,s,r):ThemeConfigBuilder.addContainerFromDef(a,t,s,r))}static addChildrenFromDef(e,t,i,s){e.children.forEach(e=>{t&&(e.meshName?ThemeConfigBuilder.addMeshFromDef(e,t,i,s):ThemeConfigBuilder.addContainerFromDef(e,t,i,s))}),ThemeConfigBuilder.handleScriptComponents(e,t)}static addContainerFromDef(e,t,i,r){if(!e)throw new Error("Unknown filler def!");if(Math.random()>e.activationProbability)return;const a=new s.a;p(e.matrix,a,i,r),t.addChild(a),a.unityName=e.name,ThemeConfigBuilder.addChildrenFromDef(e,a,!1,0)}static addMeshFromDef(e,t,i,s){var o;if(!e)throw new Error("Unknown filler def!");if(Math.random()>e.activationProbability)return;if(e.meshName=e.meshName.replace("_LOD0",""),e.meshName=e.meshName.replace("_LOD1","_low"),!h.a.library.hasGroup(e.meshName)){const i=e.meshName.replace("_LOD0","");if(!h.a.library.hasGroup(i))return void ThemeConfigBuilder.addChildrenFromDef(e,t,!0,s);e.meshName=i}const c=h.a.library.getEntity(e.meshName);if(["train_standard","train_sub"].includes(e.meshName)&&Object(l.a)(c),(null===(o=e.animations)||void 0===o?void 0:o.length)>0&&1===e.animations.length){const t=e.animations[0],i=[];t.value.forEach(e=>{const t=new r.a(e.position.x,e.position.y,e.position.z);i.push([e.time,new r.a(-t.x,t.y,t.z),new a.a(0,0,0)])}),c.addComponent(n.a,i)}p(e.matrix,c,i,s),t.addChild(c),c.unityName=e.name,ThemeConfigBuilder.addChildrenFromDef(e,c,!1,0)}static handleScriptComponents(e,t){var i;null===(i=e.scripts)||void 0===i||i.forEach(e=>{switch(e.name){case"RandomChildRandomizer":ThemeConfigBuilder.randomChildRandomizer(e,t)}})}static randomChildRandomizer(e,t){const i=Math.random()<=e.activationProbability,s=Math.floor(Math.random()*t.container.children.length),r=[];t.container.children.forEach((e,t)=>{e.active=i&&s===t,e.active||r.push(e)}),r.forEach(e=>{var t;null===(t=e.parent)||void 0===t||t.removeChild(e),e.destroy()})}}const d=new o.a,u=new o.a;function p(e,t,i,s){(null==e?void 0:e.length)>0?d.set(e[0],e[3],e[6],e[9],e[1],e[4],e[7],e[10],e[2],e[5],e[8],e[11],0,0,0,1):d.identity(),t.position.set(0,0,0),t.rotation.set(0,0,0),t.scale.set(1,1,1),i&&d.multiplyMatrices(u,d),t.transform.applyMatrix(d),t.x=-t.x,t.rotation.y=-t.rotation.y,t.rotation.z=-t.rotation.z,t.z+=s}u.makeRotationFromEuler(new a.a(0,Math.PI,0))},,function(e,t,i){"use strict";i.d(t,"a",(function(){return f})),i.d(t,"l",(function(){return g})),i.d(t,"k",(function(){return x})),i.d(t,"e",(function(){return P})),i.d(t,"g",(function(){return k})),i.d(t,"d",(function(){return O})),i.d(t,"j",(function(){return T})),i.d(t,"i",(function(){return j})),i.d(t,"h",(function(){return M})),i.d(t,"f",(function(){return N})),i.d(t,"b",(function(){return E})),i.d(t,"c",(function(){return B})),i.d(t,"m",(function(){return z}));var s=i(27),r=i(119),a=i(1),o=i(2);const n=P(),l=["8","0","4","2","1","3","9","5","7","6"],h={a:"~t0",b:"9%/",c:"!J6",d:"Y~g",e:"0d(",f:"w*/",g:"&hu",h:"ZHD",i:"Ud8",j:"OVp",k:"!gb",l:"^Vj",m:"26/",n:"w1?",o:"DGO",p:"-Oj",q:"Gq-",r:"&m5",s:"r@8",t:"$z=",u:"wO=",v:"lXK",w:"Mgz",x:"@PM",y:"@wc",z:"S/-"},c={"0d(":"e","9%/":"b","26/":"m","!J6":"c","!gb":"k","$z=":"t","&hu":"g","&m5":"r","-Oj":"p","@PM":"x","@wc":"y",DGO:"o","Gq-":"q",Mgz:"w",OVp:"j","S/-":"z",Ud8:"i","Y~g":"d",ZHD:"h","^Vj":"l",lXK:"v","r@8":"s","w1?":"n","w*/":"f","wO=":"u","~t0":"a"};function d(){const e=new Date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+a.a.dayModifier).getTime()}function u(e){const t=function(){const e=""+d();let t="";for(let i=0;i<e.length;i++){const s=e[i];t+=""+l.indexOf(s)}return t}();return t.substring(0,n)+e+t.substring(n)}function p(e){const t=e.split(""),i=parseInt(t.splice(n,1)[0],10),s=function(e){let t="";for(let i=0;i<e.length;i++){const s=e[i];t+=""+l[parseInt(s,10)]}return parseInt(t,10)}(e=t.join(""));return d()===s?i:0}function m(e){let t="";for(let i=0;i<e.length;i++)t+=h[e[i]];return t}function b(e){let t="";for(let i=0;i<e.length;i+=3)t+=c[e.substr(i,3)];return t}const f=["jake","tricky","fresh","spike","yutani","kiloo","sybo","poki","coins","keys","mission","hats","guitar","stereo","surfer","subway","magnet","pogo","ufos","run","bye"],g=["mystery-box","mystery-box",1050,2100,"super-mystery-box"],v=new Date("06/28/2021"),y=((((new Date).getTime()-v.getTime())/864e5|0)+a.a.dayModifier)%f.length,w=f[y];let _=0,x=0,S=!1;function P(){return(((new Date).getUTCDay()||7)-1+a.a.dayModifier)%7}function C(){const e=o.a.user,t=m(w),i=e.completedHunts.indexOf(t);e.completedHunts=function(e){const t=[];for(let s=0;s<e.length;s++){const r=e[s];let a="string"==typeof r;a=a&&(i=b(r),f.indexOf(i)>=0),a&&t.push(r)}var i;return t}(e.completedHunts),t!==e.huntWord&&(e.huntWord=t,e.currentLetter="",0===P()&&(e.completedHunts=[])),_=p(e.currentLetter),_===w.length&&i<0&&e.completedHunts.push(t),e.save()}function k(){C();const e=o.a.user.completedHunts.includes(m(w));x=o.a.user.completedHunts.length-Number(e),S=e}function O(){return g[x]}const T=new s.Signal,j=new s.Signal;function M(){return S}function N(){return w}function E(){return w[_]}function B(){return _}function z(){if(S)return;S=_+1===w.length,T.dispatch(_);const e=m(w),t=o.a.user.completedHunts.includes(e);if(S&&!t){const t=O();"number"==typeof t?o.a.user.coins+=t:o.a.game.stats.setPrizes(Object(r.a)(t)),o.a.user.completedHunts.push(e),j.dispatch(),false&&(navigator.sendBeacon("https://leveldata.poki.io/stars","5dd312fa-015f-11ea-ad56-9cb6d0d995f7"),window._unlockbeacon=!0)}_++,o.a.user.currentLetter=u(_),o.a.user.save()}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return Collision}));i(4);var s=i(122);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Collision{constructor(){r(this,"act",null),r(this,"pas",null),r(this,"hit",new s.a),r(this,"flags",Collision.NONE)}reset(){this.act=null,this.pas=null,this.flags=Collision.NONE}}r(Collision,"NONE",0),r(Collision,"LEFT",4),r(Collision,"TOP",8),r(Collision,"RIGHT",16),r(Collision,"BOTTOM",32),r(Collision,"FRONT",64),r(Collision,"BACK",128),r(Collision,"INSIDE",256),r(Collision,"SLOPE",512)},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return UserPanelButton}));i(4);var s=i(0),r=i(28);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class UserPanelButton extends r.a{constructor(e){var t;void 0===e&&(e={});const i=e.base||s.Sprite.from(e.bg||"navigation-button-grey.png");i.scale.set(e.baseScale||.85,e.baseScale||.9),null===(t=i.anchor)||void 0===t||t.set(.5),super(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({base:i,color:3684408,labelSize:20,label:"menu",labelY:68},e))}setup(e){var t;const i=e.base||s.Sprite.from(e.bg||"navigation-button-grey.png");null===(t=i.anchor)||void 0===t||t.set(.5),e.base=i,this.base&&this.removeChild(this.base),super.setup(e),this.onTap=e.onTap}}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return Label}));i(4);var s=i(0),r=i(2);function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={basic:{align:"center",fill:16777215,fontSize:50,fontFamily:"Titan One",lineJoin:"round",dropShadow:!1,dropShadowDistance:3,anchor:.5,maxWidth:0},title:{align:"center",fill:211825,fontSize:70,fontFamily:"Titan One",dropShadow:!1,dropShadowDistance:2,anchor:.5},subtitle:{align:"center",fill:211825,fontSize:60,fontFamily:"Titan One",dropShadow:!1,dropShadowDistance:2,anchor:.5},small:{align:"center",fill:211825,fontSize:50,fontFamily:"Titan One"}};class Label extends s.Container{constructor(e,t,i){void 0===t&&(t="basic"),void 0===i&&(i={}),super(),a(this,"_text",void 0),a(this,"icon",void 0),a(this,"maxWidth",void 0),a(this,"maxHeight",void 0),a(this,"description",void 0),a(this,"_editable",!1),a(this,"_prompting",!1),a(this,"_align","center"),a(this,"inverse",!1);const n="string"==typeof t?o[t]:t;(t=Object.assign({},o.basic,n,i)).i18n&&(e=r.a.i18n.t(t.i18n)),t.align&&(this._align=t.align),this._text=new s.Text(e,t),this._text.anchor.set(t.anchor,.5),this.addChild(this._text),void 0!==t.anchorX&&(this._text.anchor.x=t.anchorX),void 0!==t.anchorY&&(this._text.anchor.y=t.anchorY),t.x&&(this.x=t.x),t.y&&(this.y=t.y),t.maxWidth&&(this.maxWidth=t.maxWidth),t.icon&&(this.icon=s.Sprite.from(t.icon),this.icon.anchor.set(.5),this.addChild(this.icon),this.icon.x=0,this.inverse=!!t.inverse,this.refresh())}get text(){return this._text.text}set text(e){this._text.text!==e&&(this._text.text=String(e),this.refresh())}refresh(){if(this.maxWidth&&this._text.width>this.maxWidth&&(this._text.scale.x=1,this._text.width=this.maxWidth,this._text.scale.y=this._text.scale.x),this.icon)if(this._text.x=0,"left"!==this._align){this.icon.x=this._text.x-.5*this._text.width-.5*this.icon.width-5,this.inverse&&(this.icon.x=this._text.x+this._text.width+.5*this.icon.width);const e=.5*(this.width-this._text.width);this.icon.x+=e,this._text.x+=e}else this.icon.x=0,this._text.x=.5*this.icon.width+3}get editable(){return!!this._editable}set editable(e){this._editable=e,this.interactive=e,this.buttonMode=e,void 0===this.description&&(this.description="Set text");this[this._editable?"on":"off"]("pointertap",this.prompt,this)}prompt(){if(this._prompting)return;this._prompting=!0;const e=window.prompt(this.description,this.text);e&&(this.text=e),this._prompting=!1,this.emit("change",this.text)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Curve}));class Curve{static calculateJumpVerticalSpeed(e,t){if(void 0===t&&(t=0),e<0)throw new Error("Jump height cannot be negative");return Math.sqrt(2*e*t)}static calculateJumpLength(e,t,i){return 2*e*Curve.calculateJumpVerticalSpeed(t)/i}static linear(e){return e}static expoIn(e){return 0===e?e:Math.pow(2,10*(e-1))}static expoOut(e){return 1===e?e:1-Math.pow(2,-10*e)}static expoInOut(e){return 0===e||1===e?e:e<.5?.5*Math.pow(2,20*e-10):-.5*Math.pow(2,10-20*e)+1}static sineIn(e){const t=Math.cos(e*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t}static sineOut(e){return Math.sin(e*Math.PI/2)}static sineInOut(e){return-.5*(Math.cos(Math.PI*e)-1)}static quadIn(e){return e*e}static quadOut(e){return-e*(e-2)}static quadInOut(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)}static quartIn(e){return Math.pow(e,4)}static quartOut(e){return Math.pow(e-1,3)*(1-e)+1}static quartInOut(e){return e<.5?8*Math.pow(e,4):-8*Math.pow(e-1,4)+1}static quintIn(e){return e*e*e*e*e}static quintOut(e){return--e*e*e*e*e+1}static quintInOut(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}static backInOut(e){const t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}static backIn(e){const t=1.70158;return e*e*((t+1)*e-t)}static backOut(e){const t=1.70158;return--e*e*((t+1)*e+t)+1}static circInOut(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}static circIn(e){return 1-Math.sqrt(1-e*e)}static circOut(e){return Math.sqrt(1- --e*e)}static elasticOut(e){return Math.sin(-13*(e+1)*Math.PI/2)*Math.pow(2,-10*e)+1}static elasticIn(e){return Math.sin(13*e*Math.PI/2)*Math.pow(2,10*(e-1))}static elasticInOut(e){return e<.5?.5*Math.sin(13*Math.PI/2*2*e)*Math.pow(2,10*(2*e-1)):.5*Math.sin(-13*Math.PI/2*(2*e-1+1))*Math.pow(2,-10*(2*e-1))+1}}},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Data}));i(58);const s=i(210);let r=null,a=null,o=null;class Data{static init(e){o=e,this.refreshCache()}static sectionMap(){if(a)return a;return a={},function e(t){if(void 0!==t.name)a[t.name]=t;else for(const i in t)e(t[i])}(s),a}static section(e){e=(e=e.replace("routeSection_","")).replace("route_section_","");const t=this.sectionMap(),i=t[e]||t["route_section_"+e]||t["routeSection_"+e];if(!i)throw new Error("Section data not found: "+e);return i}static sectionClone(e){const t=this.sectionMap();if(!t[e])throw new Error("Section data not found: "+e);const i=t[e];return{name:i.name,start:i.start.slice(0),mid:i.start.slice(0),end:i.start.slice(0)}}static chunkMap(e){if(void 0===e&&(e=!1),r&&!e)return r;r={};const t={};for(const e in o)e.indexOf("chunks-")>=0&&(t[e]=o[e]);return function e(t,i){if(!t||!i--)return;if("intro"===t.name)r[t.name]=t;else if(t.components&&t.components.RouteChunk){const e=t.components.RouteChunk._reportedName||t.name;r[e]=t}else if(t.children)for(const s in t.children)e(t.children[s],i);else for(const s in t)e(t[s],i)}(t,5),r}static chunk(e){e=(e=e.replace("routeChunk_","")).replace("route_chunk_","");const t=this.chunkMap(),i=t[e]||t["routeChunk_"+e]||t["route_chunk_"+e]||t["default_"+e];if(!i)throw new Error("Chunk data not found: "+e);return i.__name=e,i}static refreshCache(){r=Data.chunkMap(!0)}}},,,function(e,t,i){"use strict";async function s(e){return new Promise(t=>setTimeout(t,1e3*e))}i.d(t,"a",(function(){return s}))},,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Uniforms}));i(31),i(38),i(32),i(33),i(34),i(4);var s=i(0);const r={uBend:new Float32Array([0,0]),uFogDensity:.008,uFogDistance:410,uFogColor:new Float32Array([1,.552,.349])};class Uniforms{static get group(){return Uniforms._uniformGroup||(Uniforms._uniformGroup=new s.UniformGroup(r,!1)),Uniforms._uniformGroup.uniforms}static getNewGroup(){return new s.UniformGroup(r,!0).uniforms}}var a,o,n;a=Uniforms,n=void 0,(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o="_uniformGroup"))in a?Object.defineProperty(a,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[o]=n},,function(e,t,i){"use strict";var s=i(71),r=i(300),a={movement:i(301),catch:r},o=i(302),n={movement:i(303),catch:o};t.a={avatar:s.a,guard:n,dog:a}},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return UserPanel}));i(4);var s=i(0),r=i(2),a=i(121),o=i(49),n=i(40);function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class UserPanel extends s.Container{constructor(e){void 0===e&&(e={}),super(),h(this,"bg",void 0),h(this,"base",void 0),h(this,"panel",void 0),h(this,"bottomMenu",void 0),h(this,"w",0),h(this,"h",0);const t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({icon:"icon-white-back.png",onTap:()=>r.a.nav.toIdleScreen("title")},e);this.bg=new n.b,this.addChild(this.bg),this.panel=new s.Container,this.addChild(this.panel),this.base=s.Sprite.from("notepad-panel.png"),this.base.anchor.set(.5),this.panel.addChild(this.base);const i=new o.a(t),c=(this.base.width-4*i.width)/5;this.bottomMenu=this.addChild(new a.a({spacing:c,anchorX:0})),this.bottomMenu.addButton(i),this.interactive=!0}addButton(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>this.bottomMenu.addButton(e)),this.resize(this.w,this.h)}resize(e,t){this.bg.resize(e,t),this.w=e,this.h=t,this.bottomMenu.x=this.bottomMenu.options.spacing-this.base.width/2,this.bottomMenu.y=t/2-88,this.panel.y=-this.bottomMenu.height/2}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return BgStripes}));i(4);var s=i(0);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const n={mask:new s.Graphics,baseAlpha:1,w:512,h:512,radius:12,center:{x:0,y:0},color:16711680,glowScale:{x:1,y:1},glowAlpha:1,glow:16711680,blendMode:s.BLEND_MODES.NORMAL,raysAlpha:.25};class BgStripes extends s.Container{constructor(e){void 0===e&&(e={}),super(),o(this,"w",void 0),o(this,"h",void 0),o(this,"stripes",void 0);const t=a(a({},n),e);e.mask||(t.mask=(new s.Graphics).beginFill(16711680).drawRect(-.5,-.5,1,1),t.mask.scale.set(t.w,t.h)),this.w=t.w,this.h=t.h;const i=new s.Graphics;i.beginFill(t.color,t.baseAlpha),i.drawRoundedRect(.5*-t.w,.5*-t.h,t.w,t.h,t.radius),this.addChild(i),this.stripes=new s.Container,this.stripes.addChild(s.Sprite.from("background-stripes-hq.png"),s.Sprite.from("background-stripes-hq.png"),s.Sprite.from("background-stripes-hq.png"),s.Sprite.from("background-stripes-hq.png")),this.stripes.children.forEach(e=>{e.blendMode=t.blendMode,e.tint=t.glow}),this.stripes.children[1].rotation=.5*Math.PI,this.stripes.children[2].rotation=Math.PI,this.stripes.children[3].rotation=1.5*Math.PI,this.stripes.width=1.15*Math.max(t.w,t.h),this.stripes.height=this.stripes.width,this.stripes.x=t.w*t.center.x,this.stripes.y=t.h*t.center.y,this.stripes.alpha=t.raysAlpha,this.addChild(this.stripes);const r=s.Sprite.from("background-superglow.png");r.anchor.set(.5),r.alpha=t.glowAlpha,r.scale.set(t.glowScale.x,t.glowScale.y),r.blendMode=t.blendMode,r.x=this.stripes.x,r.y=this.stripes.y,r.tint=t.glow,this.addChild(r),this.addChild(t.mask),this.mask=t.mask}}},function(e,t,i){"use strict";var s=i(293);function r(e,t,i){void 0===t&&(t={}),void 0===i&&(i=0);for(const s in e){const r=e[s];r.frames=r.frames.map(e=>e+i),t[s]||(t[s]=r)}}var a=i(294),o=i(295),n=i(296),l=i(297),h=i(298);const c={Movement:{offset:0,rawClips:l},TopRun:{offset:2455,rawClips:i(299)},Catch:{offset:3272,rawClips:a},Hover:{offset:3993,rawClips:o},Jet:{offset:7339,rawClips:n},Pogo:{offset:7573,rawClips:h}},d={};for(const e in c){const{offset:t,rawClips:i}=c[e];r(i,d,t)}var u={fps:24,clips:d};t.a={idle:s,game:u}},function(e,t,i){"use strict";i.d(t,"a",(function(){return UnlitHighShaderMaterial_UnlitHighShaderMaterial}));i(31),i(38),i(32),i(33),i(34),i(11),i(4);var s=i(565),r=i(342),a=i(567),o=i(165),n=i(279),l=i(568),h=i(569),c=i(570),d=i(571),u=i(566),p=i(278),m=i(0),b=(i(58),i(268)),f=i(269);const g={vertex:"\n        #version 300 es\n        {{EXTENSIONS}}\n        {{PRECISION}}\n        #define WEBGL2\n        #define varying out\n        #define attribute in\n    ",fragment:"\n        #version 300 es\n        {{EXTENSIONS}}\n        {{PRECISION}}\n        #define WEBGL2\n        #define varying in\n        #define texture2D texture\n        #define textureCube texture\n        #define gl_FragColor color\n        out vec4 color;\n    "},v={vertex:"\n        #version 100\n        {{EXTENSIONS}}\n        {{PRECISION}}\n    ",fragment:"\n        #version 100\n        {{EXTENSIONS}}\n        {{PRECISION}}\n    "},y=/\{\{(.*?)\}\}/g;function w(e){var t,i;const s={};return(null!==(t=null===(i=e.match(y))||void 0===i?void 0:i.map(e=>e.replace(/[{()}]/g,"")))&&void 0!==t?t:[]).forEach(e=>{s[e]=[]}),s}const _={};let x=1;function S(e,t,i){if(e)for(const s in e)if("header"!==s){const r=t[s.toUpperCase()];r&&(i&&r.push("//----"+i+"----//"),r.push(e[s]))}}function P(e,t){let i=e;for(const e in t){const s=t[e];i=s.join("\n").length?i.replace("{{"+e+"}}","//-----"+e+" START-----//\n"+s.join("\n")+"\n//----"+e+" FINISH----//"):i.replace("{{"+e+"}}","")}return i}const C={vertex:{header:"\n            uniform vec2 uBend;\n            vec4 bend(vec4 pos) {\n                float dx = uBend.x;\n                float dy = uBend.y;\n                float z_sqr = pos.w * pos.w;\n                pos.x = pos.x + z_sqr * dx;\n                pos.y = pos.y + z_sqr * dy;\n                return pos;\n            }\n        ",end:"\n            gl_Position = bend(gl_Position);\n        "}};var k,O,T,j,M=i(10);const N={vertex:{header:"\n            varying float vFogDepth;\n        ",end:"\n            vFogDepth = length(worldCameraPosition.xyz);\n        "},fragment:{header:"\n            varying float vFogDepth;\n        ",end:"\n            vec3 uFogColor = "+(M.a.glslFogColor||"vec3(0.454, 0.894, 0.917)")+";\n            float uFogNear = "+(null!==(k=null===(O=M.a.glslFogNear)||void 0===O?void 0:O.toPrecision(1))&&void 0!==k?k:"400.0")+";\n            float uFogFar = "+(null!==(T=null===(j=M.a.glslFogFar)||void 0===j?void 0:j.toPrecision(1))&&void 0!==T?T:"900.0")+";\n            #ifdef FOG_MULT\n            uFogFar *= FOG_MULT;\n            #endif\n            float fogFactor = smoothstep( uFogNear, uFogFar, vFogDepth );\n            \n            #ifdef FORCE_FOG_COLOR\n            vec3 _fogColor = FORCE_FOG_COLOR;\n            #else\n            vec3 _fogColor = uFogColor;\n            #endif\n            \n            finalColor.rgb = mix(finalColor.rgb, _fogColor * diffuseColor.a, fogFactor);\n        "}},E={vertex:{header:"\n            #ifndef VPOSITION\n            #define VPOSITION\n            varying vec3 vPosition;\n            #endif\n            varying vec4 vScreenPosition;\n        ",end:"\n            vec4 worldViewPosition =  uProjectionMatrix * uViewMatrix * worldPosition;\n\n            vPosition =  worldPosition.xyz;\n            vScreenPosition = worldViewPosition;\n        "},fragment:{header:" \n            #ifndef VPOSITION\n            #define VPOSITION\n            varying vec3 vPosition;\n            #endif\n            varying vec4 vScreenPosition;\n        ",end:"\n            if (vPosition.y >= 1.2) {\n                finalColor.rgb = gammaCorrectOutput(finalColor.rgb);\n                gl_FragColor = finalColor;\n\n                float reflWidth = 1.5;\n                float railDist = 7.0;\n                float laneWidth = 20.0;\n                vec3 reflColor = vec3(1.0, 1.0, 1.0);\n                float reflFactor = abs(vScreenPosition.z - 100.0) * 0.015;\n                if (reflFactor < 0.0) reflFactor = 0.0;\n                if (reflFactor > 1.0) return;\n            \n            \n                // Middle lane\n                if (vPosition.x > -4.0 && vPosition.x < -2.5) {\n                    gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n                } else if (vPosition.x > 2.5 && vPosition.x < 4.0) {\n                    gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n                }\n            \n                // Left lane\n                if (vPosition.x > -4.0 - laneWidth && vPosition.x < -2.5 - laneWidth) {\n                    gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n                } else if (vPosition.x > 2.5 - laneWidth && vPosition.x < 4.0 - laneWidth) {\n                    gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n                }\n            \n                // Right lane\n                if (vPosition.x > -4.0 + laneWidth && vPosition.x < -2.5 + laneWidth) {\n                    gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n                } else if (vPosition.x > 2.5 + laneWidth && vPosition.x < 4.0 + laneWidth) {\n                    gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n                }\n\n                return;\n            }\n        "}},B={vertex:{header:"\n            #ifndef VPOSITION\n            #define VPOSITION\n            varying vec3 vPosition;\n            #endif\n            varying vec3 vReflectionDir;\n        ",end:"\n            vPosition = worldPosition.xyz;\n            // TODO: Reflect around normal\n            // extract cam position from the view matrix:\n            mat3 viewRot = mat3(uViewMatrix);\n            // multiply with transpose (= inverse in case of camera)\n            vec3 eyePos = -uViewMatrix[3].xyz * viewRot;\n            vReflectionDir = vPosition - eyePos; //reflect(vPosition - eyePos, normalize(worldNormal));\n           \n        "},fragment:{header:" \n            #extension GL_OES_standard_derivatives : enable\n            \n            #ifndef VPOSITION\n            #define VPOSITION\n            varying vec3 vPosition;\n            #endif\n            varying vec3 vReflectionDir;\n\t\t\tuniform sampler2D uReflectCube;\n        ",end:"\n\t\t\t// get glass reflection direction\n\t\t\t#ifdef GL_OES_standard_derivatives\n            vec3 reflNorm = normalize(cross(dFdx(vReflectionDir), dFdy(vReflectionDir)));\n            #else\n            vec3 reflNorm = vec3(-1.0, 0.0, 0.0);\n            #endif\n            vec3 reflDir = reflect(normalize(vReflectionDir), reflNorm);\n            vec2 reflUV;\n\n            // TODO: If we use a true cube map, we don't need the conversion\n            reflUV.x = -atan(reflDir.z, reflDir.x) / 3.1415 * .5 + .5;\n            // cheaper approximation than asin\n            reflUV.y = -reflDir.y * .5 + .5;\n\n            reflectionColor = texture2DSRGB(uReflectCube, reflUV).rgb;\n\n            vec3 gamma = pow(finalColor.rgb, vec3(1.0/2.2));\n\t\t\tfloat mainColSH = 0.33 * (gamma.r + gamma.g + gamma.b) * 1.5;\n\n\t\t\tfinalColor.rgb = finalColor.rgb + reflectionColor.rgb * mainColSH;\n        "}},z={vertex:{header:"\n            #ifndef VPOSITION\n            #define VPOSITION\n            varying vec3 vPosition;\n            #endif\n            varying vec4 vScreenPosition;\n        ",end:"\n            vec4 worldViewPosition =  uProjectionMatrix * uViewMatrix * worldPosition;\n\n            vPosition =  worldPosition.xyz;\n            vScreenPosition = worldViewPosition;\n        "},fragment:{header:" \n            #ifndef VPOSITION\n            #define VPOSITION\n            varying vec3 vPosition;\n            #endif\n            varying vec4 vScreenPosition;\n            uniform sampler2D uScreenMask;\n        ",end:"\n            vec2 screenUV = vScreenPosition.xy / vScreenPosition.w;\n            screenUV.y = 1.0 - screenUV.y;\n            finalColor.rgb += pow(texture2D(uScreenMask, screenUV).rgb, vec3(2.2));\n        "}},H={vertex:{header:"\n            #ifndef ACOLOR\n            #define ACOLOR\n            attribute vec4 aColor;\n            #endif\n\n            #ifndef VVERTEXCOLOR\n            #define VVERTEXCOLOR\n            varying vec4 vVertexColor;\n            #endif\n        ",end:"\n            vVertexColor = aColor;\n        "},fragment:{header:"\n            #ifndef VVERTEXCOLOR\n            #define VVERTEXCOLOR\n            varying vec4 vVertexColor;\n            #endif\n        ",end:"\n            // color space shenanigans\n            // finalColor.rgb = sqrt(finalColor.rgb);\n            finalColor *= gammaCorrectInput(vVertexColor);\n            // finalColor.rgb *= vVertexColor.a;\n            // finalColor.rgb *= finalColor.rgb;\n        "}},D={vertex:{header:"\n            uniform vec3 uWaveDirection;\n            uniform vec3 uSpeedScales;\n            uniform vec3 uWavePlaneNormal;\n            uniform float uWaveHeight;\n            uniform float uSpeed;\n            uniform float uFrequency;\n            uniform float uOffsetScale; \n            uniform float uVertexColorWeight;\n\n            uniform float uTime;\n            \n            #ifdef USE_WAVE_VERTEX_COLORS\n                #ifndef ACOLOR\n                #define ACOLOR\n                attribute vec4 aColor;\n                #endif\n            #endif\n\n            vec3 wave3(float time, vec3 pos, float waveScale, float offset)\n            {\n                float sinOffset = dot(pos.xyz, -uWaveDirection);\n                float t = time * uSpeed;\n            \n                vec3 wave = sin((sinOffset * uFrequency + offset * uOffsetScale + t * uSpeedScales));\n                \n            \n                return uWavePlaneNormal * uWaveHeight * wave * waveScale;\n            }\n        ",transform:"\n            #ifdef USE_WAVE_VERTEX_COLORS\n            worldPosition.xyz += wave3(uTime * 10.0, worldPosition.xyz, aColor.r * uVertexColorWeight, aColor.a);          \n            #else\n            worldPosition.xyz += wave3(uTime * 10.0, worldPosition.xyz, 1.0, 1.0);\n            #endif\n        "}};var R=i(64);function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function I(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){F(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function F(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const A=JSON.parse(JSON.stringify(s.a));A.fragment.material="\n    diffuseColor *= texture2D(uDiffuseMap, uv);\n    diffuseColor.rgb /= diffuseColor.a;\n    diffuseColor.rgb = gammaCorrectInput(diffuseColor.rgb);\n";const G={bend:!0,fastNormals:!0};class UnlitHighShaderMaterial_UnlitHighShaderMaterial extends r.a{constructor(e){var t,i,u,p;void 0===e&&(e={}),e=I(I({},G),e);const b=I({},R.a.group);let f;(null!==(t=e.fastNormals)&&void 0!==t?t:r.a.FAST_NORMALS)?f=a.a:(f=a.b,b.uNormalMatrix=new o.a);const g=n.a,v={modelMatrix:l.a,normalMatrix:f,uv:h.b,alpha:c.b,lights:g,extensions:[]};var y,w;(b.uDiffuseColor=new Float32Array([1,1,1,null!==(i=e.opacity)&&void 0!==i?i:1]),b.uMapFrame=new m.Rectangle(0,0,1,1),e.diffuseMap)&&(v.diffuse=s.a,b.uDiffuseMap=null!==(y=e.diffuseMap)&&void 0!==y?y:m.Texture.WHITE);e.diffuseMapPremultiplied&&(v.diffuse=A,b.uDiffuseMap=null!==(w=e.diffuseMapPremultiplied)&&void 0!==w?w:m.Texture.WHITE);if(e.vertexColors&&v.extensions&&v.extensions.push(H),e.wave&&v.extensions&&(e.wave.useVertexColors&&v.extensions.push({vertex:{header:"\n                        #define USE_WAVE_VERTEX_COLORS\n                        "}}),v.extensions.push(D),b.uWaveDirection=e.wave.waveDirection,b.uSpeedScales=e.wave.speedScales,b.uWavePlaneNormal=e.wave.wavePlaneNormal,b.uWaveHeight=e.wave.waveHeight,b.uSpeed=e.wave.speed,b.uFrequency=e.wave.frequency,b.uOffsetScale=e.wave.offsetScale,b.uVertexColorWeight=e.wave.vertexColorWeight,b.uTime=0),e.skinning&&v.extensions){var _;const t=Object(d.a)(null!==(_=e.maxBones)&&void 0!==_?_:r.a.MAX_BONES);v.extensions.push(t)}e.screenMask&&v.extensions&&(v.extensions.push(z),b.uScreenMask=e.screenMask),e.bend&&v.extensions&&v.extensions.push(C),e.fogMultiplier&&v.extensions&&v.extensions.push({fragment:{header:"\n                    #define FOG_MULT "+e.fogMultiplier+"\n                    "}}),e.customFog&&v.extensions&&(v.extensions.push(N),e.whiteFog&&v.extensions.push({fragment:{header:"\n                        #define FORCE_FOG_COLOR vec3(1.0)\n                        "}})),e.rails&&v.extensions&&v.extensions.push(E),e.reflectCube&&v.extensions&&(v.extensions.push(B),b.uReflectCube=e.reflectCube),super(v,b),F(this,"tangents",void 0),F(this,"_hexColor",void 0),this.tangents=null!==(u=e.tangents)&&void 0!==u&&u,this.color=null!==(p=e.color)&&void 0!==p?p:16777215}set diffuseMap(e){this.uniforms.uDiffuseMap=e}get diffuseMap(){return this.uniforms.uDiffuseMap}set color(e){this._hexColor=e,m.utils.hex2rgb(e,this.uniforms.uDiffuseColor)}get color(){return this._hexColor}set opacity(e){this.uniforms.uDiffuseColor[3]=e}get opacity(){return this.uniforms.uDiffuseColor[3]}build(e,t,i){var s;const a=this._config;t&&a.extensions.push(u.a);const o=[a.modelMatrix,a.normalMatrix,a.uv,a.normal,a.diffuse,a.alpha,a.specular,a.emissive,a.reflection,a.lights(e.lights),p.a,...null!==(s=a.extensions)&&void 0!==s?s:[]].filter(e=>!!e),{vertex:n,fragment:l}=function(e,t,i,s){var r,a;const o=i.map(e=>(e.cache||(e.cache=x++),e.cache)).sort((e,t)=>e-t).join("-");if(_[o])return _[o];const n=s?Object(b.a)(s):"",l=Object(f.a)(i,e),h=e?g:v,c=h.vertex.replace("{{EXTENSIONS}}",l.vertex.extensions).replace("{{PRECISION}}","precision highp float;"),d=h.fragment.replace("{{EXTENSIONS}}",l.fragment.extensions).replace("{{PRECISION}}","precision lowp float;"),u=w(t.vertex),p=w(t.fragment);i.forEach(t=>{S(e&&t.vertex2?t.vertex2:t.vertex,u,t.name),S(e&&t.fragment2?t.fragment2:t.fragment,p,t.name)});let m=P(t.vertex,u),y=P(t.fragment,p);const C="#define SHADER_NAME "+(null!==(r=t.name)&&void 0!==r?r:"high")+"-vert",k="#define SHADER_NAME "+(null!==(a=t.name)&&void 0!==a?a:"high")+"-frag";return m=c+"\n"+C+"\n\n"+n+"\n\n"+l.vertex.variables+"\n"+m,y=d+"\n"+k+"\n\n"+n+"\n\n"+l.fragment.variables+"\n"+y,_[o]={vertex:m,fragment:y},_[o]}(i,r.b,o);this.program=m.Program.from(n,l)}}F(UnlitHighShaderMaterial_UnlitHighShaderMaterial,"PREFER_TANGENTS",!1),F(UnlitHighShaderMaterial_UnlitHighShaderMaterial,"uniformGroup",void 0)},,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Vector3}));i(4);var s,r=i(126),a=i(12);function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Vector3{constructor(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),o(this,"vec",void 0),this.vec=r.a.create(),this.x=e,this.y=t,this.z=i}get x(){return this.vec[0]}set x(e){this.vec[0]=e}get y(){return this.vec[1]}set y(e){this.vec[1]=e}get z(){return this.vec[2]}set z(e){this.vec[2]=e}reset(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.vec[0]=e,this.vec[1]=t,this.vec[2]=i}copy(e){this.vec[0]=e.vec[0],this.vec[1]=e.vec[1],this.vec[2]=e.vec[2]}clone(){return new Vector3(this.vec[0],this.vec[1],this.vec[2])}distance(e){return r.a.distance(this.vec,e.vec)}magnitude(){return r.a.length(this.vec)}add(e){r.a.add(this.vec,this.vec,e.vec)}subtract(e){r.a.add(this.vec,this.vec,e.vec)}lerp(e,t,i){void 0===i&&(i=0),-1!==t?a.a.lerpVec3(this,this,e,t,i):this.copy(e)}}o(Vector3,"UP",new(s=Vector3)(0,1,0)),o(Vector3,"RIGHT",new s(1,0,0)),o(Vector3,"FORWARD",new s(0,0,-1)),o(Vector3,"DOWN",new s(0,-1,0)),o(Vector3,"LEFT",new s(-1,0,0)),o(Vector3,"BACK",new s(0,0,1)),o(Vector3,"ZERO",new s(0,0,0)),o(Vector3,"ONE",new s(1,1,1))},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Node}));var s=i(17);class Node{static comp(e,t){return e.components[t]}static environment(e){var t;if(e.components.Environment)return e;if(!e.children)return null;let i=(null===(t=e.children)||void 0===t?void 0:t.length)||0;for(;i--;){const t=this.environment(e.children[i]);if(t)return t}return null}static environmentType(e){if(!e.components.Environment)return null;return e.components.Environment._environmentKind._type.split(",")}static environmentKinds(e){const t=e.components.RouteChunk._limitedAllowedEnvironmentKinds,i=s.a.item(t)._type.split(",");Node.environment=i||[]}}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return CoreMaterial}));i(31),i(38),i(32),i(33),i(34),i(58),i(4);var s=i(0);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const a=e=>""!==e,o={uniformData:{id:-1}};let n=0;const l={};class CoreMaterial extends s.Shader{constructor(e,t,i,a,l){void 0===e&&(e={}),void 0===l&&(l="core");const h={uShininess:e.shininess||32,uOpacity:void 0===e.opacity?1:e.opacity,uSpecular:new Float32Array([0,0,0]),uColor:new Float32Array([1,1,1])};super(o,h),r(this,"type",void 0),r(this,"name",void 0),r(this,"options",void 0),r(this,"needsUpdate",void 0),r(this,"id",void 0),r(this,"skinning",void 0),r(this,"maxBones",void 0),r(this,"instancing",void 0),r(this,"vertexSource",void 0),r(this,"fragmentSource",void 0),r(this,"fragmentInjection",void 0),r(this,"vertexInjection",void 0),r(this,"rebuildId",void 0),r(this,"defines",void 0),r(this,"sig",void 0),r(this,"_hexColor",void 0),this._hexColor=16777215,this.type=l,this.name=e.name||this.type+"-shader",this.options={},this.needsUpdate=!0,this.id=n++,this.skinning=!!e.skinning,this.maxBones=e.maxBones=e.maxBones||27,this.skinning&&(h.bones=new Float32Array(16*this.maxBones)),this.color=void 0===e.color?16777215:e.color,this.instancing=!!e.instancing,this.instancing&&(this.name+="-instanced"),e.uniforms&&Object.assign(h,e.uniforms),e.map&&(h.uMap=e.map,h.uMapFrame=new s.Rectangle(0,0,1,1)),this.vertexSource=t,this.fragmentSource=i,this.fragmentInjection=e.fragment||{},this.vertexInjection=e.vertex||{},this.sig=this.getSignature(e),this.program=o,this.rebuildId=0,this.defines=a||[]}set opacity(e){this.uniforms.uOpacity=e}get opacity(){return this.uniforms.uOpacity}set map(e){this.uniforms.uMap=e}get map(){return this.uniforms.uMap}set color(e){this._hexColor=e,s.utils.hex2rgb(e,this.uniforms.uColor)}get color(){return this._hexColor}injectDefines(e,t){const i=this.uniforms,s=[i.uColor?"#define COLOR":"",this.skinning?"#define SKINNING":"",i.uMap?"#define MAP":"",this.instancing?"#define INSTANCING":""].concat(this.defines).filter(a).join("\n");e.vertex=s+"\n"+e.vertex,e.fragment=s+"\n"+e.fragment}injectHooks(e){const t=this.vertexInjection;let i=e.vertex;i=i.replace(/#HOOK_VERTEX_START/g,t.start||""),i=i.replace(/#HOOK_VERTEX_MAIN/g,t.main||""),i=i.replace(/#HOOK_VERTEX_END/g,t.end||"");const s=this.fragmentInjection;let r=e.fragment;r=r.replace(/#HOOK_FRAGMENT_START/g,s.start||""),r=r.replace(/#HOOK_FRAGMENT_MAIN/g,s.main||""),r=r.replace(/#HOOK_FRAGMENT_END/g,s.end||""),e.fragment=r,e.vertex=i}build(e,t){if(l[this.sig])return void(this.program=l[this.sig]);const i={vertex:this.vertexSource,fragment:this.fragmentSource};i.vertex=i.vertex.replace(/#MAX_BONES/g,String(this.maxBones)),this.injectDefines(i,t),this.injectHooks(i),this.program=s.Program.from(i.vertex,i.fragment,this.name),l[this.sig]=this.program}getSignature(e){const t=[this.type];for(const i in e)t.push(i);return t.sort(),e.vertex&&t.push(e.vertex.start||"",e.vertex.main||"",e.vertex.end||""),e.fragment&&t.push(e.fragment.start||"",e.fragment.main||"",e.fragment.end||""),t.join("-")}}},,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i(4);var s=i(0);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const n={sections:4,length:95,orientation:"horizontal",color:4949670,space:5,lineHeight:5};function l(e){void 0===e&&(e={});const{length:t,sections:i,orientation:r,color:o,lineHeight:l,space:h}=a(a({},n),e),c=new s.Container,d=(t-h*(i-1))/i,u=-l/2,p=-t/2;for(let e=0;e<i;e++)"horizontal"===r?c.addChild((new s.Graphics).beginFill(o).drawRect((d+h)*e+p,u,d,l).endFill()):c.addChild((new s.Graphics).beginFill(o).drawRect(u,(d+h)*e+p,l,d).endFill());return c}},function(e,t,i){"use strict";i.d(t,"a",(function(){return CoinsTag}));i(4);var s=i(0),r=i(51);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l={coins:0,align:"left",anchor:0,fill:16185078,fontSize:30,fontFamily:"Lilita One",inverse:!1,dropShadow:!0,dropShadowDistance:1,icon:"icon-coin.png"};class CoinsTag extends s.Container{constructor(e){void 0===e&&(e={}),super(),n(this,"label",void 0);const t=o(o({},l),e);this.label=this.addChild(new r.a("0",t)),this.coins=t.coins}get coins(){return Number.parseInt(this.label.text,10)}set coins(e){this.label.text=String(e)}}},,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Platform}));i(11);class Platform{static getUrlParams(){const e=location.search,t=e.slice(e.indexOf("?")+1).split("&"),i={};for(const e of t){const t=e.split("="),s=t[0];let r=t[1];void 0===r&&(r=!0),"true"!==r&&"false"!==r||(r="true"===r),"string"==typeof r?0===r.indexOf("[")&&r.indexOf("]")===r.length-1?i[s]=JSON.parse(r):i[s]=r.match(/^[-.0-9]+$/)?parseFloat(r):r:i[s]=r}return i}static getUrlParam(e,t){const i=this.getUrlParams();return void 0!==i[e]?i[e]:t}static isIOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static isPoki(){return void 0!==this.getUrlParam("site_id")}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));i(11),i(4);var s=i(162),r=(i(413),i(1)),a=i(2);const o={apiKey:"AIzaSyAK7CJuZ7jIXYdHZAzo5deLpU6-jrof1As",authDomain:"subwaysurfers-84a83.firebaseapp.com",projectId:"subwaysurfers-84a83",storageBucket:"subwaysurfers-84a83.appspot.com",messagingSenderId:"957309311396",appId:"1:957309311396:web:94cc251253e5d7f1c04931",measurementId:"G-JW84QXCLG9",databaseURL:"https://subwaysurfers-84a83-default-rtdb.europe-west1.firebasedatabase.app/"};function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l=[{profile:{name:"Brody",image:1},date:0,rank:7,score:65900},{profile:{name:"Tagbot",image:2},date:0,rank:8,score:15505},{profile:{name:"Tasha",image:3},date:0,rank:9,score:1e3},{profile:{name:"Ninja",image:4},date:0,rank:6,score:123456},{profile:{name:"Lucy",image:5},date:0,rank:5,score:171110},{profile:{name:"King",image:6},date:0,rank:10,score:500},{profile:{name:"Yutani",image:8},date:0,rank:1,score:999999},{profile:{name:"Spike",image:9},date:0,rank:2,score:810312},{profile:{name:"Fresh",image:10},date:0,rank:3,score:555555},{profile:{name:"Tricky",image:12},date:0,rank:4,score:345678}];const h=new class ScoreApi_ScoreApi{constructor(){n(this,"usersRef",void 0),n(this,"usersHash",new Map),n(this,"onAdded",e=>{const t=e.val();this.usersHash.set(t.profile.name,t)}),n(this,"onChanged",e=>{const t=e.val();this.usersHash.set(t.profile.name,t)}),n(this,"onRemoved",e=>{const t=e.child("profile").child("name").val();this.usersHash.delete(t)})}async init(){if(this.mock){const e=a.a.user.leaderboardEntry;e.score=a.a.user.gameSettings.highscore,this.setUser(e)}else s.a.initializeApp(o),this.usersRef=s.a.database().ref("users"),this.usersRef.on("child_added",this.onAdded),this.usersRef.on("child_changed",this.onChanged),this.usersRef.on("child_removed",this.onRemoved)}get mock(){return"ingame"!==r.a.leaderboard}async setUser(e){const t=e.profile.name,i={profile:{name:e.profile.name,image:e.profile.image},score:e.score,date:Date.now()};let s=Promise.resolve();if(this.usersRef){await this.getLeaderboard();const e=this.usersHash.get(t);if(e){Number(e.score)<i.score&&(s=this.usersRef.child(t).update(i),a.a.game.missions.setStat(1,"mission-high-score"))}else if(this.usersHash.size<10)s=this.usersRef.child(t).set(i);else{const e=this.getLowestScoreEntry();e.score<i.score&&(s=this.usersRef.child(e.profile.name).remove().then(()=>this.usersRef.child(t).set(i)))}}else{const e=l.find(e=>e.profile.name===i.profile.name);e?i.score>e.score&&(a.a.game.missions.setStat(1,"mission-high-score"),e.score=i.score):l.push(i)}return s}getLowestScoreEntry(){let e,t=1/0,i={};return this.usersHash.forEach((i,s)=>{null!=i&&i.score&&i.score<t&&(t=null==i?void 0:i.score,e=s)}),e&&(i=this.usersHash.get(e)),i}async getLeaderboard(){let e;return await this.cleanUp(),e=this.mock?Promise.resolve(l):Promise.resolve(Array.from(this.usersHash.values())),e}async cleanUp(){this.usersHash.forEach((e,t)=>{var i;(Date.now()-e.date)/1e3/60/60>=4&&(null===(i=this.usersRef)||void 0===i||i.child(t).get().then(e=>e.ref.remove()),this.usersHash.delete(t))})}}},,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var s=i(148),r=i(283),a=i(2),o=i(284),n=i(285),l=i(286);const h=o,c=n,d=l,u=new r.Chance,p=h.map(e=>e.chance),m=c.map(e=>e.chance),b=d.map(e=>e.chance);function f(e){void 0===e&&(e="mystery-box");let t=function(){const{type:e,amount:t}=u.weighted(c,m);return{type:e,amount:"number"==typeof t?t:Object(s.b)(t[0],t[1]+1,!0),boxType:"mystery-box"}}();return"mini-mystery-box"===e?t=function(){const{type:e,amount:t}=u.weighted(h,p);return{type:e,amount:"number"==typeof t?t:Object(s.b)(t[0],t[1]+1,!0),boxType:"mini-mystery-box"}}():"super-mystery-box"===e&&(t=function(){const{type:e,amount:t}=u.weighted(d,b);return{type:e,amount:"number"==typeof t?t:Object(s.b)(t[0],t[1]+1,!0),boxType:"super-mystery-box"}}()),"coins"===t.type&&a.a.game.missions.addStat(t.amount,"mission-coins-mystery"),t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return SmallButton}));i(4);var s=i(0),r=i(28);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class SmallButton extends r.a{constructor(e){void 0===e&&(e={});const t=s.Sprite.from("base-item-flat.png");t.anchor.set(.5),t.width=100,t.height=100,super(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({w:100,h:100,base:t},e))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return HorizontalMenu}));i(4);var s=i(0);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const n={spacing:30,anchorX:.5};class HorizontalMenu extends s.Container{constructor(e){void 0===e&&(e={}),super(),o(this,"options",void 0),o(this,"buttons",void 0),o(this,"container",void 0),this.options=a(a({},n),e),this.buttons=[],this.container=new s.Container,this.addChild(this.container)}addButton(e){this.buttons.push(e),this.container.addChild(e),this.organise()}organise(){let e=0;this.buttons.forEach(t=>{t.visible&&(t.x=e+t.baseWidth/2,e+=t.baseWidth+this.options.spacing)}),this.container.x=-this.container.width*this.options.anchorX}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Box}));i(4);var s=i(77);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Box{constructor(e,t,i){void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),r(this,"size",void 0),r(this,"center",void 0),r(this,"_intersection",void 0),this.size=new s.a(e,t,i),this.center=new s.a(0,0,0)}copy(e){this.size.copy(e.size),this.center.copy(e.center)}resize(e,t,i){void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),this.size.x=e,this.size.y=t,this.size.z=i}reposition(e,t,i){void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),this.center.x=e,this.center.y=t,this.center.z=i}get x(){return this.center.x}set x(e){this.center.x=e}get y(){return this.center.y}set y(e){this.center.y=e}get z(){return this.center.z}set z(e){this.center.z=e}get left(){return this.center.x-.5*this.size.x}set left(e){this.center.x=e+.5*this.size.x}get right(){return this.center.x+.5*this.size.x}set right(e){this.center.x=e-.5*this.size.x}get top(){return this.center.y+.5*this.size.y}set top(e){this.center.y=e-.5*this.size.y}get bottom(){return this.center.y-.5*this.size.y}set bottom(e){this.center.y=e+.5*this.size.y}get front(){return this.center.z-.5*this.size.z}set front(e){this.center.z=e+.5*this.size.z}get back(){return.5*this.size.z+this.center.z}set back(e){this.center.z=e-.5*this.size.z}get width(){return this.size.x}set width(e){this.size.x=e}get height(){return this.size.y}set height(e){this.size.y=e}get depth(){return this.size.z}set depth(e){this.size.z=e}hitTest(e,t){void 0===t&&(t=null);const i=this.left<=e.right&&this.right>=e.left,s=this.bottom<=e.top&&this.top>=e.bottom,r=this.front<=e.back&&this.back>=e.front;if(!(i&&s&&r))return null;this._intersection||(this._intersection=new Box);const a=Math.max(this.left,e.left),o=Math.min(this.right,e.right),n=Math.max(this.bottom,e.bottom),l=Math.min(this.top,e.top),h=Math.max(this.front,e.front),c=Math.min(this.back,e.back);return this._intersection.size.x=o-a,this._intersection.size.y=l-n,this._intersection.size.z=c-h,this._intersection.center.x=a+.5*this._intersection.size.x,this._intersection.center.y=n+.5*this._intersection.size.y,this._intersection.center.z=c-.5*this._intersection.size.z,this._intersection}}},,function(e){e.exports=JSON.parse('{"trainLightColor":"#FFF2D7","subLightColor":"#FFF2D7","fogColor":"RGBA(0.863, 0.435, 0.427, 1.000)","backgroundUpperGradient":"#FFFFFF","backgroundLowerGradient":"#FFFFFF"}')},,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return EntityProvider}));i(11),i(4);var s=i(1),r=i(346),a=i(280),o=i(76),n=i(109),l=i(145),h=i(347),c=i(282),d=i(78),u=i(287),p=i(146),m=i(288),b=i(290),f=i(111),g=i(167),v=i(291),y=i(110);function w(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _=[r.a,a.a,o.a,l.a,h.a,c.a,d.c,u.a,p.a,m.a,b.a,f.a,g.b,v.a,y.a,n.a];class EntityProvider{static prepopulate(){const e="simple"===s.a.loadMode||"all"===s.a.loadMode;if(!this.prepopulated&&s.a.prepopulate&&e){this.prepopulated=!0;for(const e of _)e.prepopulate&&e.prepopulate()}}static match(e){if(void 0!==this.matchMap[e.name])return this.matchMap[e.name];for(const t of _)if(t.match){if(t.match(e))return this.matchMap[e.name]=t,t}return this.matchMap[e.name]=null,null}static getEntityClass(e){const t=this.match(e);return t?t.hasNecessaryResources&&!t.hasNecessaryResources()?null:t:null}}w(EntityProvider,"prepopulated",!1),w(EntityProvider,"matchMap",{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Badge}));i(4);var s=i(0);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Badge extends s.Container{constructor(){super(),r(this,"splash",void 0),r(this,"icon",void 0),this.splash=new s.Sprite(s.Texture.from("splash-new.png")),this.splash.anchor.set(.5),this.splash.scale.set(.65),this.addChild(this.splash),this.splash.tint=16509025,this.icon=new s.Sprite(s.Texture.from("icon-key-white.png")),this.icon.anchor.set(.5),this.addChild(this.icon),this.icon.tint=4557524}updateTransform(){super.updateTransform(),this.splash.rotation-=.03}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return WordHuntLetterbox}));i(4);var s=i(0),r=i(43),a=i(13);function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class WordHuntLetterbox extends s.Container{constructor(){super(),o(this,"base",void 0),o(this,"lettersContainer",void 0),o(this,"letters",[]),this.base=this.addChild(a.a.roundRectBorder({round:20,w:564,h:122,borderColor:-1,color:5341610})),this.lettersContainer=this.base.addChild(new s.Container);const e=Object(r.f)().toUpperCase();let t=0;const i=Object(r.c)();for(let r=0;r<e.length;r++){var n;const a=this.lettersContainer.addChild(new s.Text(e[r],{align:"center",fontFamily:"Titan One",fontSize:72,fill:i>r?16763904:3553083,dropShadow:!0,dropShadowDistance:3,dropShadowColor:i>r?3553083:6918334}));a.anchor.set(.5),t+=((null===(n=this.letters[r-1])||void 0===n?void 0:n.width)||0)/2+a.width/2,a.x=t-this.base.width/2+15*r,this.letters.push(a)}const l=this.letters[0],h=this.letters[e.length-1],c=h.x+h.width/2-(l.x-l.width/2),d=(this.base.width-c)/2;for(let t=0;t<e.length;t++)this.letters[t].x+=d;r.j.add(e=>{this.letters[e].style={align:"center",fontFamily:"Titan One",fontSize:72,fill:16763904,dropShadow:!0,dropShadowDistance:3,dropShadowColor:3553083}})}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return WordHuntTimer}));i(4);var s=i(7),r=i(0),a=i(13);function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class WordHuntTimer extends r.Container{constructor(){super(),o(this,"base",void 0),o(this,"border",void 0),o(this,"fill",void 0),o(this,"timerLabel",void 0),o(this,"arc",void 0),this.base=this.addChild(a.a.roundRectBorder({w:135,h:27,borderColor:7320832,color:7320832})),this.border=this.base.addChild(r.Sprite.from("timer-empty-icon.png")),this.border.scale.set(.9),this.border.anchor.set(.5),this.border.x=-this.base.width/2+this.border.width/2+7,this.fill=this.border.addChild(new r.Graphics),this.fill.y=3.5,this.timerLabel=this.base.addChild(new r.Text("",{fill:16777215,fontSize:28,fontFamily:"Lilita One"})),this.timerLabel.anchor.y=.5,this.timerLabel.x=this.border.x+this.border.width/2+5,this.arc=0,this.tween()}tween(){this.updateTime(),this.arc>=2*Math.PI&&(this.arc=0),s.g.to(this,1,{arc:this.arc+Math.PI/2,ease:s.a.easeOut,onUpdate:()=>{this.fill.clear().beginFill(16777215),this.fill.arc(0,0,9,-Math.PI/2,this.arc-Math.PI/2).lineTo(0,0).endFill()},onComplete:()=>{this.tween()}})}updateTransform(){super.updateTransform(),this.arc+=Math.PI/30}updateTime(){const e=new Date,t=23-e.getUTCHours(),i=59-e.getUTCMinutes();this.timerLabel.text=t+"h "+i+"m"}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return MissionProgressCounter}));i(4);var s=i(0),r=i(13);function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class MissionProgressCounter extends s.Container{constructor(){super(),a(this,"completedCounters",[]);const e=166,t=this.addChild(r.a.rectColor({w:e,h:40,color:11321299,round:14})),i=t.addChild(s.Sprite.from("mission-multiplier-reward.png"));i.anchor.set(.5),i.x=83;const o=(e-i.width/2-40)/3;for(let e=0;e<3;e++){let i=t.addChild(r.a.rectColor({w:o,h:16,color:7770797,round:5}));i.x=(o+10)*(e+1)-83-o/2,this.completedCounters[e]=i;const s=4;i=t.addChild(r.a.rectBorder({w:o-s,h:16-s,color:9425702,borderColor:6597149,borderWidth:s,round:8})),i.visible=!1,i.x=(o+10)*(e+1)-83-o/2,this.completedCounters[e+3]=i}}setProgress(e,t){this.completedCounters[e].visible=t}}},,,,,,function(e,t,i){"use strict";i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return ItemBoost}));i(4);var s=i(222),r=i(7),a=i(0),o=i(147),n=i(1),l=i(2);function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let c=function(e){return e.MULTIPLIER="MULTIPLIER",e.HEADSTART="HEADSTART",e}({});const d={MULTIPLIER:"boost-multiplier.png",HEADSTART:"boost-headstart.png"},u={MULTIPLIER:"c",HEADSTART:"v"};class ItemBoost extends a.Container{constructor(e){super(),h(this,"type",void 0),h(this,"container",void 0),h(this,"base",void 0),h(this,"over",void 0),h(this,"icon",void 0),h(this,"label",void 0),h(this,"key",void 0),h(this,"showing",void 0),h(this,"level",0),this.type=e,this.container=new a.Container,this.addChild(this.container),this.base=new a.NineSlicePlane(a.Texture.from("btn-base-small.png"),20,20,20,20),this.base.width=160,this.base.height=220,this.container.addChild(this.base),this.base.x=.5*-this.base.width,this.base.y=.5*-this.base.height,this.base.alpha=.65,this.base.tint=0,this.over=new a.NineSlicePlane(a.Texture.from("btn-base-small.png"),20,20,20,20),this.over.width=this.base.width,this.over.height=this.base.height,this.container.addChild(this.over),this.over.x=this.base.x,this.over.y=this.base.y,this.over.alpha=0,this.icon=a.Sprite.from(d[e]),this.icon.scale.set(.75),this.icon.anchor.set(.5),this.container.addChild(this.icon),this.label=new a.Text("",{align:"right",fontFamily:"Lilita One",fontSize:32,fill:16777215,dropShadow:!0,dropShadowDistance:2}),this.label.anchor.set(1,1),this.container.addChild(this.label),this.label.x=this.w/2-10,this.label.y=this.h/2-5,n.a.mobile||(this.key=new s.a("keyboard-key",{align:"left",fontFamily:"Lilita One",fontSize:20,fill:10066329,params:{key:u[e].toUpperCase()}}),this.container.addChild(this.key),this.key.x=-this.w/2+10,this.key.y=-this.h/2+5),this.base.on("pointertap",this.activateBoost.bind(this),this),this.base.interactive=!0,this.base.buttonMode=!0,this.showing=!1,this.visible=!1,window.addEventListener("keydown",this.onKeyDown.bind(this))}onKeyDown(e){!e.repeat&&this.showing&&e.key===u[this.type]&&this.activateBoost()}get w(){return this.base.width}get h(){return this.base.height}async show(e,t){void 0===e&&(e=!1),void 0===t&&(t=1),this.refresh(),this.showing||(r.g.killTweensOf(this.container),this.showing=!0,this.visible=!0,this.level=0,e?(this.container.x=-300,await r.g.to(this.container,.3,{x:0})):this.container.x=0,this.flashIdle(t))}async hide(e){void 0===e&&(e=!1),this.showing&&(this.showing=!1,this.level=0,r.g.killTweensOf(this.container),e?await r.g.to(this.container,.3,{x:-500,onComplete:()=>{this.visible=!1,this.parent&&this.parent.removeChild(this)}}):(this.visible=!1,this.parent&&this.parent.removeChild(this),this.container.x=-300))}async flashIdle(e){r.g.killTweensOf(this.over),this.over.alpha=0,await r.g.to(this.over,.2,{alpha:.4,delay:e}),await r.g.to(this.over,.2,{alpha:0}),await r.g.to(this.over,.2,{alpha:.4}),await r.g.to(this.over,.2,{alpha:0}),await r.g.to(this.over,.2,{alpha:.4}),await r.g.to(this.over,.2,{alpha:0})}async flashActivate(){r.g.killTweensOf(this.over),this.over.alpha=0,await r.g.to(this.over,.2,{alpha:.9}),await r.g.to(this.over,.4,{alpha:0})}refresh(){switch(this.type){case c.HEADSTART:this.label.text=String(l.a.user.boosts.consumables.headstart);break;case c.MULTIPLIER:this.label.text=String(l.a.user.boosts.consumables.scoreBooster)}}activateBoost(){if(this.showing)switch(this.flashActivate(),this.type){case c.HEADSTART:this.activateHeadstart(),l.a.game.missions.setStat(1,"mission-headstart",o.a.INCREMENT);break;case c.MULTIPLIER:this.activateMultiplier(),l.a.game.missions.setStat(1,"mission-scoreBooster",o.a.INCREMENT)}}activateHeadstart(){this.showing&&3!==this.level&&(l.a.user.boosts.consumables.headstart<1||(this.level+=1,l.a.game.stats.time+=20*this.level,l.a.game.hero.jetpack.turnOn(this.level),l.a.user.boosts.consumables.headstart-=1,l.a.user.gameSettings.save(),l.a.game.hud.boostGauge.show(),l.a.game.hud.boostGauge.lowlightHeadstart(),l.a.game.hud.boostGauge.highlightSlice(""+this.level),this.refresh(),(this.level>=3||l.a.user.boosts.consumables.headstart<=0)&&l.a.game.hud.removeItemBoost(this.type,!0)))}activateMultiplier(){if(!this.showing||3===this.level)return;if(l.a.user.boosts.consumables.scoreBooster<1)return;this.level+=1;const e=4+this.level;l.a.game.stats.multiplier=1+e,l.a.user.boosts.consumables.scoreBooster-=1,l.a.user.gameSettings.save(),l.a.game.hud.boostGauge.show(),l.a.game.hud.boostGauge.lowlightMultiplier(),l.a.game.hud.boostGauge.highlightSlice("+"+e),this.refresh(),(this.level>=3||l.a.user.boosts.consumables.scoreBooster<=0)&&l.a.game.hud.removeItemBoost(this.type,!0)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t),t.default={easy:i(441),expert:i(450),normal:i(457),hard:i(466),main:i(473),special:i(479),custom:i(483)}},,function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return r}));i(90),i(14);function s(e,t){const i=t(e);if(i)return i;for(let i=0;i<e.container.children.length;++i){const r=s(e.container.children[i],t);if(r)return r}}function r(e,t){if(e.name===t)return e;const i=e.container.children;for(let e=0;e<i.length;++e){const s=r(i[e],t);if(s)return s}return null}},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const s={hoverboard:{run:"h_run",jump:["h_jump2_kickflip_flip","h_jump3_bs360grab","h_jump4_360_flip","h_jump5_Impossible_flip","h_jump6_nollie","h_jump7_heelflip_flip","h_jump8_pop_shuvit_flip","h_jump9_fs360grab","h_jump10_heel360_flip","h_jump11_fs_salto","h_jump"],resume:"h_jump9_fs360grab",grind:["h_Grind1","h_Grind2","h_Grind3"],grindLand:["h_Grind1_land","h_Grind2_land","h_Grind3_land"],roll:"h_roll",dodgeRight:"h_right",dodgeLeft:"h_left",start:"h_skate_on"},"stay-low":{run:"Lowrider_Run",jump:["Lowrider_Jump1","Lowrider_Jump_3_Starfish_Frontflip","Lowrider_Jump_2_BarrelRoll","Lowrider_Jump_4_Handstand"],resume:"Lowrider_Jump_4_Handstand",grind:["Lowrider_Grind1","Lowrider_Grind2"],grindLand:["Lowrider_Grind1_land","Lowrider_Fat_Grind2_land"],roll:"Lowrider_Down",dodgeRight:"Lowrider_Changelane_Right1",dodgeLeft:"Lowrider_Changelane_Left1",start:"Lowrider_Board_on"},"zap-sideways":{run:"h_run",jump:["h_jump2_kickflip_flip","h_jump3_bs360grab","h_jump4_360_flip","h_jump5_Impossible_flip","h_jump6_nollie","h_jump7_heelflip_flip","h_jump8_pop_shuvit_flip","h_jump9_fs360grab","h_jump10_heel360_flip","h_jump11_fs_salto","h_jump"],resume:"h_jump9_fs360grab",grind:["h_Grind1","h_Grind2","h_Grind3"],grindLand:["h_Grind1_land","h_Grind2_land","h_Grind3_land"],roll:"h_roll",dodgeRight:"",dodgeLeft:"",start:"h_skate_on"}}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return HUDLabel}));i(4);var s=i(0);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const n={base:"",icon:"",length:6};class HUDLabel extends s.Container{constructor(e){void 0===e&&(e={}),super(),o(this,"spacing",30),o(this,"base",void 0),o(this,"icon",void 0),o(this,"text",void 0),o(this,"_txt",-1),o(this,"maxTextLength",6),o(this,"currentTextLength",6);const t=a(a({},n),e);this.maxTextLength=t.length,this.currentTextLength=t.length,t.base&&(this.base=s.Sprite.from(t.base),this.base.anchor.set(0,.5),this.base.alpha=.5,this.addChild(this.base)),t.icon&&(this.icon=s.Sprite.from(t.icon),this.icon.anchor.set(.5),this.addChild(this.icon),this.icon.x=this.maxTextLength*this.spacing*.5+35,this.icon.scale.set(.75)),this.text=new s.Container,this.addChild(this.text);for(let e=0;e<this.maxTextLength;e++){const t=new s.Text("0",{fill:"white",align:"center",fontSize:50,fontFamily:"Lilita One"});t.anchor.set(.5),t.x=e*this.spacing,this.text.addChild(t)}this.updatePositions()}updatePositions(){const e=.5*this.spacing;this.text.x=-(this.maxTextLength-1)*e,this.base&&(this.base.x=this.maxTextLength*e-this.currentTextLength*this.spacing-20)}setText(e,t){if(void 0===t&&(t=0),e===this._txt)return;this._txt=e;let i=String(e);t&&(i=i.padStart(t,"0"));const s=i.length,r=this.maxTextLength-s;let a=this.maxTextLength;for(;a--;){const e=this.text.children[a],t=a-r,o=i[t];if(t>=0?(e.text=o,e.visible=!0):e.visible=!1,a<r&&this.currentTextLength<=s)break}this.currentTextLength=s,this.base&&!t&&this.updatePositions()}getText(){return this._txt}}},,function(e){e.exports=JSON.parse('[{"id":"hoverboard","colors":["#3689be","#0e3650"],"texture":"board-hoverboard-tex","root":"board_default","features":["board_default_base"],"available":true,"purchased":false,"cost":0,"currency":"coins","powerups":[]},{"id":"starboard","colors":["#3689be","#0e3650"],"texture":"board-starboard-tex","root":"board_star","features":["board_star_base"],"available":true,"purchased":false,"cost":0,"currency":"coins","powerups":[{"id":"star-trail","cost":0,"colors":["#516709","#fff82e"],"features":["board_star_starTrail"],"currency":"keys","available":false,"purchased":false},{"id":"double-jump","cost":90,"colors":["#3689be","#0e3650"],"features":["board_star_doubleJump"],"currency":"keys","available":true,"purchased":false}]},{"id":"lumberjack","colors":["#3689be","#0e3650"],"texture":"board-lumberjack-tex","root":"board_lumberJack","features":["board_lumberJack"],"available":true,"purchased":false,"cost":1500,"currency":"coins","powerups":[{"id":"double-jump","cost":90,"colors":["#851897","#ffe934"],"features":["board_lumberJack_doubleJump"],"currency":"keys","available":true,"purchased":false},{"id":"stay-low","cost":130,"colors":["#3689be","#0e3650"],"features":["board_lumberJack_stayLow"],"currency":"keys","available":true,"purchased":false}]},{"id":"superhero","colors":["#3689be","#0e3650"],"texture":"board-superhero-tex","root":"board_superhero","features":["board_superhero_base"],"available":true,"purchased":false,"cost":1500,"currency":"coins","powerups":[{"id":"zap-sideways","cost":80,"colors":["#005d72","#26edff"],"features":["board_superhero_zapSideways"],"currency":"keys","available":true,"purchased":false},{"id":"super-jump","cost":110,"colors":["#3689be","#0e3650"],"features":["board_superhero_superJump"],"currency":"keys","available":true,"purchased":false}]},{"id":"sunset","colors":["#3689be","#0e3650"],"texture":"board-sunset-tex","root":"board_sunset","features":["board_sunset_base"],"available":true,"purchased":false,"cost":4800,"currency":"coins","powerups":[{"id":"pink-trail","cost":60,"colors":["#e84a95","#ffb9d9"],"features":["board_sunset_pinkTrail"],"currency":"keys","available":false,"purchased":false},{"id":"smooth-drift","cost":150,"colors":["#197b49","#00ff8a"],"features":["board_sunset_smoothDrift","board_sunset_smoothDrift","board_sunset_smoothDrift_FrontWing_L","board_sunset_smoothDrift_FrontWing_R","board_sunset_smoothDrift_wing_L","board_sunset_smoothDrift_wing_R"],"currency":"keys","available":true,"purchased":false}]},{"id":"greatwhite","colors":["#3689be","#0e3650"],"texture":"board-greatwhite-tex","root":"board_greatWhite","features":["board_greatWhite_base","board_greatWhite_base_wings"],"available":true,"purchased":false,"cost":17000,"currency":"coins","powerups":[{"id":"speed-up","cost":100,"colors":["#b11b1b","#ffef39"],"features":["board_greatWhite_speedUp","board_greatWhite_speedUp_propeller"],"currency":"keys","available":true,"purchased":false},{"id":"smooth-drift","cost":150,"colors":["#197b49","#00ff8a"],"features":["board_greatWhite_smoothDrift_wing_L","board_greatWhite_smoothDrift_wing_R"],"currency":"keys","available":true,"purchased":false}]},{"id":"monster","colors":["#3689be","#0e3650"],"texture":"board-monster-tex","root":"board_monster","features":["board_monster_base"],"available":true,"purchased":false,"cost":25000,"currency":"coins","powerups":[{"id":"speed-up","cost":100,"colors":["#b11b1b","#ffef39"],"features":["board_monster_speedUp"],"currency":"keys","available":true,"purchased":false},{"id":"super-jump","cost":110,"colors":["#3689be","#0e3650"],"features":["board_monster_superJump"],"currency":"keys","available":true,"purchased":false}]},{"id":"scoot","colors":["#3689be","#0e3650"],"texture":"board-scoot-tex","root":"board_scoot","features":["board_scoot_base"],"available":true,"purchased":false,"cost":30000,"currency":"coins","powerups":[{"id":"zap-sideways","cost":80,"colors":["#005d72","#26edff"],"features":["board_scoot_zapSideways"],"currency":"keys","available":true,"purchased":false},{"id":"speed-up","cost":100,"colors":["#b11b1b","#ffef39"],"features":["board_scoot_speedUp"],"currency":"keys","available":true,"purchased":false}]},{"id":"bigkahuna","colors":["#3689be","#0e3650"],"texture":"board-bigkahuna-tex","root":"board_bigKahuna","features":["board_bigKahuna_base"],"available":true,"purchased":false,"cost":55000,"currency":"coins","powerups":[{"id":"stay-low","cost":130,"colors":["#3266b3","#bfff51"],"features":["board_bigKahuna_stayLow"],"currency":"keys","available":true,"purchased":false},{"id":"smooth-drift","cost":150,"colors":["#197b49","#00ff8a"],"features":["board_bigKahuna_smoothDrift_wing_L","board_bigKahuna_smoothDrift_wing_R"],"currency":"keys","available":true,"purchased":false}]},{"id":"skullfire","colors":["#3689be","#0e3650"],"texture":"board-skullfire-tex","root":"board_skullfire","features":["board_skullfire_base"],"available":true,"purchased":false,"cost":65000,"currency":"coins","powerups":[{"id":"double-jump","cost":90,"colors":["#851897","#ffe934"],"features":["board_skullfire_doubleJump","board_skullfire_doubleJump_thrusters"],"currency":"keys","available":true,"purchased":false},{"id":"speed-up","cost":100,"colors":["#b11b1b","#ffef39"],"features":["board_skullfire_speedUp","board_skullfire_speedUp_thrusters"],"currency":"keys","available":true,"purchased":false}]},{"id":"daredevil","colors":["#3689be","#0e3650"],"texture":"board-daredevil-tex","root":"board_daredevil","features":["board_daredevil_base","board_daredevil_thruster"],"available":true,"purchased":false,"cost":75000,"currency":"coins","powerup":"speed-up","powerups":[]},{"id":"teleporter","colors":["#3689be","#0e3650"],"texture":"board-teleporter-tex","root":"board_teleporter","features":["board_teleporter_base"],"available":true,"purchased":false,"cost":190000,"currency":"coins","powerup":"zap-sideways","powerups":[]},{"id":"bouncer","colors":["#3689be","#0e3650"],"texture":"board-bouncer-tex","root":"board_bouncer","features":["board_bouncer_base"],"available":true,"purchased":false,"cost":240000,"currency":"coins","powerup":"super-jump","powerups":[]},{"id":"hotrod","colors":["#3689be","#0e3650"],"texture":"board-hotrod-tex","root":"board_hotRod","features":["board_hotRod_base","board_hotRod_thruster"],"available":true,"purchased":false,"cost":240000,"currency":"coins","powerup":"speed-up","powerups":[]},{"id":"lowrider","colors":["#3689be","#0e3650"],"texture":"board-lowrider-tex","root":"board_lowrider","features":["board_lowrider_base"],"available":true,"purchased":false,"cost":270000,"currency":"coins","powerup":"stay-low","powerups":[]},{"id":"windglider","colors":["#3689be","#0e3650"],"texture":"board-windglider-tex","root":"board_windGlider","features":["board_windGlider_base","board_windGlider_wing_L","board_windGlider_wing_R"],"available":true,"purchased":false,"cost":300000,"currency":"coins","powerup":"smooth-drift","powerups":[]}]')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"name":"routeSection_default_pogostick_start","start":[],"mid":["routeChunk_default_pogostick_start"],"end":[]}')},,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"main":{"duration":3,"loop":true,"startDelay":0,"playOnAwake":true,"startLifetime":{"mode":0,"values":[1],"range":3},"startSpeed":{"mode":0,"values":[10],"range":3},"startSize":{"mode":3,"values":[5,6],"range":3},"startRotation":{"mode":3,"values":[0,3.141592502593994],"range":3},"startRotation3D":false,"startRotationX":{"mode":0,"values":[],"range":0},"startRotationY":{"mode":0,"values":[],"range":0},"startRotationZ":{"mode":0,"values":[],"range":0},"gravityModifier":{"mode":0,"values":[0],"range":3},"startColor":{"mode":0,"colors":[{"r":1,"g":1,"b":1,"a":1}],"gradients":[]},"simulationSpeed":1,"maxParticles":15},"emission":{"enabled":true,"rateOverTime":{"mode":0,"values":[10],"range":1},"bursts":[]},"shape":{"enabled":true,"shapeType":4,"angle":0,"radius":2.0999999046325684,"radiusThickness":0,"donutRadius":0.20000000298023224,"position":{"x":0,"y":0,"z":0},"rotation":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1}},"velocityOverLifetime":{"enabled":false,"linear":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}],"orbital":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}],"orbitalOffset":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}]},"limitVelocityOverLifetime":{"enabled":false,"speed":{"mode":0,"values":[],"range":0},"dampen":0,"drag":{"mode":0,"values":[],"range":0},"multiplyDragByParticleSize":false,"multiplyDragByParticleVelocity":false},"colorOverLifetime":{"enabled":true,"color":{"mode":1,"colors":[],"gradients":[{"fixedGradient":false,"colorTimes":[0,0.2500038146972656,1],"colorValues":[{"r":0,"g":0,"b":0,"a":1},{"r":1,"g":1,"b":1,"a":1},{"r":0,"g":0,"b":0,"a":1}],"alphaTimes":[0,0.24705882370471954,1],"alphaValues":[0,1,0]}]}},"sizeOverLifetime":{"enabled":true,"size":{"mode":2,"values":[0.7279701232910156,0.4597724676132202,0.566818356513977,0.5742545127868652,0.4274209439754486,0.6279677748680115,0.3129316568374634,0.6292165517807007,0.22650408744812012,0.5863052606582642,0.17129182815551758,0.5075381994247437,0.15044879913330078,0.40121981501579285,0.16712850332260132,0.2756544351577759,0.22448456287384033,0.13914641737937927,0.32567068934440613,0],"range":1}},"rotationOverLifetime":{"enabled":false,"separateAxes":false,"x":{"mode":0,"values":[],"range":0},"y":{"mode":0,"values":[],"range":0},"z":{"mode":0,"values":[],"range":0}},"noise":{"enabled":false,"strength":{"mode":0,"values":[],"range":0},"frequency":0,"damping":false,"quality":0,"positionAmount":{"mode":0,"values":[],"range":0}},"renderer":{"mode":0,"alignment":0,"meshes":[]}}')},function(e){e.exports=JSON.parse('{"objects":[{"activationProbability":1,"children":[{"activationProbability":1,"animations":[],"children":[],"matrix":[0.6633733510971069,0,0.748288631439209,0,1,0,-0.748288631439209,0,0.6633733510971069,-243.5,1.100000023841858,43.400001525878906],"meshName":"blocker_bushes_dark","name":"Hollywood_blocker_bushes_dark","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"animations":[],"children":[],"matrix":[1.19346022605896,0,0.5216405987739563,0,1.3024808168411255,0,-0.5216405987739563,0,1.19346022605896,-184.6999969482422,0.7999992370605469,152],"meshName":"blocker_bushes_dark","name":"Hollywood_blocker_bushes_dark (1)","scripts":[],"texName":"Hollywood_environment"}],"meshName":"high_01_left","name":"Hollywood_high_01_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"name":"RandomBlocker","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"high_01_right","name":"Hollywood_high_01_right","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"high_02_left_var_01","name":"Hollywood_high_02_left_var_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"high_02_left_var_02","name":"Hollywood_high_02_left_var_02","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomSpawn","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"high_02_left","name":"Hollywood_high_02_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"name":"RandomBlocker","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"animations":[],"children":[],"matrix":[1.1525617837905884,0,-0.9802510142326355,0,1.5130401849746704,0,0.9802510142326355,0,1.1525617837905884,264.29998779296875,1,112.5999984741211],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"animations":[],"children":[],"matrix":[0.9645667672157288,0,-0.25658848881721497,0,0.9981115460395813,0,0.25658848881721497,0,0.9645667672157288,195.60000610351562,2,164.89999389648438],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light (1)","scripts":[],"texName":"Hollywood_environment"}],"meshName":"high_02_right","name":"Hollywood_high_02_right","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[0.5,0,0,0,0.5,0,0,0,0.5,-41.20000076293945,2.200000047683716,89.4000015258789],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.800000011920929,0,0,0,0.800000011920929,0,0,0,0.800000011920929,-42.400001525878906,0.30000001192092896,90],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"}],"name":"Palmtree","scripts":[]}],"name":"RandomSpawn","scripts":[{"activationProbability":0.5,"name":"RandomChildRandomizer"}]}],"meshName":"high_03_left","name":"Hollywood_high_03_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"high_03_right_var","name":"Hollywood_high_03_right_var","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomSpawn","scripts":[{"activationProbability":0.5,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[],"name":"RandomBlocker","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"high_03_right","name":"Hollywood_high_03_right","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_02","name":"Hollywood_filler_ground_left_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-147.89999389648438,-0.5,148.6999969482422],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.400001525878906,1,27.799999237060547],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-38.90999984741211,2.9000000953674316,26.100000381469727],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-67.30000305175781,0.20000000298023224,53.79999923706055],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-107.5,2.8000001907348633,77.9000015258789],"meshName":"filler_truck_01","name":"Hollywood_filler_truck_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-71.5999984741211,1.600000023841858,114.69999694824219],"meshName":"filler_truck_02","name":"Hollywood_filler_truck_02","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomTruck","scripts":[{"activationProbability":0.5,"name":"RandomChildRandomizer"}]}],"name":"Road","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_03","name":"Hollywood_filler_ground_left_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-39.20000076293945,0.30000001192092896,64.5999984741211],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-38.90999984741211,2.9000000953674316,63],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40,1.5,140.8000030517578],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,23.100000381469727],"meshName":"stopSign","name":"Hollywood_stopSign","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-38.90999984741211,2.9000000953674316,139.5],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_bushrow","name":"Hollywood_filler_bushrow","scripts":[],"texName":"Hollywood_environment"}],"name":"Random_bushRow","scripts":[{"activationProbability":0.30000001192092896,"name":"RandomChildRandomizer"}]}],"name":"Sidewalk","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_01","name":"Hollywood_filler_ground_left_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-41.79999923706055,0.30000001192092896,123.0999984741211],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-38.90999984741211,2.9000000953674316,121.9000015258789],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-39.20000076293945,1.2000000476837158,99.5999984741211],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.599998474121094,0.800000011920929,11.899999618530273],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-38.90999984741211,2.9000000953674316,11.131999969482422],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-38.90999984741211,2.9000000953674316,98.38999938964844],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[]}],"name":"Grass","scripts":[]}],"name":"RandomSpawns","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"low_01_left","name":"Hollywood_low_01_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_right_01","name":"Hollywood_filler_ground_right_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"filler_ground_right_02","name":"Hollywood_filler_ground_right_02","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomGroundType","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_park","name":"Hollywood_filler_park","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,39.5,1.399999976158142,35.900001525878906],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8304600119590759,0,0,0,1,0,0,0,1,40.599998474121094,3.200000047683716,34.20000076293945],"meshName":"tree_planter","name":"Hollywood_tree_planter (3)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,39.80000305175781,0.8999999761581421,152.1999969482422],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8304600119590759,0,0,0,1,0,0,0,1,40.5,3.200000047683716,150.3000030517578],"meshName":"tree_planter","name":"Hollywood_tree_planter (2)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtree","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-56.5,0,28.100000381469727],"meshName":"filler_blocker_01","name":"Hollywood_filler_blocker_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-56.5,0,0],"meshName":"filler_blocker_02","name":"Hollywood_filler_blocker_02","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomBuilding","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"Park","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-56.5,0,28.100000381469727],"meshName":"filler_blocker_01","name":"Hollywood_filler_blocker_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-56.5,0,0],"meshName":"filler_blocker_02","name":"Hollywood_filler_blocker_02","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomBuilding","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,39,1.5,29.200000762939453],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,37.89999771118164,1.2999999523162842,135.89999389648438],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8031399846076965,0,0,0,1,0,0,0,1,40.5,3.200000047683716,27.299999237060547],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8031399846076965,0,0,0,1,0,0,0,1,40.5,3.200000047683716,134.60000610351562],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,37.29999923706055,0.6000000238418579,55.599998474121094],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,40,0.30000001192092896,104.4000015258789],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8031399846076965,0,0,0,1,0,0,0,1,40.599998474121094,3.200000047683716,54.29999923706055],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8031399846076965,0,0,0,1,0,0,0,1,40.5,3.200000047683716,103],"meshName":"tree_planter","name":"Hollywood_tree_planter (2)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"Palmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"Palmtrees_and_blocker","scripts":[]}],"name":"RandomPark","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"RandomSpawns","scripts":[]}],"meshName":"low_01_right","name":"Hollywood_low_01_right","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_03","name":"Hollywood_filler_ground_left_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.720001220703125,0.4399999976158142,40.900001525878906],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.29999923706055,2.0999999046325684,39.900001525878906],"meshName":"tree_planter","name":"Hollywood_tree_planter (3)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,23.100000381469727],"meshName":"stopSign","name":"Hollywood_stopSign","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.79999923706055,-0.20000000298023224,153.1999969482422],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.29999923706055,2.0999999046325684,151.5],"meshName":"tree_planter","name":"Hollywood_tree_planter (2)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_bushrow","name":"Hollywood_filler_bushrow","scripts":[],"texName":"Hollywood_environment"}],"name":"Random_bushRow","scripts":[{"activationProbability":0.30000001192092896,"name":"RandomChildRandomizer"}]}],"name":"Sidewalk","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_01","name":"Hollywood_filler_ground_left_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-41.79999923706055,-0.20000000298023224,32.400001525878906],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-39.79999923706055,-0.6000000238418579,147],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.70000076293945,2.0999999046325684,30.5],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.70000076293945,2.0999999046325684,144.3000030517578],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-41.79999923706055,0.4000000059604645,70.60000610351562],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.70000076293945,2.0999999046325684,68.4000015258789],"meshName":"tree_planter","name":"Hollywood_tree_planter (2)","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-71,-1.2999999523162842,161.39999389648438],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"Grass","scripts":[]}],"name":"RandomSpawns","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"low_02_left","name":"Hollywood_low_02_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,39.20000076293945,1.5,29.200000762939453],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,38.20000076293945,1.2999999523162842,135.89999389648438],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7661799788475037,0,0,0,1,0,0,0,1,40.06999969482422,3.200000047683716,27.299999237060547],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7661799788475037,0,0,0,1,0,0,0,1,40.17000198364258,3.200000047683716,134.60000610351562],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,37.33000183105469,0.6000000238418579,55.599998474121094],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,40.400001525878906,0.30000001192092896,104.4000015258789],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7661799788475037,0,0,0,1,0,0,0,1,40,3.200000047683716,54.29999923706055],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7661799788475037,0,0,0,1,0,0,0,1,40.27000045776367,3.200000047683716,103],"meshName":"tree_planter","name":"Hollywood_tree_planter (2)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"Palmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_right_01","name":"Hollywood_filler_ground_right_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"filler_ground_right_02","name":"Hollywood_filler_ground_right_02","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomGroundType","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,41,0,23.100000381469727],"meshName":"filler_greenScreen_blocker","name":"Hollywood_filler_greenScreen_blocker","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,41,0,23.100000381469727],"meshName":"western_Blocker","name":"Hollywood_filler_westernBlocker","scripts":[],"texName":"Hollywood_environment"}],"name":"MovieSets","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1.4561759233474731,0,-0.9243845343589783,0,1.7247999906539917,0,0.9243845343589783,0,1.4561759233474731,317.3999938964844,1.600000023841858,136.39999389648438],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.5349396467208862,0,-1.2657499313354492,0,1.3741481304168701,0,1.2657499313354492,0,0.5349396467208862,381.79998779296875,1.600000023841858,55.29999923706055],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Blocker_Bushes","scripts":[]}],"name":"RandomBlocker","scripts":[]}],"name":"Grass","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_right_03","name":"Hollywood_filler_ground_right_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"filler_house","name":"Hollywood_filler_house","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,37.310001373291016,0,169.39999389648438],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.6997292041778564,0,0,0,1,0,0,0,1,39.013999938964844,2.819999933242798,167.3000030517578],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1.4561759233474731,0,-0.9243845343589783,0,1.7247999906539917,0,0.9243845343589783,0,1.4561759233474731,317.3999938964844,1.600000023841858,136.39999389648438],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.5349396467208862,0,-1.2657499313354492,0,1.3741481304168701,0,1.2657499313354492,0,0.5349396467208862,381.79998779296875,1.600000023841858,55.29999923706055],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Blocker_Bushes","scripts":[]}],"name":"House","scripts":[]}],"name":"RandomSpawns","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"low_02_right","name":"Hollywood_low_02_right","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_02","name":"Hollywood_filler_ground_left_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-69,0.6000000238418579,51.599998474121094],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomPalmtree","scripts":[{"activationProbability":0.5,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-107.5,2.8000001907348633,77.9000015258789],"meshName":"filler_truck_01","name":"Hollywood_filler_truck_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-71.5999984741211,1.600000023841858,114.69999694824219],"meshName":"filler_truck_02","name":"Hollywood_filler_truck_02","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomTruck","scripts":[{"activationProbability":0.5,"name":"RandomChildRandomizer"}]}],"name":"Road","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_03","name":"Hollywood_filler_ground_left_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-91.9000015258789,-1,59.79999923706055],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.599998474121094,1.2999999523162842,126.5999984741211],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,3,125.19999694824219],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,23.100000381469727],"meshName":"stopSign","name":"Hollywood_stopSign","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.7599983215332,0.4099999964237213,100.0999984741211],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,3,99.6500015258789],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_bushrow","name":"Hollywood_filler_bushrow","scripts":[],"texName":"Hollywood_environment"}],"name":"Random_bushRow","scripts":[{"activationProbability":0.30000001192092896,"name":"RandomChildRandomizer"}]}],"name":"Sidewalk","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_01","name":"Hollywood_filler_ground_left_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.5,0.5,38.20000076293945],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-70.19999694824219,-1.600000023841858,160.6999969482422],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,3,36.599998474121094],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.900001525878906,1.2000000476837158,149.8000030517578],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-71.30000305175781,-0.4000000059604645,53.400001525878906],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,3,148.5],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"Grass","scripts":[]}],"name":"RandomSpawns","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"med_01_left","name":"Hollywood_med_01_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_right_01","name":"Hollywood_filler_ground_right_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"filler_ground_right_02","name":"Hollywood_filler_ground_right_02","scripts":[],"texName":"Hollywood_environment"}],"name":"Ground","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_stellasHouse","name":"Hollywood_filler_stellasHouse","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[0.8228300213813782,0,0,0,1,0,0,0,1,40.70000076293945,2.5,59.79999923706055],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,38.47999954223633,0.7400000095367432,61.20000076293945],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"}],"name":"OneTree","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,40,0.009999999776482582,118.89999389648438],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,38.060001373291016,1.0099999904632568,38],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8228300213813782,0,0,0,1,0,0,0,1,40.53000259399414,3.0999999046325684,36.849998474121094],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8228300213813782,0,0,0,1,0,0,0,1,40.87000274658203,3.0999999046325684,116.30000305175781],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"TwoTrees","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"House","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[0.6660715937614441,0,-1.4395651817321777,0,1.586190104484558,0,1.4395651817321777,0,0.6660715937614441,257.5,2.799999237060547,48],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1.8997451066970825,0,-1.1700135469436646,0,2.2311348915100098,0,1.1700135469436646,0,1.8997451066970825,196.28082275390625,1.2000000476837158,130.60000610351562],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light (1)","scripts":[],"texName":"Hollywood_environment"}],"matrix":[1,0,0,0,1,0,0,0,1,51,0,0],"name":"Bushes","scripts":[]}],"name":"RandomSpawns","scripts":[]}],"meshName":"med_01_right","name":"Hollywood_med_01_right","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_03","name":"Hollywood_filler_ground_left_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-39.70000076293945,-0.8999999761581421,54.20000076293945],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,2,51.70000076293945],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.900001525878906,0.4000000059604645,117.19999694824219],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,23.100000381469727],"meshName":"stopSign","name":"Hollywood_stopSign","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,2,114.80000305175781],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_bushrow","name":"Hollywood_filler_bushrow","scripts":[],"texName":"Hollywood_environment"}],"name":"Random_bushRow","scripts":[{"activationProbability":0.30000001192092896,"name":"RandomChildRandomizer"}]}],"name":"Sidewalk","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_01","name":"Hollywood_filler_ground_left_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-41.79999923706055,-0.699999988079071,159.70001220703125],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.20000076293945,-0.699999988079071,46.400001525878906],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,2,43.599998474121094],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,2,158.10000610351562],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-39.70000076293945,0.20000000298023224,97.9000015258789],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40,0.30000001192092896,21.5],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,2,20.299999237060547],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.20000076293945,2,96.9000015258789],"meshName":"tree_planter","name":"Hollywood_tree_planter (2)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"Grass","scripts":[]}],"name":"RandomSpawns","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"med_02_left","name":"Hollywood_med_02_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_right_01","name":"Hollywood_filler_ground_right_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"filler_ground_right_02","name":"Hollywood_filler_ground_right_02","scripts":[],"texName":"Hollywood_environment"}],"name":"Ground","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_mansion","name":"Hollywood_filler_mansion","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1.8580116033554077,0,-0.48114991188049316,0,1.9192999601364136,0,0.48114991188049316,0,1.8580116033554077,232.39999389648438,-0.09999847412109375,159.5],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light","scripts":[],"texName":"Hollywood_environment"}],"name":"Mansion","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[0.6660715937614441,0,-1.4395651817321777,0,1.586190104484558,0,1.4395651817321777,0,0.6660715937614441,286,2,70],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1.8997451066970825,0,-1.1700135469436646,0,2.2311348915100098,0,1.1700135469436646,0,1.8997451066970825,150.10000610351562,1.2000000476837158,125.80000305175781],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light (1)","scripts":[],"texName":"Hollywood_environment"}],"matrix":[1,0,0,0,1,0,0,0,1,119.80000305175781,0,0],"name":"Bushes","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[0.8082399964332581,0,0,0,1,0,0,0,1,40.599998474121094,2.5,59.79999923706055],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,38.57999801635742,0.7400000095367432,61.20000076293945],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"}],"name":"OneTree","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,39.929996490478516,0.009999999776482582,118.89999389648438],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,38.19999694824219,1.0099999904632568,38],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8082399964332581,0,0,0,1,0,0,0,1,40.46999740600586,3.0999999046325684,36.849998474121094],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.8082399964332581,0,0,0,1,0,0,0,1,40.599998474121094,3.0999999046325684,116.30000305175781],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"TwoTrees","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"Trees_and_blockers","scripts":[]}],"name":"Mansion_or_blockers","scripts":[]}],"name":"RandomSpawns","scripts":[]}],"meshName":"med_02_right","name":"Hollywood_med_02_right","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_02","name":"Hollywood_filler_ground_left_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-107.5,2.8000001907348633,77.9000015258789],"meshName":"filler_truck_01","name":"Hollywood_filler_truck_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-71.5999984741211,1.600000023841858,114.69999694824219],"meshName":"filler_truck_02","name":"Hollywood_filler_truck_02","scripts":[],"texName":"Hollywood_environment"}],"name":"RandomTruck","scripts":[{"activationProbability":0.5,"name":"RandomChildRandomizer"}]}],"name":"Road","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_03","name":"Hollywood_filler_ground_left_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[0.9984726309776306,0,0.05524909123778343,0,1,0,-0.05524909123778343,0,0.9984726309776306,-89,-1.1999969482421875,114.0999984741211],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.70000076293945,0.20000000298023224,40.400001525878906],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.400001525878906,2,38.099998474121094],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,23.100000381469727],"meshName":"stopSign","name":"Hollywood_stopSign","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-41.20000076293945,-0.800000011920929,124.4000015258789],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.400001525878906,2,123],"meshName":"tree_planter","name":"Hollywood_tree_planter (2)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_bushrow","name":"Hollywood_filler_bushrow","scripts":[],"texName":"Hollywood_environment"}],"name":"Random_bushRow","scripts":[{"activationProbability":0.30000001192092896,"name":"RandomChildRandomizer"}]}],"name":"Sidewalk","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_left_01","name":"Hollywood_filler_ground_left_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-68.69999694824219,0.800000011920929,18.299999237060547],"meshName":"palm_Tree_01","name":"Hollywood_palm_Tree_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-39,-0.800000011920929,138.39999389648438],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.400001525878906,2,137.10000610351562],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_01","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.599998474121094,0.4000000059604645,112.80000305175781],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-40.70000076293945,0.800000011920929,53.400001525878906],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.400001525878906,2,51.29999923706055],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.7393699884414673,0,0,0,1,0,0,0,0.9450579881668091,-39.400001525878906,2,112.30000305175781],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Variation_02","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"Grass","scripts":[]}],"name":"RandomSpawns","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"med_03_left","name":"Hollywood_med_03_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"meshName":"filler_ground_right_01","name":"Hollywood_filler_ground_right_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"filler_ground_right_02","name":"Hollywood_filler_ground_right_02","scripts":[],"texName":"Hollywood_environment"}],"name":"Ground","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[0.831820011138916,0,0,0,1,0,0,0,1,41,2.5,59.79999923706055],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,38.68000030517578,0.7400000095367432,61.20000076293945],"meshName":"palm_Tree_04","name":"Hollywood_palm_Tree_04","scripts":[],"texName":"Hollywood_environment"}],"name":"OneTree","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,39.900001525878906,0.009999999776482582,118.89999389648438],"meshName":"palm_Tree_02","name":"Hollywood_palm_Tree_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,38.43000030517578,1.0099999904632568,38],"meshName":"palm_Tree_03","name":"Hollywood_palm_Tree_03","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.831820011138916,0,0,0,1,0,0,0,1,41,3.0999999046325684,36.849998474121094],"meshName":"tree_planter","name":"Hollywood_tree_planter","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[0.831820011138916,0,0,0,1,0,0,0,1,40.87000274658203,3.0999999046325684,116.30000305175781],"meshName":"tree_planter","name":"Hollywood_tree_planter (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"TwoTrees","scripts":[]}],"name":"RandomPalmtrees","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[0.6660715937614441,0,-1.4395651817321777,0,1.586190104484558,0,1.4395651817321777,0,0.6660715937614441,327.07757568359375,2.799999237060547,46],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1.8997451066970825,0,-1.1700135469436646,0,2.2311348915100098,0,1.1700135469436646,0,1.8997451066970825,265.8583984375,1.2000000476837158,128.60000610351562],"meshName":"blocker_bushes_light","name":"Hollywood_blocker_bushes_light (1)","scripts":[],"texName":"Hollywood_environment"}],"name":"Bushes","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-127.19999694824219,0,0],"meshName":"filler_blocker_01","name":"Hollywood_filler_blocker_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,-26.099998474121094,0,0],"meshName":"filler_blocker_02","name":"Hollywood_filler_blocker_02","scripts":[],"texName":"Hollywood_environment"}],"name":"Building","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,41,0,23.100000381469727],"meshName":"filler_greenScreen_blocker","name":"Hollywood_filler_greenScreen_blocker","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,41,0,23.100000381469727],"meshName":"western_Blocker","name":"Hollywood_filler_westernBlocker","scripts":[],"texName":"Hollywood_environment"}],"name":"MoviSets","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"RandomBlocker","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"RandomSpawns","scripts":[]}],"meshName":"med_03_right","name":"Hollywood_med_03_right","scripts":[],"texName":"Hollywood_environment"}]}')},function(e){e.exports=JSON.parse('{"main":{"duration":5,"loop":true,"startDelay":0,"playOnAwake":true,"startLifetime":{"mode":0,"values":[0.5],"range":5},"startSpeed":{"mode":3,"values":[300,350],"range":5},"startSize":{"mode":3,"values":[2,3],"range":5},"startRotation":{"mode":0,"values":[-1.570796251296997],"range":5},"startRotation3D":true,"startRotationX":{"mode":0,"values":[0],"range":5},"startRotationY":{"mode":0,"values":[3.141592502593994],"range":5},"startRotationZ":{"mode":0,"values":[-1.570796251296997],"range":5},"gravityModifier":{"mode":0,"values":[0],"range":5},"startColor":{"mode":0,"colors":[{"r":1,"g":1,"b":1,"a":1}],"gradients":[]},"simulationSpeed":1,"maxParticles":5},"emission":{"enabled":true,"rateOverTime":{"mode":3,"values":[0,1],"range":1},"bursts":[]},"shape":{"enabled":true,"shapeType":4,"angle":15,"radius":1,"radiusThickness":1,"donutRadius":0.20000000298023224,"position":{"x":0,"y":0,"z":0},"rotation":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1}},"velocityOverLifetime":{"enabled":false,"linear":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}],"orbital":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}],"orbitalOffset":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}]},"limitVelocityOverLifetime":{"enabled":false,"speed":{"mode":0,"values":[],"range":0},"dampen":0,"drag":{"mode":0,"values":[],"range":0},"multiplyDragByParticleSize":false,"multiplyDragByParticleVelocity":false},"colorOverLifetime":{"enabled":false,"color":{"mode":0,"colors":[],"gradients":[]}},"sizeOverLifetime":{"enabled":true,"size":{"mode":1,"values":[0,0.534010648727417,0.8432632684707642,0.9795805215835571,1,1,1,1,1,0],"range":1}},"rotationOverLifetime":{"enabled":false,"separateAxes":false,"x":{"mode":0,"values":[],"range":0},"y":{"mode":0,"values":[],"range":0},"z":{"mode":0,"values":[],"range":0}},"noise":{"enabled":false,"strength":{"mode":0,"values":[],"range":0},"frequency":0,"damping":false,"quality":0,"positionAmount":{"mode":0,"values":[],"range":0}},"renderer":{"mode":4,"alignment":4,"meshes":["laser_green"]}}')},function(e){e.exports=JSON.parse('{"main":{"duration":5,"loop":true,"startDelay":0,"playOnAwake":true,"startLifetime":{"mode":0,"values":[0.5],"range":5},"startSpeed":{"mode":3,"values":[250,300],"range":5},"startSize":{"mode":3,"values":[1,2.5],"range":5},"startRotation":{"mode":0,"values":[1.570796251296997],"range":5},"startRotation3D":true,"startRotationX":{"mode":0,"values":[0],"range":5},"startRotationY":{"mode":0,"values":[3.141592502593994],"range":5},"startRotationZ":{"mode":0,"values":[1.570796251296997],"range":5},"gravityModifier":{"mode":0,"values":[0],"range":5},"startColor":{"mode":0,"colors":[{"r":1,"g":1,"b":1,"a":1}],"gradients":[]},"simulationSpeed":1,"maxParticles":5},"emission":{"enabled":true,"rateOverTime":{"mode":3,"values":[1,3],"range":1},"bursts":[]},"shape":{"enabled":true,"shapeType":4,"angle":15,"radius":1,"radiusThickness":1,"donutRadius":0.20000000298023224,"position":{"x":0,"y":0,"z":0},"rotation":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1}},"velocityOverLifetime":{"enabled":false,"linear":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}],"orbital":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}],"orbitalOffset":[{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0},{"mode":0,"values":[],"range":0}]},"limitVelocityOverLifetime":{"enabled":false,"speed":{"mode":0,"values":[],"range":0},"dampen":0,"drag":{"mode":0,"values":[],"range":0},"multiplyDragByParticleSize":false,"multiplyDragByParticleVelocity":false},"colorOverLifetime":{"enabled":false,"color":{"mode":0,"colors":[],"gradients":[]}},"sizeOverLifetime":{"enabled":true,"size":{"mode":1,"values":[0,0.534010648727417,0.8432632684707642,0.9795805215835571,1,1,1,1,1,0],"range":1}},"rotationOverLifetime":{"enabled":false,"separateAxes":false,"x":{"mode":0,"values":[],"range":0},"y":{"mode":0,"values":[],"range":0},"z":{"mode":0,"values":[],"range":0}},"noise":{"enabled":false,"strength":{"mode":0,"values":[],"range":0},"frequency":0,"damping":false,"quality":0,"positionAmount":{"mode":0,"values":[],"range":0}},"renderer":{"mode":4,"alignment":4,"meshes":["laser_pink"]}}')},function(e){e.exports=JSON.parse('{"objects":[{"activationProbability":1,"children":[],"name":"Hollywood_epic_end","scripts":[]},{"activationProbability":1,"children":[],"name":"Hollywood_epic_mid","scripts":[]},{"activationProbability":1,"children":[],"meshName":"epic_space","name":"Hollywood_epic_space","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,-24,0],"meshName":"mineCart","name":"Hollywood_minecart_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,-20.5,0],"meshName":"mineCart_02","name":"Hollywood_minecart_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,14.199999809265137,247],"name":"CharacterTrigger_Minecart_02","scripts":[]}],"meshName":"epic_western","name":"Hollywood_epic_western","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"epic_space","name":"Hollywood_epic_space","scripts":[],"texName":"Hollywood_environment"}],"name":"random","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"name":"Hollywood_epic_start","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"animations":[],"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,-24,0],"meshName":"mineCart","name":"Hollywood_minecart_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"animations":[],"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,-20.5,0],"meshName":"mineCart_02","name":"Hollywood_minecart_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,14.199999809265137,247],"name":"CharacterTrigger_Minecart_02","scripts":[]}],"meshName":"epic_western","name":"Hollywood_epic_western","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"gates_base","name":"Hollywood_gates_base","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"gates_left","name":"Hollywood_gates_left","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"gates_mid","name":"Hollywood_gates_mid","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"gates_right","name":"Hollywood_gates_right","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"gates_sides","name":"Hollywood_gates_sides","scripts":[],"texName":"Hollywood_environment"}]}')},function(e){e.exports=JSON.parse('{"objects":[{"activationProbability":1,"children":[],"meshName":"pillar","name":"Hollywood_pillar","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,48.70000076293945,0],"name":"RoofCollider","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,45],"name":"CameraModifier_1F","scripts":[]}],"meshName":"pillars_end","name":"Hollywood_pillars_end","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,48.79999923706055,0],"name":"RoofCollider","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,90],"name":"CameraModifier_1F","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[-0.997525691986084,-0.07030585408210754,-2.0954757928848267e-7,0.06993184983730316,-0.9922188520431519,-0.10301313549280167,0.007242217659950256,-0.10275823622941971,0.9946799874305725,5,2.930000066757202,11.300000190734863],"name":"Particle System (1)","scripts":[]}],"matrix":[-1.1920928955078125e-7,-8.742279078433057e-8,1.0000001192092896,0,-1.000000238418579,-8.742279078433057e-8,1.0000001192092896,0,-1.1920928955078125e-7,-45.20000076293945,16.799999237060547,44.5],"name":"LaserShots_green","scripts":[]}],"meshName":"pillars_mid_var01","name":"Hollywood_pillars_mid_var01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[-0.037464022636413574,-1.4901161193847656e-8,0.9992979764938354,0.14319580793380737,0.9896798133850098,0.005368471145629883,-0.9889850616455078,0.14329640567302704,-0.03707730770111084,-20.600000381469727,-1.7000000476837158,-0.800000011920929],"name":"Particle System","scripts":[]}],"matrix":[1,0,0,0,1,0,0,0,1,63.29999923706055,16.799999237060547,111],"name":"LaserShots_pink","scripts":[]}],"meshName":"pillars_mid_var02","name":"Hollywood_pillars_mid_var02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"pillars_mid_var03","name":"Hollywood_pillars_mid_var03","scripts":[],"texName":"Hollywood_environment"}],"name":"Pillars_mid_variations","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"pillars_mid","name":"Hollywood_pillars_mid","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,48.79999923706055,0],"name":"RoofCollider","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,10.5,-1],"name":"RoofCollider Front","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,45],"name":"CameraModifier_1F","scripts":[]}],"meshName":"pillars_start","name":"Hollywood_pillars_start","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,47.79999923706055,0],"name":"RoofCollider","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,45],"name":"CameraModifier_1F","scripts":[]}],"meshName":"station_end","name":"Hollywood_station_end","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,47.79999923706055,0],"name":"RoofCollider","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,45],"name":"CameraModifier_1F","scripts":[]}],"meshName":"station_mid","name":"Hollywood_station_mid","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"station_platforms","name":"Hollywood_station_platforms","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,47.79999923706055,0],"name":"RoofCollider","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,-13,-3],"name":"RoofCollider Start","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,45],"name":"CameraModifier_1F","scripts":[]}],"meshName":"station_start","name":"Hollywood_station_start","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,-1.1920928955078125e-7,-1.0000001192092896,0,1.0000001192092896,-1.1920928955078125e-7,-49.29999923706055,20.899999618530273,-20.5],"name":"Hollywood_Fire","scripts":[]}],"name":"Hollywood_Fire","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,-1.1920928955078125e-7,-1.0000001192092896,0,1.0000001192092896,-1.1920928955078125e-7,48.099998474121094,20.899999618530273,-20.5],"name":"Hollywood_Fire","scripts":[]}],"name":"Hollywood_Fire (1)","scripts":[]}],"meshName":"tube_end","name":"Hollywood_tube_end","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,96,90],"name":"Coin_Line_6_over_150","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,-1.2000000476837158,0],"name":"RoofCollider","scripts":[]},{"activationProbability":1,"children":[],"matrix":[1,0,0,0,1,0,0,0,1,0,0,90],"name":"CameraModifier_1F","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,-1.1920928955078125e-7,-1.0000001192092896,0,1.0000001192092896,-1.1920928955078125e-7,58.400001525878906,55.060001373291016,49.79999923706055],"name":"Hollywood_Fire","scripts":[]}],"name":"Hollywood_Fire","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,-1.1920928955078125e-7,-1.0000001192092896,0,1.0000001192092896,-1.1920928955078125e-7,-58.599998474121094,55.060001373291016,49.79999923706055],"name":"Hollywood_Fire","scripts":[]}],"name":"Hollywood_Fire (1)","scripts":[]}],"meshName":"Tube_Extra_01","name":"Hollywood_tube_extra_01","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,-1.1920928955078125e-7,-1.0000001192092896,0,1.0000001192092896,-1.1920928955078125e-7,32.560001373291016,15.100000381469727,73.58999633789062],"name":"Hollywood_Fire","scripts":[]}],"name":"Hollywood_Fire","scripts":[]},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,-1.1920928955078125e-7,-1.0000001192092896,0,1.0000001192092896,-1.1920928955078125e-7,39.02000045776367,15.100000381469727,44.150001525878906],"name":"Hollywood_Fire","scripts":[]}],"name":"Hollywood_Fire (1)","scripts":[]}],"meshName":"Tube_Extra_02","name":"Hollywood_tube_extra_02","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[{"activationProbability":1,"children":[],"matrix":[1,0,0,0,-1.1920928955078125e-7,-1.0000001192092896,0,1.0000001192092896,-1.1920928955078125e-7,50.599998474121094,31.899999618530273,91.30000305175781],"name":"Hollywood_Fireflies","scripts":[]}],"meshName":"Tube_Extra_03","name":"Hollywood_tube_extra_03","scripts":[],"texName":"Hollywood_environment"}],"name":"Random","scripts":[{"activationProbability":1,"name":"RandomChildRandomizer"}]}],"meshName":"tube_mid","name":"Hollywood_tube_mid","scripts":[],"texName":"Hollywood_environment"},{"activationProbability":1,"children":[],"meshName":"tube_start","name":"Hollywood_tube_start","scripts":[],"texName":"Hollywood_environment"}]}')},,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return WaterMaterial}));i(4);var s=i(82),r=i(64);const a=i(500).default,o=i(501).default;class WaterMaterial extends s.a{constructor(e){void 0===e&&(e={});e.uniforms=r.a.group,super(e,a,o,["#define BEND","#define FOG"],"water")}}var n,l,h;n=WaterMaterial,h=void 0,(l=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(l="_uniformGroup"))in n?Object.defineProperty(n,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):n[l]=h},,,function(e){e.exports=JSON.parse('[{"type":"hoverboard","amount":1,"chance":10.67},{"type":"hoverboard","amount":2,"chance":9.33},{"type":"hoverboard","amount":3,"chance":8},{"type":"keys","amount":1,"chance":2.4},{"type":"keys","amount":2,"chance":0.27},{"type":"headstart","amount":1,"chance":0.67},{"type":"scoreBooster","amount":1,"chance":0.67},{"type":"coins","amount":100,"chance":26.67},{"type":"coins","amount":200,"chance":20},{"type":"coins","amount":500,"chance":12},{"type":"coins","amount":800,"chance":6.67},{"type":"coins","amount":1000,"chance":2},{"type":"coins","amount":2000,"chance":0.67}]')},function(e){e.exports=JSON.parse('[{"type":"hoverboard","amount":1,"chance":5.56},{"type":"hoverboard","amount":2,"chance":11.11},{"type":"hoverboard","amount":3,"chance":18.52},{"type":"hoverboard","amount":[4,10],"chance":1.85},{"type":"keys","amount":1,"chance":3.7},{"type":"headstart","amount":1,"chance":3.15},{"type":"headstart","amount":2,"chance":0.37},{"type":"headstart","amount":3,"chance":0.19},{"type":"scoreBooster","amount":1,"chance":1.85},{"type":"coins","amount":[200,300],"chance":12.76},{"type":"coins","amount":500,"chance":9.26},{"type":"coins","amount":800,"chance":11.11},{"type":"coins","amount":1000,"chance":12.96},{"type":"coins","amount":1500,"chance":5.56},{"type":"coins","amount":2500,"chance":1.85},{"type":"coins","amount":5000,"chance":0.19},{"type":"coins","amount":100000,"chance":0.02}]')},function(e){e.exports=JSON.parse('[{"type":"hoverboard","amount":[4,8],"chance":12.5},{"type":"hoverboard","amount":[10,20],"chance":1.09},{"type":"hoverboard","amount":40,"chance":0.47},{"type":"keys","amount":1,"chance":3.91},{"type":"keys","amount":2,"chance":2.34},{"type":"keys","amount":3,"chance":1.56},{"type":"headstart","amount":1,"chance":2.81},{"type":"headstart","amount":2,"chance":1.56},{"type":"headstart","amount":3,"chance":1.25},{"type":"headstart","amount":5,"chance":0.63},{"type":"scoreBooster","amount":1,"chance":4.69},{"type":"scoreBooster","amount":2,"chance":3.13},{"type":"scoreBooster","amount":3,"chance":1.56},{"type":"coins","amount":1500,"chance":24.25},{"type":"coins","amount":2000,"chance":17.19},{"type":"coins","amount":3000,"chance":10.94},{"type":"coins","amount":5000,"chance":6.25},{"type":"coins","amount":8000,"chance":2.34},{"type":"coins","amount":15000,"chance":0.63},{"type":"coins","amount":20000,"chance":0.47},{"type":"coins","amount":50000,"chance":0.31},{"type":"coins","amount":300000,"chance":0.13}]')},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i(11);function s(e,t,i){var r;if(!i&&null!==(r=e.materialName)&&void 0!==r&&r.includes(t)||e.materialName===t)return e;for(const r of e.container.children){const e=s(r,t,i);if(e)return e}return null}},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return SmokeMaterial}));i(4);var s=i(82),r=i(64);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l=i(506).default,h=i(507).default;class SmokeMaterial extends s.a{constructor(e){void 0===e&&(e={});e.uniforms=o(o({},r.a.group),{},{uOffset:0}),super(e,l,h,["#define BEND","#define MAP"],"unlit")}get offset(){return this.uniforms.uOffset}set offset(e){this.uniforms.uOffset=e}}n(SmokeMaterial,"_uniformGroup",void 0)},function(e){e.exports=JSON.parse('{"fps":24,"clips":{"paintIdle":{"frames":[0,565]},"introRun":{"frames":[565,594]},"popupIdle":{"frames":[616,684]}}}')},function(e){e.exports=JSON.parse('{"Avatar_Caught_Left_Leg":{"frames":[0,98]},"Avatar_Caught_Fall_on_face":{"frames":[108,128]},"Avatar_Caught_Right_Leg":{"frames":[148,246]},"Avatar_Caught_Shoulder":{"frames":[298,398]},"Avatar_Caught_Right_Neck":{"frames":[478,576]},"Avatar_Caught_Left_Neck":{"frames":[628,726]}}')},function(e){e.exports=JSON.parse('{"Hotrod_Run_Small":{"frames":[0,23]},"Hoverboard_M_Grind4_land":{"frames":[40,50]},"Hoverboard_M_Grind4":{"frames":[50,60]},"Hotrod_Grind1_land":{"frames":[66,80]},"Hotrod_Grind1":{"frames":[80,88]},"Hotrod_Run":{"frames":[106,130]},"Hoverboard_L_Down1":{"frames":[172,187]},"Hoverboard_L_Superman":{"frames":[750,779]},"Hoverboard_L_Frontflip":{"frames":[784,805]},"Hoverboard_M_Frontflip":{"frames":[784,805]},"Snowboard_Run":{"frames":[830,854]},"Snowboard_Jump1_jump":{"frames":[866,881]},"Snowboard_Jump1_land":{"frames":[881,890]},"Snowboard_Down":{"frames":[896,911]},"Snowboard_ChangeLane_left":{"frames":[926,938]},"Snowboard_ChangeLane_right":{"frames":[956,968]},"Snowboard_Grind1_land":{"frames":[977,986]},"Snowboard_Grind1":{"frames":[986,1000]},"Snowboard_Grind2_land":{"frames":[1007,1016]},"Snowboard_Grind2":{"frames":[1016,1036]},"Snowboard_Board_on":{"frames":[1040,1051]},"Snowboard_bs_360_grab":{"frames":[1100,1127]},"Snowboard_Grind3_land":{"frames":[1170,1185]},"Snowboard_Grind3":{"frames":[1185,1218]},"Snowboard_Jump2":{"frames":[1264,1291]},"Snowboard_fs_360_grab":{"frames":[1365,1392]},"Snowboard_Backflip_grab":{"frames":[1440,1467]},"Snowboard_Frontflip":{"frames":[1479,1501]},"Snowboard_bs_360_tailgrab":{"frames":[1510,1537]},"Hoverboard_M_bs_tailgrab_footkick":{"frames":[1557,1584]},"Hoverboard_M_360_pop_Shove_it":{"frames":[1590,1613]},"Hoverboard_L_fs_360_grab":{"frames":[1630,1657]},"Hoverboard_L_bs_360_grab":{"frames":[1660,1687]},"Hoverboard_L_Backflip_grab":{"frames":[1700,1727]},"Hoverboard_L_Down2":{"frames":[1734,1749]},"Lowrider_Run":{"frames":[1699,1722]},"Lowrider_Jump1":{"frames":[1733,1758]},"Lowrider_Changelane_Left1":{"frames":[1758,1770]},"Lowrider_Changelane_Right1":{"frames":[1770,1782]},"Lowrider_Jump_3_Starfish_Frontflip":{"frames":[1782,1809]},"Lowrider_Grind1_land":{"frames":[1839,1849]},"Lowrider_Grind1":{"frames":[1849,1862]},"Lowrider_Fat_Grind2_land":{"frames":[1868,1879]},"Lowrider_Grind2":{"frames":[1879,1897]},"Lowrider_Board_on":{"frames":[1901,1912]},"Lowrider_Down":{"frames":[1921,1931]},"Lowrider_Jump_2_BarrelRoll":{"frames":[1933,1956]},"Lowrider_Jump_4_Handstand":{"frames":[1960,1986]},"Snowboard_Run_small":{"frames":[2082,2105]},"Hoverboard_M_Run_small":{"frames":[2110,2133]},"Surfboard_L_Run_small":{"frames":[2140,2163]},"Lowrider_Run_small":{"frames":[2170,2194]},"Lowrider_Fat_Grind2":{"frames":[2200,2218]},"JumpBoard_Air":{"frames":[2220,2254]},"DareDevil_Run":{"frames":[2270,2293]},"DareDevil_Down":{"frames":[2300,2315]},"DareDevil_Jump_Airwalk":{"frames":[2320,2365]},"DareDevil_Jump_Landing":{"frames":[2370,2376]},"DareDevil_Jump_360_Hug":{"frames":[2380,2425]},"DareDevil_Run_Small":{"frames":[2430,2453]},"Hoverboard_M_Gazelle_Flip":{"frames":[2470,2500]},"Custom_Teleport":{"frames":[2530,2615]},"Custom_Trail":{"frames":[2640,2710]},"Custom_DoubleJump":{"frames":[2740,2815]},"Custom_SuperJump":{"frames":[2840,2890]},"Custom_HighSpeed":{"frames":[2915,3000]},"Custom_StayLow":{"frames":[3015,3100]},"Custom_SmoothDrift":{"frames":[3115,3190]},"Lowrider_Landing_2":{"frames":[3210,3218]},"FlyingCarpet_L_Run_Small":{"frames":[3230,3254]},"FlyingCarpet_L_Run_Small_land":{"frames":[3230,3254]},"Custom_Rotation_left":{"frames":[3315,3390]},"Custom_Rotation_right":{"frames":[3400,3475]}}')},function(e){e.exports=JSON.parse('{"Jetpack_forward":{"frames":[0,11]},"Jetpack_BarrelRoll_right":{"frames":[19,29]},"Jetpack_BarrelRoll_left":{"frames":[39,49]},"Jetpack_changeLane_left":{"frames":[59,69]},"Jetpack_changeLane_right":{"frames":[79,89]},"Jetpack_forward_2":{"frames":[99,122]},"Double_Headstart":{"frames":[129,171]},"Triple_Headstart":{"frames":[201,241]}}')},function(e){e.exports=JSON.parse('{"introRun":{"frames":[0,29]},"run":{"frames":[34,44]},"jump2":{"frames":[110,128]},"IconJump":{"frames":[113,113.1]},"hangtime2":{"frames":[115,128]},"landing2":{"frames":[128,134]},"jump":{"frames":[137,153]},"hangtime":{"frames":[156,168]},"landing":{"frames":[170,174]},"roll":{"frames":[201,214]},"IconRoll":{"frames":[204,204.1]},"dodgeLeft":{"frames":[250,262]},"dodgeRight":{"frames":[280,292]},"hold_magnet":{"frames":[330,331]},"stumbleCornerRight":{"frames":[341,361]},"stumbleCornerLeft":{"frames":[361,380]},"stumble":{"frames":[385,405]},"stumbleSideRight":{"frames":[412,422]},"stumbleSideLeft":{"frames":[432,442]},"death_bounce":{"frames":[450,466]},"death_upper":{"frames":[470,478]},"death_lower":{"frames":[490,502]},"death_movingTrain":{"frames":[510,545]},"h_run":{"frames":[564,588]},"h_jump":{"frames":[601,603]},"h_hangtime":{"frames":[606,618]},"h_landing":{"frames":[620,628]},"h_roll":{"frames":[631,644]},"h_left":{"frames":[660,673]},"h_right":{"frames":[690,703]},"h_Grind1_land":{"frames":[711,720]},"h_Grind1":{"frames":[720,734]},"h_Grind2_land":{"frames":[741,750]},"h_Grind2":{"frames":[750,770]},"superRun":{"frames":[790,810]},"h_skate_on":{"frames":[820,831]},"h_jump2_kickflip_flip":{"frames":[850,870]},"h_jump3_bs360grab":{"frames":[880,900]},"h_jump4_360_flip":{"frames":[916,939]},"h_Grind3_land":{"frames":[954,973]},"h_Grind3":{"frames":[973,993]},"run2":{"frames":[1010,1020]},"run3":{"frames":[1050,1060]},"run4_long":{"frames":[1120,1230]},"stumble_low":{"frames":[1250,1265]},"jump_salto":{"frames":[1350,1374]},"h_jump5_Impossible_flip":{"frames":[1450,1473]},"h_jump6_nollie":{"frames":[1480,1507]},"h_jump7_heelflip_flip":{"frames":[1550,1574]},"h_jump8_pop_shuvit_flip":{"frames":[1610,1633]},"h_jump9_fs360grab":{"frames":[1650,1678]},"h_jump10_heel360_flip":{"frames":[1700,1724]},"h_jump11_fs_salto":{"frames":[1740,1768]},"jump3":{"frames":[1770,1788]},"hangtime3":{"frames":[1775,1788]},"landing3":{"frames":[1789,1794]},"DoubleJump_Jump":{"frames":[1800,1804]},"DoubleJump_Hangtime_01_star":{"frames":[1806,1828]},"DoubleJump_Hangtime_02_BackFlip":{"frames":[1830,1852]},"DoubleJump_Hangtime_03_360":{"frames":[1855,1881]},"run_HighScore_main":{"frames":[2000,2039]},"run_HighScore_hatadjust":{"frames":[2055,2094]},"run_HighScore_xianHat":{"frames":[2110,2149]},"run_HighScore_Yutani":{"frames":[2160,2199]},"run_HighScore_Ninja":{"frames":[2210,2249]},"run_HighScore_Tagbot":{"frames":[2260,2299]},"run_HighScore_VeniceMain":{"frames":[2310,2349]},"run_HighScore_HolidayMainandOutfit1":{"frames":[2360,2399]},"run_HighScore_MexicoOutfit1":{"frames":[2410,2449]}}')},function(e){e.exports=JSON.parse('{"pogostick_SpinMove":{"frames":[0,49]},"pogostick_kicking":{"frames":[59,71]},"pogostick_Hangtime_kick":{"frames":[81,101]},"pogostick_changeLane_right":{"frames":[119,125]},"pogostick_changeLane_left":{"frames":[131,137]},"pogostick_Hangtime_flying":{"frames":[149,182]},"pogostick_Hangtime_front_flip1":{"frames":[199,232]}}')},function(e){e.exports=JSON.parse('{"TopRun_Start_the_High5":{"frames":[0,60]},"TopRun_High5_Breathe":{"frames":[60,255]},"TopRun_High5_Disapointet":{"frames":[260,350]},"TopRun_High5_Jumping_Spin_Move":{"frames":[360,450]},"TopRun_High5_Jumping_Hell_Yeah_split":{"frames":[460,550]},"TopRun_High5_Jump_around":{"frames":[560,676]},"TopRun_High5_Break":{"frames":[700,830]}}')},function(e){e.exports=JSON.parse('{"file":"model-dog-catch","texture":"enemies","fps":25,"offset":0,"clips":{"Dog_Caught_Shoulder":{"frames":[300,400]},"Dog_Caught_Right":{"frames":[150,248]},"Dog_Caught_Left":{"frames":[2,100]}}}')},function(e){e.exports=JSON.parse('{"file":"model-dog-movement","texture":"enemies","fps":25,"offset":50,"clips":{"Dog_run":{"frames":[1,14]},"Dog_Fast Run":{"frames":[20,40]},"Dog_Run offset":{"frames":[-6,6]},"Dog_jump":{"frames":[52,75]},"Dog_hangtime":{"frames":[37,46]},"Dog_landing":{"frames":[46,51]},"Dog_dodgeRight":{"frames":[80,93]},"Dog_dodgeLeft":{"frames":[100,113]},"Dog_whistle":{"frames":[125,149]},"Dog_death_movingTrain":{"frames":[173,210]},"Dog_playIntro":{"frames":[-50,-21]},"Dog_Bite_After":{"frames":[220,228]}}}')},function(e){e.exports=JSON.parse('{"file":"model-guard-catch","texture":"enemies","fps":24,"offset":0,"clips":{"Guard_Caught_Shoulder":{"frames":[300,400]},"Guard_Caught_Right_Leg":{"frames":[150,248]},"Guard_Caught_Left_Leg":{"frames":[2,40]}}}')},function(e){e.exports=JSON.parse('{"file":"model-guard-movement","texture":"enemies","fps":25,"offset":53,"clips":{"Guard_run":{"frames":[1,13]},"Guard_grap_after":{"frames":[24,48]},"Guard_jump":{"frames":[52,75]},"Guard_hangtime":{"frames":[59,65]},"Guard_landing":{"frames":[71,77]},"Guard_dodgeRight":{"frames":[80,93]},"Guard_dodgeLeft":{"frames":[100,113]},"Guard_whistle":{"frames":[125,149]},"Guard_death_movingTrain":{"frames":[173,210]},"Guard_playIntro":{"frames":[-50,-21]},"Guard_roll":{"frames":[220,228]}}}')},function(e,t,i){"use strict";i.d(t,"a",(function(){return StateMachine}));i(4);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class StateMachine{constructor(){s(this,"states",void 0),s(this,"current",void 0);const e={name:"none"};this.states={none:e},this.current=e}add(e){if(this.states[e.name])throw new Error("State with same name already exists: "+e.name);this.states[e.name]=e}update(e){var t,i;void 0===e&&(e=0),null===(t=this.current)||void 0===t||null===(i=t.update)||void 0===i||i.call(t,e);for(const e in this.states){const t=this.states[e];if(t.condition&&t.condition(this)){this.set(t.name);break}}}set(e){var t,i,s,r;const a=this.current,o=this.states[e];o!==this.current&&(null===(t=this.current)||void 0===t||null===(i=t.exit)||void 0===i||i.call(t,o.name),this.current=o,null===(s=this.current)||void 0===s||null===(r=s.enter)||void 0===r||r.call(s,a.name))}either(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.indexOf(this.current.name)>=0}neither(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.indexOf(this.current.name)<0}}},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Keyboard}));i(11),i(4);var s=i(23);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const a={up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright",space:" "};class KeyBindingCollection{constructor(){r(this,"map",{})}add(e){a[e.key]&&(e.key=a[e.key]);const t=this.map[e.key]||[];t.push(e),this.map[e.key]=t}remove(e){const t=this.map[e.key];if(!t)return;const i=t.indexOf(e);i<0||t.splice(i,1)}bindingsByKey(e){return this.map[e]||[]}}class Keyboard{constructor(){r(this,"keyDownBindings",void 0),r(this,"keyUpBindings",void 0),r(this,"enabled",!0),r(this,"onKeyDown",e=>{if(!this.enabled||e.repeat)return;const t=e.key.toLocaleLowerCase(),i=this.keyDownBindings.bindingsByKey(t);for(const t of i)t.action(e)}),r(this,"onKeyUp",e=>{if(!this.enabled||e.repeat)return;const t=e.key.toLocaleLowerCase(),i=this.keyUpBindings.bindingsByKey(t);for(const t of i)t.action(e)}),this.keyDownBindings=new KeyBindingCollection,this.keyUpBindings=new KeyBindingCollection,window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),s.a.SDK.onBreakStart.add(()=>{this.enabled=!1}),s.a.SDK.onBreakComplete.add(()=>{this.enabled=!0})}dispose(){this.keyDownBindings.map={},this.keyUpBindings.map={},window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}bindKeyDown(e,t){const i={key:e,action:t};return this.keyDownBindings.add(i),i}bindKeyUp(e,t){const i={key:e,action:t};return this.keyUpBindings.add(i),i}unbind(e){this.keyDownBindings.remove(e),this.keyUpBindings.remove(e)}}},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return BoostGauge}));i(4);var s=i(0);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class BoostGaugeSlice extends s.Container{constructor(e,t){super(),r(this,"label",void 0),r(this,"base",void 0),r(this,"slice",void 0),r(this,"pointer",void 0),r(this,"labelStyle",void 0),this.base=new s.Container,this.addChild(this.base),this.base.rotation=t,this.slice=s.Sprite.from("base-slice.png"),this.slice.anchor.set(.5,.5),this.slice.tint=0,this.slice.alpha=.4,this.base.addChild(this.slice),this.pointer=s.Sprite.from("icon-triangle.png"),this.pointer.anchor.set(.5,1),this.pointer.y=.5*this.slice.height,this.pointer.visible=!1,this.base.addChild(this.pointer),this.labelStyle={align:"center",fontFamily:"Lilita One",fontSize:32,fill:16777215,dropShadow:!0,dropShadowDistance:2},this.label=new s.Text(e,this.labelStyle),this.label.anchor.set(.5),this.addChild(this.label)}highlight(){this.slice.tint=this.base.angle<0?16640308:6739709,this.slice.alpha=1,this.label.tint=this.base.angle<0?9901841:1917343,this.label.alpha=1,this.pointer.tint=this.label.tint,this.pointer.visible=!0,this.labelStyle.dropShadow=!1,this.label.style=this.labelStyle}lowlight(){this.slice.tint=0,this.slice.alpha=.4,this.label.tint=16777215,this.label.alpha=1,this.pointer.visible=!1,this.labelStyle.dropShadow=!0,this.label.style=this.labelStyle}}class BoostGauge extends s.Container{constructor(){super(),r(this,"slices",void 0),r(this,"timeout",void 0),this.slices={},this.addSlice("3",-.6),this.addSlice("2",-1.6),this.addSlice("1",-2.6),this.addSlice("+7",.6),this.addSlice("+6",1.6),this.addSlice("+5",2.6),this.visible=!1}addSlice(e,t){const i=Math.PI/7*t,s=new BoostGaugeSlice(e,i);this.addChild(s),this.slices[e]=s,s.x=150*Math.sin(i),s.y=150*-Math.cos(i)}highlightSlice(e){if(!this.slices[e])throw new Error("Invalid gauge slice");this.slices[e].highlight()}lowlightSlice(e){if(!this.slices[e])throw new Error("Invalid gauge slice");this.slices[e].lowlight()}lowlightHeadstart(){this.slices[1].lowlight(),this.slices[2].lowlight(),this.slices[3].lowlight()}lowlightMultiplier(){this.slices["+5"].lowlight(),this.slices["+6"].lowlight(),this.slices["+7"].lowlight()}lowlightAll(){for(const e in this.slices)this.slices[e].lowlight()}show(e){void 0===e&&(e=5),this.visible=!0,clearTimeout(this.timeout),e&&(this.timeout=setTimeout(()=>this.hide(),1e3*e))}hide(){this.visible=!1,clearTimeout(this.timeout)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Countdown}));i(4);var s=i(222),r=i(0);function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Countdown extends r.Container{constructor(e){void 0===e&&(e="start_countdown"),super(),a(this,"label",void 0),a(this,"callback",void 0),a(this,"timeout",void 0),a(this,"i18nKey",""),this.i18nKey=e,this.visible=!1}build(){this.label||(this.label=new s.a(this.i18nKey,{params:{num:0},fill:"white",align:"center",fontSize:80,fontFamily:"Titan One",stroke:"black",strokeThickness:5,anchorX:.5,anchorY:.5}),this.addChild(this.label))}run(e,t){void 0===e&&(e=3),this.build(),clearTimeout(this.timeout),this.callback=t,this.step(e)}stop(){clearTimeout(this.timeout),this.visible=!1}step(e){if(0===e)return this.callback&&this.callback(),void(this.visible=!1);this.label.options.params={num:e},this.label.refresh(),this.visible=!0,this.timeout=setTimeout(this.step.bind(this),600,e-1)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return HUDMultiplierLabel}));i(4);var s=i(0);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class HUDMultiplierLabel extends s.Container{constructor(e){super(),r(this,"game",void 0),r(this,"base",void 0),r(this,"label",void 0),r(this,"labelOverlay",void 0),this.game=e;const t=s.Sprite.from("base-short.png");t.anchor.set(.5),t.alpha=.5,this.base=t,this.addChild(t);const i=new s.Text("0",{align:"center",fill:16702212,fontSize:50,fontFamily:"Lilita One"});i.anchor.set(.5),this.addChild(i),this.label=i;const a=new s.Text("0",{align:"center",fill:7829367,fontSize:50,fontFamily:"Lilita One"});a.anchor.set(.5),this.addChild(a),this.labelOverlay=a}get text(){return this.label.text}set text(e){this.label.text!==e&&(this.label.text=e,this.labelOverlay.text=e)}update(){if(this.game.hero.multiplier.isOn()){const e=this.game.time._lastTime;this.labelOverlay.alpha=.5+.4*Math.sin(.01*e)}else this.labelOverlay.alpha=0}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return ItemTimer}));i(4);var s=i(0),r=i(12),a=i(13);function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ProgressBar extends s.Container{constructor(e,t,i){void 0===i&&(i=0),super(),o(this,"w",0),o(this,"h",0),o(this,"barBg",void 0),o(this,"masked",void 0),o(this,"barFill",void 0),o(this,"barRed",void 0),o(this,"barMask",void 0),o(this,"_ratio",0),this.w=e,this.h=t;let r=e,a=t;this.barBg=new s.Graphics,this.barBg.beginFill(i,.75),this.barBg.drawRect(0,0,r,a),this.barBg.position.set(-r/2,-a/2),this.addChild(this.barBg),this.masked=new s.Container,this.addChild(this.masked),r-=8,a-=8,this.barFill=s.Sprite.from("item-duration-full-bar.png"),this.barFill.x=-r/2,this.barFill.anchor.y=.5,this.barFill.width=r,this.barFill.height=a,this.masked.addChild(this.barFill),this.barRed=s.Sprite.from("item-duration-full-bar.png"),this.barRed.x=-r/2,this.barRed.anchor.y=.5,this.barRed.width=r,this.barRed.height=a,this.masked.addChild(this.barRed),this.barRed.tint=16711680,this.barMask=s.Sprite.from(s.Texture.WHITE),this.barMask.width=r,this.barMask.height=a+2,this.barMask.anchor.x=1,this.barMask.position.set(r/2,-a/2-1),this.addChild(this.barMask),this._ratio=1,this.update()}get ratio(){return this._ratio}set ratio(e){this._ratio=r.a.clamp(e),this.update()}update(){this.barMask.width=(1-this._ratio)*this.w,this.barRed.alpha=.5*(1-this._ratio)}}class ItemTimer extends s.Container{constructor(e,t){super(),o(this,"id",void 0),o(this,"game",void 0),o(this,"iconBase",void 0),o(this,"icon",void 0),o(this,"bar",void 0),o(this,"base",void 0),o(this,"_amount",void 0),this.id=t,this.game=e,this.iconBase=s.Sprite.from("base-item.png"),this.iconBase.anchor.set(.5),this.addChild(this.iconBase),this.icon=s.Sprite.from("icon-item-"+t.toLowerCase()+".png"),this.icon.anchor.set(.5),this.addChild(this.icon),this.bar=new ProgressBar(200,34,16777215),this.addChild(this.bar),this.bar.x=this.iconBase.width/2+this.bar.w/2+6,this.base=a.a.roundRectBorder({w:this.bar.w+34,h:this.bar.h+16,round:5,color:16777215,alpha:1,borderWidth:3,borderColor:10066329}),this.addChildAt(this.base,0),this.base.x=this.bar.x-4,this.visible=!1}get w(){return this.iconBase.width}get h(){return this.iconBase.height}show(){this.visible||(this.visible=!0,this._amount&&(this._amount.text="0",this._amount.visible=!1))}hide(){this.visible&&(this.visible=!1,this.parent&&this.parent.removeChild(this))}get ratio(){return this.bar.ratio}set ratio(e){this.bar.ratio=e}get amount(){return this._amount?Number(this._amount.text):0}set amount(e){this._amount?this._amount.text=String(e):(this._amount=new s.Text(String(e),{align:"right",fontFamily:"Lilita One",fontSize:18,dropShadow:!0,dropShadowDistance:2,dropShadowColor:16777215}),this._amount.anchor.set(1,1),this._amount.x=26,this._amount.y=30,this.addChild(this._amount)),this._amount.visible=!0}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return MissionsDropDownPanel}));i(4);var s=i(57),r=i(7),a=i(0),o=i(13);function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class MissionsDropDownPanel extends a.Container{constructor(){super(),n(this,"base",void 0),n(this,"missionLabel",void 0),n(this,"timeline",new r.e),n(this,"show",(e,t)=>{this.missionLabel.text=s.b.translate(e,{amount:t}),this.missionLabel.y=-this.base.height/4+10,this.timeline.restart(!0)}),this.base=this.addChild(o.a.roundRectBorder({w:300,h:130,round:15,color:3836858})),this.y=-this.height/2,this.missionLabel=this.base.addChild(new a.Text("",{align:"center",fontFamily:"Lilita One",fontSize:26,fill:16777215,dropShadow:!0,dropShadowDistance:2,lineHeight:32,wordWrap:!0,wordWrapWidth:300})),this.missionLabel.anchor.set(.5);const e=this.base.addChild(new a.Container),t=e.addChild(a.Sprite.from("mission-completed-checkmark.png"));e.x=-75,e.y=40,t.anchor.set(.5),t.scale.set(.85),t.x=-t.width/2-10;const i=e.addChild(new a.Text("",{align:"center",fontFamily:"Lilita One",fontSize:26,fill:16777215,dropShadow:!0,dropShadowDistance:2}));i.anchor.set(.5),i.text=s.b.translate("mission-complete"),i.x=i.width/2,this.timeline.pause(),this.timeline.add(r.g.to(this,.3,{y:this.height/2+20,ease:r.c.easeInOut})),this.timeline.delay(.5),this.timeline.add(r.g.to(this,.3,{y:-this.height/2,ease:r.c.easeInOut}),2)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return RankingRealTime}));i(11),i(4);var s=i(125),r=i(0),a=i(107),o=i(2),n=i(13),l=i(51);function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class RankingRealTimeEntryCompact extends r.Container{constructor(e,t,i){void 0===e&&(e=150),void 0===t&&(t=50),void 0===i&&(i=10),super(),h(this,"w",void 0),h(this,"h",void 0),h(this,"rankingPos",void 0),h(this,"clampChars",void 0),h(this,"clean",void 0),h(this,"bg",void 0),h(this,"nameLabel",void 0),h(this,"score",void 0),h(this,"highlight",0),this.w=e,this.h=t,this.rankingPos=0,this.clampChars=i,this.visible=!1,this.clean=!0,this.bg=n.a.rect({w:this.w+60,h:this.h,round:14,color:16777215}),this.bg.tint=0,this.bg.alpha=.2,this.addChild(this.bg);const s={align:"right",fill:16777215,fontSize:.4*t,fontFamily:"Lilita One",dropShadow:!1,dropShadowDistance:1,maxWidth:300};this.nameLabel=new l.a("",s),this.addChild(this.nameLabel),this.nameLabel._text.anchor.x=1;const r={align:"right",fill:16777215,fontSize:.4*t,fontFamily:"Lilita One",dropShadow:!1,dropShadowDistance:1,maxWidth:300};this.score=new l.a("",r),this.addChild(this.score),this.score._text.anchor.x=1}reset(){this.clean=!0}getPosition(e){return 1===e?e+"st":2===e?e+"nd":3===e?e+"rd":e+"th"}update(e){const t=e.rank;this.rankingPos=t;const i=function(e){return e?1===e?e+"st":2===e?e+"nd":3===e?e+"rd":e+"th":""}(t),s=e.profile.name.substr(0,this.clampChars),r=i?" - ":"";this.nameLabel.text=""+s,this.score.text=""+e.score+r+i,this.bg.tint=this.highlight?16773461:0,this.bg.alpha=this.highlight?.7:.2,this.bg.x=-this.w/2+20,this.nameLabel._text.tint=this.highlight?666451:16777215,this.score._text.tint=this.highlight?666451:16777215,this.nameLabel.x=-5,this.nameLabel.y=.22*-this.height,this.score.x=-5,this.score.y=.22*this.height}}class RankingRealTime extends r.Container{constructor(e,t,i){void 0===e&&(e=210),void 0===t&&(t=50),void 0===i&&(i=10),super(),h(this,"entryWidth",0),h(this,"entryHeight",0),h(this,"clampChars",10),h(this,"pool",void 0),h(this,"entries",[]),h(this,"_syncing",!1),h(this,"updateFrequency",3e3),h(this,"updateTimeout",null),this.pool=new s.a(RankingRealTimeEntryCompact),this.entryWidth=e,this.entryHeight=t,this.clampChars=i,this.entries=[]}clear(){for(const e of this.entries)this.pool.return(e),e.visible=!1;this.entries.length=0}update(){this.updateTimeout||(this.syncScores(),this.updateTimeout=setTimeout(()=>{clearTimeout(this.updateTimeout),this.updateTimeout=null},this.updateFrequency))}async syncScores(){if(this._syncing)return;this._syncing=!0;const e=await a.a.getLeaderboard(),{leaderboardEntry:t}=o.a.user;t.score=o.a.game.stats.score,e.push(t),e.sort((e,t)=>t.score-e.score),e.forEach((e,i)=>{const s=e===t;e.rank=(Number(i)+1)*Number(!(s&&i>9))}),this.refreshItems(e),this._syncing=!1}refreshItems(e){this.clear();for(const t in e){const i=e[t],s=this.pool.get();this.addChild(s),s.visible=!0,s.update(i),this.entries.push(s),s.rankingPos=Number(t),s.y=s.rankingPos*(this.entryHeight+3)}}render(e){super.render(e)}animate(){for(const e in this.entries){const t=this.entries[e],i=t.rankingPos*(this.entryHeight+3);t.y-=.15*(t.y-i),t.clean&&(t.y=i,t.clean=!1)}}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return WordDropDownPanel}));i(4);var s=i(57),r=i(7),a=i(219),o=i(0),n=i(43),l=i(97),h=i(13);function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}a.a.registerPIXI(o),r.C.registerPlugin(a.a),r.C.defaults({overwrite:"auto"});class WordDropDownPanel extends o.Container{constructor(){super(),c(this,"base",void 0),c(this,"letters",[]),c(this,"lettersContainer",void 0),c(this,"onCompletePanel",new o.Container),c(this,"timeline",new r.e),c(this,"currentLetter",0),c(this,"progress",()=>{const e=this.letters[this.currentLetter];r.g.to(e,.25,{pixi:{tint:16763904},ease:r.c.easeInOut}),r.g.to(e.scale,.25,{x:1.7,y:1.7,ease:r.c.easeInOut}),r.g.to(e.scale,.25,{x:1,y:1,ease:r.c.easeInOut,delay:.25})}),c(this,"show",e=>{this.currentLetter=e,this.timeline.restart(!0)}),this.base=this.addChild(h.a.roundRectBorder({w:300,h:90,color:3836858})),this.lettersContainer=this.addChild(new o.Container);const e=Object(n.f)().toUpperCase();let t=0;this.currentLetter=Object(n.c)();for(let s=0;s<e.length;s++){var i;const r=this.lettersContainer.addChild(new o.Text(e[s],{align:"center",fontFamily:"Titan One",fontSize:53,fill:s>=this.currentLetter?16777215:16763904,dropShadow:!0,dropShadowDistance:2}));r.anchor.set(.5),t+=(Number(null===(i=this.letters[s-1])||void 0===i?void 0:i.width)||0)/2+r.width/2,r.x=t-this.base.width/2+15*s,this.letters.push(r)}this.lettersContainer.width>260&&this.lettersContainer.scale.set(260/this.lettersContainer.width);const a=this.letters[0],d=this.letters[e.length-1],u=d.x+d.width/2-(a.x-a.width/2),p=(this.base.width-u)/2;for(let t=0;t<e.length;t++)this.letters[t].x+=p;this.y=-this.height/2;let m=this.onCompletePanel.addChild(h.a.roundRectBorder({w:100,h:90,color:2253188,borderColor:-1}));m.x=56-this.base.width/2;const b=Object(n.d)();if("number"==typeof b){const e=m.addChild(new l.a({coins:b,fontSize:40}));e.scale.set(1-((""+b).length-2)/5),e.x=-30}else if("string"==typeof b){const e=m.addChild(o.Sprite.from("icon-item-"+b+".png"));e.anchor.set(.5),e.scale.set(.6)}m=m.addChildAt(h.a.rect({w:50,h:90,color:2253188}),0),m.x=25;const f=this.onCompletePanel.addChild(new o.Text("",{align:"center",fontFamily:"Titan One",fontSize:30,fill:16777215,dropShadow:!0,dropShadowDistance:2}));f.anchor.set(.2,.5),f.text=s.b.translate("word-hunt-complete"),this.addChild(this.onCompletePanel),this.onCompletePanel.visible=!1,this.timeline.pause(),this.timeline.add(r.g.to(this,.3,{y:this.height/2+20,ease:r.c.easeInOut})),this.timeline.call(this.progress),this.timeline.delay(.5),this.timeline.add(r.g.to(this,.3,{y:-this.height/2,ease:r.c.easeInOut,onComplete:()=>{this.currentLetter!==e.length-1||this.onCompletePanel.visible||(this.onCompletePanel.visible=!0,this.letters.forEach(e=>{e.visible=!1}),this.timeline.delay(1.5),this.timeline.restart(!0))}}),2),n.j.add(this.show)}}},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return Chunk}));i(11),i(4);var s=i(1),r=i(17),a=i(80),o=i(321),n=i(88),l=i(26),h=i(322),c=i(143);function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=null;class Chunk{constructor(){d(this,"game",void 0),d(this,"node",void 0),d(this,"name",void 0),d(this,"entities",void 0),d(this,"blocks",void 0),d(this,"length",void 0),d(this,"z",void 0),d(this,"start",void 0),d(this,"middle",void 0),d(this,"end",void 0),d(this,"offset",void 0),d(this,"index",void 0),d(this,"section",null),d(this,"envNode",null),d(this,"environment",null),d(this,"envTube",!1),d(this,"envStation",!1),d(this,"envEpic",!1),d(this,"envGates",!1),d(this,"envEmpty",!1),d(this,"envPillars",!1),d(this,"hasGround",!1),d(this,"lastTube",0),d(this,"checkpoints",[]),d(this,"fillerSlots",void 0),d(this,"floorSlots",void 0),d(this,"fillerList",void 0),this.reset()}reset(){this.node=null,this.section=null,this.name="",this.entities=[],this.blocks=0,this.length=0,this.z=0,this.start=0,this.middle=0,this.end=0,this.offset=0,this.index=-1,this.envNode=null,this.environment=null,this.envTube=!1,this.envStation=!1,this.envEpic=!1,this.envGates=!1,this.envEmpty=!1,this.envPillars=!1,this.hasGround=!1,this.lastTube=0,this.checkpoints=[],this.fillerSlots={},this.floorSlots={},this.fillerList=[]}init(e,t,i,r){var a,o;this.game=e,this.node=i,this.name=this.node.name,this.entities=[],this.blocks=(null===(a=i.components)||void 0===a||null===(o=a.RouteChunk)||void 0===o?void 0:o._blockCount)||0,this.length=this.blocks*s.a.blockSize,this.z=-t,this.start=t,this.middle=this.start+.5*this.length,this.end=this.start+this.length,this.offset=0,this.index=r,this.fillerSlots={},this.floorSlots={},this.fillerList=[],this.game.environment.setup(this),this.mount(this.node,this),this.game.environment.mount(this),s.a.chunkMarks&&this.addChunkDebugMarks(),"intro"===this.name&&this.mountIntro()}mountIntro(){u||(u=new h.a),u.x=-19.8,u.y=0,u.z=30,this.blocks=2,this.length=90,this.game.addChild(u),u.updateScore(),l.g.mount(this),n.a.mount(this)}mount(e,t){if("intro"===this.name&&e.name.match("lightSignal"))return;if(void 0===(t=Object.assign({},t||{})).flip&&(t.flip=0),void 0===t.offsetX&&(t.offsetX=null),a.a.comp(e,"Randomizer")&&e.children){const i=r.a.pick(...e.children);return void this.mount(i,t)}if(a.a.comp(e,"RandomizeOffset")){const i=e.components.RandomizeOffset.randomOffsets.left,s=e.components.RandomizeOffset.randomOffsets.mid,a=e.components.RandomizeOffset.randomOffsets.right,o=[];i&&o.push(-20),s&&o.push(0),a&&o.push(20),o.length&&(t.offsetX=r.a.pick(...o))}a.a.comp(e,"Mirror")&&(t.flip=r.a.pick(0,1));const i=c.a.getEntityClass(e);if(i){let r=null;if(i.factory?r=i.factory(this,e,t):(r=this.game.pool.get(i),r.awake(this,e,t),this.game.addChild(r)),r&&r.checkpoint&&(this.checkpoints||(this.checkpoints=[]),this.checkpoints.push(r)),r&&a.a.comp(e,"Environment")){const e=-r.body.back-this.start,t=-r.body.front-this.start,i=2*s.a.blockSize,a=Math.round(e/i),o=Math.round(t/i);for(let e=a;e<o;e++)this.fillerSlots[e]=!0;for(let e=a;e<o;e++)this.floorSlots[e]=!0}}if(e.children){let i=e.children.length;for(;i--;)this.mount(e.children[i],t)}}setFillersByPosition(e,t){const i=-e-this.start,r=-t-this.start,a=2*s.a.blockSize,o=Math.round(i/a),n=Math.round(r/a);for(let e=o;e<n;e++)this.fillerSlots[e]=!0}setFloorsByPosition(e,t){const i=-e-this.start,r=-t-this.start,a=2*s.a.blockSize,o=Math.round(i/a),n=Math.round(r/a);for(let e=o;e<n;e++)this.floorSlots[e]=!0}addChunkDebugMarks(){let e=this.blocks;for(;e--;){const t=this.game.pool.get(o.a);t.body.drawView(),t.body.deco=!0,t.body.width=80,t.body.height=e?2:20,t.body.depth=.1,t.body.x=0,t.body.bottom=0,t.body.z=-this.start-e*s.a.blockSize,t.body.drawView(),this.game.addChild(t)}}getLastCheckpointByPosition(e){if(!this.checkpoints)return null;let t=null,i=this.checkpoints.length;for(;i--;){const s=this.checkpoints[i];s.body.z>e&&(t=s)}return t||this.checkpoints[0]}}},,,,,,,,,,function(e){e.exports=JSON.parse('[{"id":"hoverboard","subId":"you-have","available":true,"cost":300,"currency":"coins"},{"id":"mysteryBox","subId":"open-immediately","available":true,"cost":500,"currency":"coins"},{"id":"scoreBooster","subId":"you-have","available":true,"cost":3000,"currency":"coins"},{"id":"headstart","subId":"you-have","available":true,"cost":2000,"currency":"coins"}]')},function(e){e.exports=JSON.parse('[{"id":"jetpack","available":true,"currency":"coins","levels":[{"cost":500},{"cost":1500},{"cost":3000},{"cost":10000},{"cost":30000},{"cost":60000}]},{"id":"sneakers","available":true,"currency":"coins","levels":[{"cost":500},{"cost":1500},{"cost":3000},{"cost":10000},{"cost":30000},{"cost":60000}]},{"id":"magnet","available":true,"currency":"coins","levels":[{"cost":500},{"cost":1500},{"cost":3000},{"cost":10000},{"cost":30000},{"cost":60000}]},{"id":"multiplier","available":true,"currency":"coins","levels":[{"cost":500},{"cost":1500},{"cost":3000},{"cost":10000},{"cost":30000},{"cost":60000}]}]')},function(e){e.exports=JSON.parse('[{"id":"jake","colors":["#3b8abc","#10364f"],"texture":"jake-tex","features":["Default_Material","eye_shader"],"available":true,"purchased":true,"cost":0,"currency":"coins","outfits":[{"id":"jake-outfit-1","colors":["#39466a","#afa693"],"available":true,"purchased":false,"texture":"jake-tex-1","features":["Default_Material","eye_shader","jake_outfit1_shader"],"cost":2,"currency":"keys"},{"id":"jake-outfit-2","colors":["#D91B16","#F4CD2E"],"available":true,"purchased":false,"texture":"jake-tex-2","features":["Default_Material","eye_shader","jake_outfit2_shader"],"cost":30,"currency":"keys"}]},{"id":"tricky","colors":["#3b8abc","#10364f"],"texture":"tricky-tex","features":["tricky_shader","Fbx Default Material 6"],"available":true,"purchased":false,"cost":3,"currency":"coins","outfits":[{"id":"tricky-outfit-1","colors":["#DCC089","#91901C"],"available":true,"purchased":false,"texture":"tricky-tex-1","features":["tricky_outfit1_shader"],"cost":2,"currency":"keys"},{"id":"tricky-outfit-2","colors":["#9741B8","#F43862"],"available":true,"purchased":false,"texture":"tricky-tex-2","features":["tricky_outfit2_shader"],"cost":30,"currency":"keys"}]},{"id":"fresh","colors":["#3b8abc","#10364f"],"texture":"fresh-tex","features":["eye_shader","lambert2"],"available":false,"purchased":false,"cost":50,"currency":"coins","outfits":[{"id":"fresh-outfit-1","colors":["#87DB2A","#BB23A3"],"available":false,"purchased":false,"texture":"fresh-tex-1","features":["eye_shader","lambert2","fresh_outfit1_shader","fresh_outfit2_shader"],"cost":2,"currency":"keys"},{"id":"fresh-outfit-2","colors":["#711612","#EBD4BB"],"available":false,"purchased":false,"texture":"fresh-tex-2","features":["eye_shader","lambert2","fresh_outfit1_shader","fresh_outfit2_shader"],"cost":30,"currency":"keys"}]},{"id":"spike","colors":["#3b8abc","#10364f"],"texture":"spike-tex","features":["eye_shader","Default_Material","spike_outfit1_shader","spike_outfit2_shader"],"available":false,"purchased":false,"cost":200,"currency":"coins","outfits":[{"id":"spike-outfit-1","colors":["#30517A","#141010"],"available":true,"purchased":false,"texture":"spike-tex-1","features":["eye_shader","Default_Material","spike_outfit1_shader","spike_outfit2_shader"],"cost":2,"currency":"keys"},{"id":"spike-outfit-2","colors":["#141010","#B3231C"],"available":true,"purchased":false,"texture":"spike-tex-2","features":["eye_shader","Default_Material","spike_outfit2_shader"],"cost":30,"currency":"keys"}]},{"id":"yutani","colors":["#3b8abc","#10364f"],"texture":"yutani-tex","features":["eye_shader","lambert3"],"available":true,"purchased":false,"cost":500,"currency":"coins","outfits":[]},{"id":"lucy","colors":["#3b8abc","#10364f"],"texture":"lucy-tex","features":["eye_shader","lambert2"],"available":true,"purchased":false,"cost":7000,"currency":"coins","outfits":[{"id":"lucy-outfit-1","colors":["#000000","#F10C1A"],"available":true,"purchased":false,"texture":"lucy-tex-1","features":["eye_shader","lambert2","lucy_outfit1_shader"],"cost":2,"currency":"keys"},{"id":"lucy-outfit-2","colors":["#592F06","#84A521"],"available":true,"purchased":false,"texture":"lucy-tex-2","features":["eye_shader","lambert2","lucy_outfit2_shader"],"cost":30,"currency":"keys"}]},{"id":"tagbot","colors":["#3b8abc","#10364f"],"texture":"tagbot-tex","features":["Default_Material"],"available":true,"purchased":false,"cost":12000,"currency":"coins","outfits":[{"id":"tagbot-outfit-1","colors":["#C8B69B","#154D9A"],"available":true,"purchased":false,"texture":"tagbot-tex-1","features":["Default_Material","tagbot_outfit1_shader"],"cost":2,"currency":"keys"},{"id":"tagbot-outfit-2","colors":["#7BA63A","#B30E15"],"available":true,"purchased":false,"texture":"tagbot-tex-2","features":["Default_Material","tagbot_outfit2_shader"],"cost":30,"currency":"keys"}]},{"id":"ninja","colors":["#3b8abc","#10364f"],"texture":"ninja-tex","features":["eye_shader","lambert3"],"available":true,"purchased":false,"cost":20000,"currency":"coins","outfits":[{"id":"ninja-outfit-1","colors":["#BDAB99","#EAE4DD"],"available":true,"purchased":false,"texture":"ninja-tex-1","features":["eye_shader","lambert3"],"cost":2,"currency":"keys"},{"id":"ninja-outfit-2","colors":["#306BC8","#614736"],"available":true,"purchased":false,"texture":"ninja-tex-2","features":["eye_shader","lambert3"],"cost":30,"currency":"keys"}]},{"id":"tasha","colors":["#3b8abc","#10364f"],"texture":"tasha-tex","features":["eye_shader","lambert3"],"available":true,"purchased":false,"cost":30000,"currency":"coins","outfits":[{"id":"tasha-outfit-1","colors":["#45376D","#D951DC"],"available":false,"purchased":false,"texture":"tasha-tex-1","features":["eye_shader","lambert3","tasha_outfit1_shader"],"cost":2,"currency":"keys"},{"id":"tasha-outfit-2","colors":["#39384E","#E54F4E"],"available":false,"purchased":false,"texture":"tasha-tex-2","features":["eye_shader","lambert3","tasha_outfit2_shader"],"cost":30,"currency":"keys"}]},{"id":"king","colors":["#3b8abc","#10364f"],"texture":"king-tex","features":["eye_shader","lambert3"],"available":true,"purchased":false,"cost":80000,"currency":"coins","outfits":[{"id":"king-outfit-1","colors":["#000000","#BF1D1A"],"available":false,"purchased":false,"texture":"king-tex-1","features":["eye_shader","lambert3","king_outfit1_shader"],"cost":2,"currency":"keys"},{"id":"king-outfit-2","colors":["#779C24","#980E0C"],"available":false,"purchased":false,"texture":"king-tex-2","features":["eye_shader","lambert3","king_outfit2_shader"],"cost":30,"currency":"keys"}]},{"id":"frizzy","colors":["#3b8abc","#10364f"],"texture":"frizzy-tex","features":["eye_shader","lambert2","frizzy_outfit1_shader"],"available":false,"purchased":false,"cost":150000,"currency":"coins","outfits":[{"id":"frizzy-outfit-1","colors":["#F99B2B","#137E27"],"available":true,"purchased":false,"texture":"frizzy-tex-1","features":["eye_shader","lambert2","frizzy_outfit1_shader"],"cost":2,"currency":"keys"},{"id":"frizzy-outfit-2","colors":["#67382E","#F0B930"],"available":true,"purchased":false,"texture":"frizzy-tex-2","features":["eye_shader","lambert2","frizzy_outfit1_shader"],"cost":30,"currency":"keys"}]},{"id":"brody","colors":["#3b8abc","#10364f"],"texture":"brody-tex","features":["brody_head1","brody_default"],"available":true,"purchased":false,"cost":350000,"currency":"coins","outfits":[{"id":"brody-outfit-1","colors":["#171211","#72483F"],"available":true,"purchased":false,"texture":"brody-tex-1","features":["brody_outfit1_shader"],"cost":2,"currency":"keys"},{"id":"brody-outfit-2","colors":["#2C3D69","#80C525"],"available":true,"purchased":false,"texture":"brody-tex-2","features":["brody_outfit2_shader"],"cost":30,"currency":"keys"}]}]')},function(e){e.exports=JSON.parse('[{"id":"mission-pickup-coins","params":{"amount":500}},{"id":"mission-score-onerun","params":{"amount":1000}},{"id":"mission-pickup-powerups","params":{"amount":2}},{"id":"mission-pickup-coins-onerun","params":{"amount":200}},{"id":"mission-jump","params":{"amount":20}},{"id":"mission-pickup-sneakers","params":{"amount":2}},{"id":"mission-coins-mystery","params":{"amount":2000}},{"id":"mission-roll","params":{"amount":30}},{"id":"mission-spend-coins","params":{"amount":2000}},{"id":"mission-daily-challenges","params":{"amount":1}},{"id":"mission-dodge","params":{"amount":20}},{"id":"mission-score-onerun","params":{"amount":6000}},{"id":"mission-pickup-coins","params":{"amount":2500}},{"id":"mission-jump-onerun","params":{"amount":30}},{"id":"mission-buy-mystery","params":{"amount":1}},{"id":"mission-hoverboard","params":{"amount":1}},{"id":"mission-pickup-magnets","params":{"amount":5}},{"id":"mission-high-score","params":{"amount":1},"hideAmountLabel":true},{"id":"mission-pickup-jetpacks","params":{"amount":2}},{"id":"mission-pickup-coins-jetpack","params":{"amount":50}},{"id":"mission-headstart","params":{"amount":1}},{"id":"mission-bump-trains-onerun","params":{"amount":3}},{"id":"mission-pickup-coins-magnet","params":{"amount":40}},{"id":"mission-get-caught","params":{"amount":1},"hideAmountLabel":true},{"id":"mission-hoverboard-nocrash","params":{"amount":1}},{"id":"mission-pickup-mystery","params":{"amount":2}},{"id":"mission-roll-onerun","params":{"amount":30}},{"id":"mission-score-onerun","params":{"amount":20000}},{"id":"mission-pickup-powerups","params":{"amount":12}},{"id":"mission-jump-trains","params":{"amount":2}},{"id":"mission-score-nocoins","params":{"amount":4000}},{"id":"mission-roll-lane","params":{"amount":50}},{"id":"mission-pickup-coins","params":{"amount":5000}},{"id":"mission-daily-challenges","params":{"amount":2}},{"id":"mission-dodge","params":{"amount":40}},{"id":"mission-pickup-sneakers","params":{"amount":5}},{"id":"mission-scoreBooster","params":{"amount":4}},{"id":"mission-pickup-coins-magnet","params":{"amount":160}},{"id":"mission-pickup-magnets-onerun","params":{"amount":2}},{"id":"mission-pickup-pogos","params":{"amount":4}},{"id":"mission-roll-onerun","params":{"amount":40}},{"id":"mission-pickup-coins-onerun","params":{"amount":400}},{"id":"mission-score","params":{"amount":100000}},{"id":"mission-pickup-jetpacks","params":{"amount":5}},{"id":"mission-bump-lights","params":{"amount":12}},{"id":"mission-daily-challenges","params":{"amount":3}},{"id":"mission-pickup-sneakers-onerun","params":{"amount":3}},{"id":"mission-jump-trains","params":{"amount":4}},{"id":"mission-score-onerun","params":{"amount":50000}},{"id":"mission-spend-coins","params":{"amount":4000}},{"id":"mission-pickup-magnets","params":{"amount":15}},{"id":"mission-pickup-jetpacks-onerun","params":{"amount":2}},{"id":"mission-bump-trains-onerun","params":{"amount":6}},{"id":"mission-hoverboard-nocrash","params":{"amount":3}},{"id":"mission-pickup-keys","params":{"amount":3}},{"id":"mission-pickup-magnets-onerun","params":{"amount":3}},{"id":"mission-coins-mystery","params":{"amount":5000}},{"id":"mission-score","params":{"amount":250000}},{"id":"mission-jump-onerun","params":{"amount":40}},{"id":"mission-pickup-pogos-onerun","params":{"amount":4}},{"id":"mission-bump-barriers","params":{"amount":15}},{"id":"mission-buy-mystery","params":{"amount":3}},{"id":"mission-pickup-coins-magnet","params":{"amount":240}},{"id":"mission-dodge","params":{"amount":80}},{"id":"mission-spend-coins","params":{"amount":8000}},{"id":"mission-pickup-sneakers-onerun","params":{"amount":4}},{"id":"mission-pickup-coins-air","params":{"amount":50}},{"id":"mission-jump-trains","params":{"amount":10}},{"id":"mission-pickup-jetpacks","params":{"amount":15}},{"id":"mission-pickup-coins-pogo","params":{"amount":500}},{"id":"mission-roll-lane","params":{"amount":200}},{"id":"mission-daily-challenges","params":{"amount":4}},{"id":"mission-pickup-coins","params":{"amount":15000}},{"id":"mission-score-onerun","params":{"amount":120000}},{"id":"mission-bump-trains-onerun","params":{"amount":3}},{"id":"mission-roll-onerun","params":{"amount":50}},{"id":"mission-score","params":{"amount":500000}},{"id":"mission-score-nocoins","params":{"amount":12000}},{"id":"mission-coins-mystery","params":{"amount":10000}},{"id":"mission-buy-mystery","params":{"amount":6}},{"id":"mission-bump-lights","params":{"amount":20}},{"id":"mission-jump-onerun","params":{"amount":50}},{"id":"mission-hoverboard","params":{"amount":12}},{"id":"mission-hoverboard-nocrash","params":{"amount":4}},{"id":"mission-pickup-coins-onerun","params":{"amount":750}},{"id":"mission-bump-barriers","params":{"amount":25}},{"id":"mission-score-onerun","params":{"amount":250000}}]')},,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return PausePanel_PausePanel}));i(4);var s=i(0),r=i(2),a=i(96),o=i(28),n=i(49),l=i(40),h=i(69),c=i(29),d=i(222),u=i(175),p=i(176);class PauseHuntSection_PauseHuntSection extends s.Container{constructor(){super();const e=this.addChild(new d.a("word-hunt",{fill:469322,fontSize:40,fontFamily:"Titan One"})),t=this.addChild(new d.a("collect-letters",{fill:7320832,fontSize:35,fontFamily:"Lilita One"}));t.y=e.height;const i=this.addChild(new p.a),r=this.addChild(new u.a),o=r.addChild(Object(a.a)({sections:6,orientation:"vertical",color:16777215,lineHeight:4}));o.x=110;const n=r.width/2+110-o.width/2,l=r.lettersContainer;l.width>n-40&&l.scale.set((n-40)/l.width);const h=n-r.lettersContainer.width;r.lettersContainer.x=-this.width/2+r.lettersContainer.width/2+h/2,r.y=e.height+t.height+r.height/2+20,e.x=-r.width/2,t.x=-r.width/2,i.x=r.width/2-i.width/2,i.y=e.height;const c=r.addChild(new s.Container),m=c.addChild(s.Sprite.from("mystery-box-icon.png"));c.x=200,m.scale.set(.6),m.anchor.set(.5),m.y=-14;c.addChild(new d.a("mystery",{align:"center",fontFamily:"Lilita One",fontSize:24,fill:16777215,dropShadow:!0,dropShadowDistance:2,dropShadowColor:0,anchorX:.5,anchorY:.5})).y=42}}var m=i(177),b=i(27),f=i(70),g=i(13);function v(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class PauseMissionModule_PauseMissionModule extends s.Container{constructor(){super(),v(this,"mission",void 0),v(this,"descriptionLabel",void 0),v(this,"amountLabel",void 0),v(this,"progressLabel",void 0),v(this,"progressFill",void 0),v(this,"completedBg",void 0),v(this,"onMissionComplete",new b.Signal),this.addChild(g.a.rectColor({w:580,h:96,color:5668521,round:18})),this.addChild(g.a.rectBorder({w:100,h:55,color:7967662,round:6,x:220,borderWidth:3,borderAlpha:.2}));const e=this.addChild(new s.Container);this.progressFill=e.addChild((new s.Graphics).beginFill(6799299).drawRect(0,0,100,54)),this.progressFill.mask=e.addChild((new s.Graphics).beginFill(6799299).drawRoundedRect(0,0,100,54,6)),e.position.set(170,-27),this.progressLabel=e.addChild(new s.Text("0",{align:"left",fill:16777215,fontSize:35,fontFamily:"Lilita One"})),this.progressLabel.anchor.set(.5),this.progressLabel.position.set(50,27),this.completedBg=e.addChild(new f.a({radius:6,w:100,h:54,color:7386369,glow:16777215,glowAlpha:.2,mask:g.a.rectColor({w:100,h:54,color:1198e4,round:6})})),this.completedBg.x=50,this.completedBg.y=27,this.completedBg.visible=!1;this.completedBg.addChild(s.Sprite.from("mission-completed-checkmark.png")).anchor.set(.5),this.descriptionLabel=this.addChild(new d.a("jackpot-coins",{align:"left",fill:16777215,fontSize:35,fontFamily:"Lilita One",dropShadow:!0,dropShadowDistance:2,lineHeight:32,wordWrap:!0,wordWrapWidth:430})),this.descriptionLabel.x=-275,this.amountLabel=this.descriptionLabel.addChild(new s.Text("",{align:"left",fill:16763904,fontSize:35,fontFamily:"Lilita One"}))}populate(e){const{id:t,params:i,hideAmountLabel:s}=e;if(this.descriptionLabel.id=t,this.descriptionLabel.options.params=i,this.descriptionLabel.refresh(),this.descriptionLabel.y=-this.descriptionLabel.height/2,this.amountLabel.visible=!s,i){const e=this.descriptionLabel.display.text;let t="";for(let i=0;i<e.length;i++)if(!isNaN(parseInt(e[i],10))){t=e.substr(0,i);break}this.amountLabel.text=t,this.amountLabel.x=this.amountLabel.width-1,this.amountLabel.text=""+i.amount}this.mission=e,this.completedBg.visible=e.completed;const r=e.progress||0;this.progressFill.scale.x=r/this.mission.params.amount,this.progressLabel.text=""+r,this.progressLabel.width>90&&this.progressLabel.scale.set(90/this.progressLabel.width)}progressMission(){const e=this.mission;this.completedBg.visible=e.completed;const t=e.progress||0;this.progressFill.scale.x=t/this.mission.params.amount,this.progressLabel.text=""+t,this.progressLabel.width>90&&this.progressLabel.scale.set(90/this.progressLabel.width),this.mission.completed&&this.onMissionComplete.dispatch()}updateTransform(){super.updateTransform(),this.mission&&!this.completedBg.visible&&this.progressMission()}}function y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class PauseMissionSection_PauseMissionSection extends s.Container{constructor(){super(),y(this,"missionModules",[]),y(this,"completedMissions",0),y(this,"progressCounter",void 0),y(this,"h2Label",void 0);const e=this.addChild(new d.a("missions",{fill:469322,fontSize:40,fontFamily:"Titan One"}));this.h2Label=this.addChild(new d.a("mission-set",{fill:3833791,fontSize:35,fontFamily:"Lilita One",params:{num:1}})),e.x=-290,this.h2Label.x=-290,this.h2Label.y=e.height,this.progressCounter=this.addChild(new m.a),this.progressCounter.x=270-this.progressCounter.width/2,this.progressCounter.y=e.height,this.missionModules=[];for(let e=0;e<3;e++){const t=this.addChild(new PauseMissionModule_PauseMissionModule);t.y=150+(t.height+15)*e,t.onMissionComplete.add(()=>{this.completedMissions++,3===this.completedMissions&&this.initMissions()}),this.missionModules.push(t)}}initMissions(){const e=r.a.data.getCurrentMissions(),t=r.a.data.getMissionSet();this.completedMissions=0;for(let t=0;t<e.length;t++){const i=e[t];this.progressCounter.setProgress(this.completedMissions+3,i.completed),this.missionModules[t].populate(i),this.completedMissions+=Number(i.completed)}const i=t+1+Number(3===this.completedMissions);this.h2Label.options.params={num:i},this.h2Label.refresh()}}function w(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class PausePanel_PausePanel extends c.a{constructor(e){super(),w(this,"panel",void 0),w(this,"bg",void 0),w(this,"btnResume",void 0),w(this,"missionSection",void 0),w(this,"resumeCallback",void 0),this.resumeCallback=e}onBuild(){this.bg=new l.b,this.addChild(this.bg),this.panel=this.addChild(new h.a({icon:"icon-white-house.png"}));this.addChild(new PauseHuntSection_PauseHuntSection).y=25-this.panel.base.height/2;const e=new n.a({bg:"navigation-button-blu.png",icon:"icon-settings.png",label:"settings",onTap:()=>r.a.settings.open()}),t=s.Sprite.from("large-navigation-button-light-green.png");t.anchor.set(.5),t.scale.set(.83),this.btnResume=new o.a({label:"resume",name:"resume",base:t,labelSize:55,labelFont:"Lilita One",onTap:()=>this.resumeCallback()}),this.panel.addButton(e,this.btnResume);this.addChild(Object(a.a)({sections:22,length:this.panel.base.width-60,space:8,color:469322})).y=-125,this.missionSection=this.addChild(new PauseMissionSection_PauseMissionSection),this.missionSection.y=-110}onOpen(){this.missionSection.initMissions()}onResize(){const e=this.viewportWidth,t=this.viewportHeight;this.x=e/2,this.y=t/2,this.bg.resize(e,t),this.panel.resize(e,t)}}},,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t),i(2).a.run()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t),t.default={default_train_tops_2:i(442),"route_section_default_s-s":i(443),"default_b-s-b":i(444),"default_s-b-s-b":i(445),"default_s-s-s-s":i(446),default_tunnel_notrain:i(447),default_choice:i(448),default_train_tops_1:i(449)}},function(e){e.exports=JSON.parse('{"name":"route_section_default_train_tops_2","start":[],"mid":["routeChunk_default_train_tops_2"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_s-s","start":[],"mid":["routeChunk_default_s-s"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_b-s-b","start":[],"mid":["routeChunk_default_b-s-b"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_s-b-s-b","start":[],"mid":["routeChunk_default_s-b-s-b"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_s-s-s-s","start":[],"mid":["routeChunk_default_s-s-s-s"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_tunnel_notrain","start":[],"mid":["routeChunk_default_tunnel_notrain"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_choice","start":[],"mid":["routeChunk_default_choice"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_train_tops_1","start":[],"mid":["routeChunk_default_train_tops_1"],"end":[]}')},function(e,t,i){"use strict";i.r(t),t.default={default_short_train_tops_moving_multiple:i(451),default_short_2_tracks:i(452),default_short_train_tops_moving:i(453),default_ramp_2:i(454),default_short_train_tops_moving_combined:i(455),default_short_1_track:i(456)}},function(e){e.exports=JSON.parse('{"name":"route_section_default_short_train_tops_moving_multiple","start":[],"mid":["routeChunk_short_train_tops_moving_multiple"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_short_2_tracks","start":["routeChunk_short_2_tracks_start"],"mid":["routeChunk_short_2_tracks_mid_var_1","routeChunk_short_2_tracks_mid_var_2"],"end":["routeChunk_short_2_tracks_end"]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_short_train_tops_moving","start":[],"mid":["routeChunk_short_train_tops_moving"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_ramp_2","start":[],"mid":["routeChunk_ramp_2"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_short_train_tops_moving_combined","start":[],"mid":["routeChunk_short_train_tops_moving_combined"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_short_1_track","start":[],"mid":["routeChunk_short_1_track"],"end":[]}')},function(e,t,i){"use strict";i.r(t),t.default={default_train_tops_moving:i(458),default_epic:i(459),default_train_tops_moving_multiple:i(460),default_2_tracks:i(461),default_ramp_1:i(462),default_tunnel:i(463),default_train_tops_moving_combined:i(464),default_1_track:i(465)}},function(e){e.exports=JSON.parse('{"name":"route_section_default_train_tops_moving","start":[],"mid":["routeChunk_default_train_tops_moving"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_epic","start":[],"mid":["routeChunk_default_epic"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_train_tops_moving_multiple","start":[],"mid":["routeChunk_default_train_tops_moving_multiple"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_2_tracks","start":["routeChunk_default_2_tracks_start"],"mid":["routeChunk_default_2_tracks_mid_var_1","routeChunk_default_2_tracks_mid_var_2"],"end":["routeChunk_default_2_tracks_end"]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_ramp_1","start":[],"mid":["routeChunk_default_ramp_1"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_tunnel","start":[],"mid":["routeChunk_default_tunnel"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_train_tops_moving_combined","start":[],"mid":["routeChunk_default_train_tops_moving_combined"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_1_track","start":[],"mid":["routeChunk_short_1_track"],"end":[],"ignored_start":["routeChunk_default_1_track_start"],"ignored_mid":["routeChunk_default_1_track_mid_var_1","routeChunk_default_1_track_mid_var_2"],"ignored_end":["routeChunk_default_1_track_end"]}')},function(e,t,i){"use strict";i.r(t),t.default={default_4_units_3_tracks_choice:i(467),"default_4_units_3_tracks_s-b-s-b":i(468),"default_4_units_3_tracks_b-s-b":i(469),default_epic_various:i(470),"default_4_units_3_tracks_s-s":i(471),"default_4_units_3_tracks_s-s-s-s":i(472)}},function(e){e.exports=JSON.parse('{"name":"route_section_default_4_units_3_tracks_choice","start":[],"mid":["routeChunk_4_units_3_tracks_choice"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_4_units_3_tracks_s-b-s-b","start":[],"mid":["routeChunk_4_units_3_tracks_s-b-s-b"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_4_units_3_tracks_b-s-b","start":[],"mid":["routeChunk_4_units_3_tracks_b-s-b"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_epic_various","start":[],"mid":["routeChunk_epic_various"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_4_units_3_tracks_s-s","start":[],"mid":["routeChunk_4_units_3_tracks_s-s"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"route_section_default_4_units_3_tracks_s-s-s-s","start":[],"mid":["routeChunk_4_units_3_tracks_s-s-s-s"],"end":[]}')},function(e,t,i){"use strict";i.r(t),t.default={default_start:i(474),default_pogostick_start:i(252),default_fallback:i(475),default_start_short:i(476),default_jetpack_landing:i(477),default_no_gameplay:i(478)}},function(e){e.exports=JSON.parse('{"name":"routeSection_default_start","start":[],"mid":["routeChunk_default_pogostick_start"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"routeSection_default_fallback","start":[],"mid":["routeChunk_default_fallback"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"routeSection_default_start_short","start":[],"mid":["routeChunk_default_fallback"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"routeSection_default_jetpack_landing","start":[],"mid":["routeChunk_default_jetpack_landing"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"routeSection_default_no_gameplay","start":[],"mid":["routeChunk_default_no_gameplay_1","routeChunk_default_no_gameplay_2","routeChunk_default_no_gameplay_epic"],"end":[]}')},function(e,t,i){"use strict";i.r(t),t.default={tutorial:i(480),default_bonus_short:i(481),default_bonus_long:i(482),default_pogostick_start:i(252)}},function(e){e.exports=JSON.parse('{"name":"routeSection_tutorial","start":[],"mid":["routeChunk_tutorial"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"routeSection_default_bonus_short","start":[],"mid":["routeChunk_bonus_short"],"end":[]}')},function(e){e.exports=JSON.parse('{"name":"routeSection_default_bonus_long","start":[],"mid":["routeChunk_bonus_long"],"end":[]}')},function(e,t,i){"use strict";i.r(t),t.default={default_start:i(484),basic_game:i(485)}},function(e){e.exports=JSON.parse('[{"name":"default_start1","start":["default_pogostick_start","default_b-s-b","default_s-b-s-b","default_pogostick_start","default_train_tops_2","default_pogostick_start"],"mid":[],"end":[]},{"name":"default_start2","start":["default_start2","default_s-s","default_b-s-b","default_train_tops_2","default_pogostick_start"],"mid":[],"end":[]},{"name":"default_start3","start":["default_start2","default_s-b-s-b","default_s-s-s-s","default_choice","default_pogostick_start"],"mid":[],"end":[]},{"name":"default_start4","start":["default_start2","default_s-b-s-b","default_train_tops_2","default_b-s-b","default_pogostick_start"],"mid":[],"end":[]}]')},function(e){e.exports=JSON.parse('{"name":"basic_game","start":[],"mid":["routeChunk_basic_b-s-b"],"end":[]}')},function(e,t,i){"use strict";i.r(t),t.default="attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aUv;\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uModelMatrix;\n\nvarying vec3 vNormal;\n#ifndef VPOSITION\n#define VPOSITION\nvarying vec3 vPosition;\n#endif\nvarying vec4 vScreenPosition;\n\n#ifdef MAP\nvarying vec2 vUv;\nuniform vec4 uMapFrame;\n#endif\n\n#HOOK_VERTEX_START\n\nvoid main() {\n\t\n#ifdef MAP\n\tvUv = (aUv * uMapFrame.zw ) + uMapFrame.xy;\n#endif\n    \n    #HOOK_VERTEX_MAIN\n\t\n    vec4 worldPosition =  uModelMatrix * vec4(aPosition, 1.0);\n\tvec4 worldViewPosition =  uProjectionMatrix * uViewMatrix * worldPosition;\n\tgl_Position = worldViewPosition;\n\t\n    #HOOK_VERTEX_END\n}\n"},function(e,t,i){"use strict";i.r(t),t.default="precision lowp float;\n\n#ifdef COLOR\nuniform vec3 uColor;\n#endif\n\n#if defined( MAP )\nvarying vec2 vUv;\n#endif\n\n#ifdef MAP\nuniform sampler2D uMap;\n#endif\n\nvoid main() {\n    gl_FragColor = texture2D(uMap, vUv);\n    gl_FragColor.rgb *= uColor.rgb;\n}\n"},function(e,t,i){"use strict";i.r(t),t.default="#define MODE_BILLBOARD 0\n#define MODE_STRETCH 1\n#define MODE_MESH 4\n\n#define ALIGN_VIEW 0\n#define ALIGN_WORLD 1\n#define ALIGN_LOCAL 2\n#define ALIGN_VELOCITY 4\n\nattribute vec3 aPosition;\nattribute vec2 aUv;\nattribute vec3 aOffset;\nattribute vec3 aVelocity;\nattribute vec4 aColor;\nattribute vec4 aData; // size, rotation x y z\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uModelMatrix;\nuniform float uOpacity;\n\n#ifdef MAP\nvarying vec2 vUv;\n#endif\n\nvarying vec4 vColor;\n\n#ifdef BEND\nuniform vec2 uBend;\nvec4 bend(vec4 pos) {\n    float dx = uBend.x;\n    float dy = uBend.y;\n    float z_sqr = pos.w * pos.w;\n    pos.x = pos.x + z_sqr * dx;\n    pos.y = pos.y + z_sqr * dy;\n    return pos;\n}\n#endif\n\n#HOOK_VERTEX_START\n\nvoid main() {\n\t\n    #HOOK_VERTEX_MAIN\n\n    float size = aData.x;\n\n    vec3 localPos = aPosition * size;\n    //#ifdef ROTATION_SEPARATE_AXES\n        float a = cos(aData.y);\n        float b = sin(aData.y);\n        float c = cos(aData.z);\n        float d = sin(aData.z);\n        float e = cos(aData.w);\n        float f = sin(aData.w);\n\n        float ce = c * e, cf = c * f, de = d * e, df = d * f;\n        mat3 rot = mat3(\n            ce - df * b, cf + de * b, -a * d,\n            - a * f, a * e, b,\n            de + cf * b, df - ce * b, a * c\n        );\n        localPos = rot * localPos;\n    /*#else\n        float ca = cos(aData.y);\n        float sa = sin(aData.y);\n        mat2 rot = mat2(ca, sa, -sa, ca);\n        localPos.xy = rot * localPos.xy;\n    #endif*/\n\n    #if ALIGNMENT == ALIGN_VIEW\n        vec4 worldPosition = uModelMatrix * vec4(aOffset, 1.0);\n        vec4 worldViewPosition = uViewMatrix * worldPosition;\n        worldViewPosition.xyz += localPos;\n    #elif ALIGNMENT == ALIGN_WORLD\n        vec4 instancePos = vec4(aOffset, 1.0);\n        vec4 worldPosition = uModelMatrix * instancePos;\n        worldPosition.xyz += localPos;\n        vec4 worldViewPosition = uViewMatrix * worldPosition;\n    #elif ALIGNMENT == ALIGN_LOCAL\n        vec4 instancePos = vec4(localPos + aOffset, 1.0);\n        vec4 worldPosition =  uModelMatrix * instancePos;\n        vec4 worldViewPosition = uViewMatrix * worldPosition;\n    #elif ALIGNMENT == ALIGN_VELOCITY\n        mat3 lookAt;\n        lookAt[2] = normalize(aVelocity);\n        lookAt[0] = normalize(cross(vec3(0.0, 1.0, 0.0), lookAt[2]));\n        lookAt[1] = cross(lookAt[2], lookAt[0]);\n\n        vec4 instancePos = vec4(lookAt * localPos + aOffset, 1.0);\n        vec4 worldPosition =  uModelMatrix * instancePos;\n        vec4 worldViewPosition = uViewMatrix * worldPosition;\n    #else\n        Break the build\n    #endif\n\n\tgl_Position = uProjectionMatrix * worldViewPosition;\n\n    #ifdef BEND\n    gl_Position = bend(gl_Position);\n    #endif\n\n    #ifdef MAP\n    vUv = aUv;\n//    vUv.y = 1.0 - vUv.y;\n    #endif\n\n    vColor = aColor;\n    vColor.a *= uOpacity;\n\t\n    #HOOK_VERTEX_END\n}\n"},function(e,t,i){"use strict";i.r(t),t.default="precision lowp float;\n\nvarying vec4 vColor;\n\n#ifdef MAP\nvarying vec2 vUv;\nuniform sampler2D uMap;\n#endif\n\nvec3 gammaCorrectInput(vec3 color) {\n    return pow(color.rgb, vec3(2.2));\n}\n\nvec3 gammaCorrectOutput(vec3 color) {\n    color += vec3(0.0000001);\n    return pow(color, vec3(1.0 / 2.2));\n}\n\nvec4 texture2DSRGB(sampler2D tex, vec2 uv) {\n    vec4 rgba = texture2D(tex, uv);\n    rgba.rgb = gammaCorrectInput(rgba.rgb);\n    return rgba;\n}\n\nvoid main() {\n    vec4 finalColor = vColor;\n\n    #ifdef MAP\n        vec4 mapCol = texture2D(uMap, vUv);\n        mapCol.rgb /= mapCol.a;\n        mapCol.rgb = gammaCorrectInput(mapCol.rgb);\n\n        #ifdef DISCARD\n        if (mapCol.a < float(DISCARD))\n            discard;\n        #endif\n\n        finalColor *= mapCol;\n    #endif\n\n//    finalColor.rgb = gammaCorrectOutput(finalColor.rgb);\n\n    gl_FragColor = finalColor;\n}\n"},,,,,,,,,function(e,t,i){"use strict";i.r(t),t.default="attribute vec3 aPosition;\nattribute vec3 aColor;\nattribute vec3 aNormal;\nattribute vec2 aUv;\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uModelMatrix;\n\nuniform float uTime;\n\nvarying vec3 vColor;\n\n#ifdef BEND\nuniform vec2 uBend;\n\nvec4 bend(vec4 pos) {\n    float dx = uBend.x;\n    float dy = uBend.y;\n    float z_sqr = pos.w * pos.w;\n\tpos.x = pos.x + z_sqr * dx;\n\tpos.y = pos.y + z_sqr * dy;\n\treturn pos;\n}\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef FOG \nuniform float uFogDistance;\nuniform float uFogDensity;\nvarying float vFogFactor;\nuniform vec3 uFogColor;\nvarying vec3 vFogColor;\n#endif\n\n#HOOK_VERTEX_START\n\nvoid main() {\n    #HOOK_VERTEX_MAIN\n\n    vec4 worldPosition =  uModelMatrix * vec4(aPosition, 1.0);\n    vec4 worldViewPosition =  uProjectionMatrix * uViewMatrix * worldPosition;\n\n    vColor = aColor;\n\n#ifdef BEND\n    gl_Position = bend(worldViewPosition);\n#else\n    gl_Position = worldViewPosition;\n#endif    \n\n#ifdef FOG\n    float depth = worldViewPosition.z - uFogDistance;\n    vFogFactor = clamp(depth / uFogDistance, 0.0, 1.0);\n    vFogColor = uFogColor;\n#endif\n\n    #HOOK_VERTEX_END\n}\n"},function(e,t,i){"use strict";i.r(t),t.default="precision lowp float;\n\nuniform vec4 uGradientA;\nuniform vec4 uGradientB;\n\nvarying vec3 vColor;\n\n// ----------------------------------------------------------------------------\n\n#ifdef FOG\nvarying float vFogFactor;\nvarying vec3 vFogColor;\n#endif\n\n// ----------------------------------------------------------------------------\n\nvoid main() {\n\n    gl_FragColor = mix(uGradientB, uGradientA, vColor.r);\n\n#ifdef FOG\n    gl_FragColor.rgb = mix(gl_FragColor.rgb, vFogColor, vFogFactor);\n#endif\n\n}\n"},function(e,t,i){"use strict";i.r(t),t.default="attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aUv;\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uModelMatrix;\n\nvarying vec3 vNormal;\n#ifndef VPOSITION\n#define VPOSITION\nvarying vec3 vPosition;\n#endif\nvarying vec4 vScreenPosition;\n\nuniform float uTime;\nvarying float vTime;\n\n// ----------------------------------------------------------------------------\n\n#if defined( MAP )\nvarying vec2 vUv;\nuniform vec4 uMapFrame;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef BEND\nuniform vec2 uBend;\nvec4 bend(vec4 pos) {\n    float dx = uBend.x;\n    float dy = uBend.y;\n    float z_sqr = pos.w * pos.w;\n\tpos.x = pos.x + z_sqr * dx;\n\tpos.y = pos.y + z_sqr * dy;\n\treturn pos;\n}\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef FOG \nuniform float uFogDistance;\nuniform float uFogDensity;\nvarying float vFogFactor;\nuniform vec3 uFogColor;\nvarying vec3 vFogColor;\n#endif\n\n// ----------------------------------------------------------------------------\n\nvec4 wave(vec4 pos, float t) {\n    pos.y += sin(pos.z*0.05) * cos(pos.x*0.05) * 5.0 + 5.0;\n\treturn pos;\n}\n\n#HOOK_VERTEX_START\n\nvoid main() {\n\t\n#if defined( MAP )\n    vUv = (aUv * uMapFrame.zw ) + uMapFrame.xy;\n#endif\n    \n    #HOOK_VERTEX_MAIN\n\n    vec4 worldPosition =  uModelMatrix * vec4(aPosition, 1.0);\n\tvec4 worldViewPosition =  uProjectionMatrix * uViewMatrix * worldPosition;\n\n    vPosition =  worldPosition.xyz;\n    vScreenPosition = worldViewPosition;\n\n    worldViewPosition = wave(worldViewPosition, uTime);\n\n#ifdef BEND\n    gl_Position = bend(worldViewPosition);\n#else\n    gl_Position = worldViewPosition;\n#endif    \n\n#ifdef FOG\n    float depth = worldViewPosition.z - uFogDistance;\n    vFogFactor = clamp(depth / uFogDistance, 0.0, 1.0);\n    vFogColor = uFogColor;\n#endif\n\n    #HOOK_VERTEX_END\n}\n"},function(e,t,i){"use strict";i.r(t),t.default="precision lowp float;\n\nvarying vec3 vNormal;\n#ifndef VPOSITION\n#define VPOSITION\nvarying vec3 vPosition;\n#endif\nvarying vec4 vScreenPosition;\nuniform float uOpacity;\n\n#ifdef COLOR\nuniform vec3 uColor;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#if defined( MAP )\nvarying vec2 vUv;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef MAP\nuniform sampler2D uMap;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef FOG\nvarying float vFogFactor;\nvarying vec3 vFogColor;\n#endif\n\n// ----------------------------------------------------------------------------\n\nvarying float vTime;\n\nvoid main() {\n\n#ifdef MAP\n    gl_FragColor = texture2D(uMap, vUv) * uOpacity;\n#else\n    gl_FragColor.rgb = uColor.rgb * uOpacity;\n#endif\n\n#ifdef FOG\n    // FORCING FOG COLOR TO PREVENT A BUG WHERE SOME RED FOG OBJECT WHERE SHOWING UP \n    gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.388, 0.698, 1.0), vFogFactor);\n#endif\n\n}\n"},,,,,function(e,t,i){"use strict";i.r(t),t.default="attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aUv;\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uModelMatrix;\n\nvarying vec3 vNormal;\n#ifndef VPOSITION\n#define VPOSITION\nvarying vec3 vPosition;\n#endif\nvarying vec4 vScreenPosition;\n\n// ----------------------------------------------------------------------------\n\n#if defined( MAP )\nuniform vec4 uMapFrame;\nuniform float uOffset;\nvarying vec2 vUv;\nvarying float vOffset;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef BEND\nuniform vec2 uBend;\nvec4 bend(vec4 pos) {\n    float dx = uBend.x;\n    float dy = uBend.y;\n    float z_sqr = pos.w * pos.w;\n\tpos.x = pos.x + z_sqr * dx;\n\tpos.y = pos.y + z_sqr * dy;\n\treturn pos;\n}\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef FOG \nuniform float uFogDistance;\nuniform float uFogDensity;\nvarying float vFogFactor;\nuniform vec3 uFogColor;\nvarying vec3 vFogColor;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#HOOK_VERTEX_START\n\nvoid main() {\n\t\n#if defined( MAP )\n    // vUv = aUv;\n    vOffset = uOffset;\n    vUv = (aUv * uMapFrame.zw ) + uMapFrame.xy;\n#endif\n    \n    #HOOK_VERTEX_MAIN\n\n    vec4 worldPosition =  uModelMatrix * vec4(aPosition, 1.0);\n\tvec4 worldViewPosition =  uProjectionMatrix * uViewMatrix * worldPosition;\n\n    vPosition =  worldPosition.xyz;\n    vScreenPosition = worldViewPosition;\n\n#ifdef BEND\n    gl_Position = bend(worldViewPosition);\n#else\n    gl_Position = worldViewPosition;\n#endif    \n\n#ifdef FOG\n    float depth = worldViewPosition.z - uFogDistance;\n    vFogFactor = clamp(depth / uFogDistance, 0.0, 1.0);\n    vFogColor = uFogColor;\n#endif\n\n    #HOOK_VERTEX_END\n}\n"},function(e,t,i){"use strict";i.r(t),t.default="precision lowp float;\n\nvarying vec3 vNormal;\n#ifndef VPOSITION\n#define VPOSITION\nvarying vec3 vPosition;\n#endif\nvarying vec4 vScreenPosition;\nuniform float uOpacity;\n\n#ifdef COLOR\nuniform vec3 uColor;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#if defined( MAP )\nvarying vec2 vUv;\nvarying float vOffset;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef MAP\nuniform sampler2D uMap;\n#endif\n\n// ----------------------------------------------------------------------------\n\n#ifdef FOG\nvarying float vFogFactor;\nvarying vec3 vFogColor;\n#endif\n\n// ----------------------------------------------------------------------------\n\nvec3 gammaCorrectInput(vec3 color) {\n    return pow(color, vec3(2.2));\n}\n\nfloat gammaCorrectInput(float color) {\n    return pow(color, 2.2);\n}\n\nvec4 gammaCorrectInput(vec4 color) {\n    return vec4(pow(color.rgb, vec3(2.2)), color.a);\n}\n\nvec3 gammaCorrectOutput(vec3 color) {\n    color += vec3(0.0000001);\n    return pow(color, vec3(0.55));\n}\n\nvec4 texture2DSRGB(sampler2D tex, vec2 uv) {\n    vec4 rgba = texture2D(tex, uv);\n    rgba.rgb = gammaCorrectInput(rgba.rgb);\n    return rgba;\n}\n\nvoid main() {\n\n#ifdef MAP\n    vec2 uvs = vOffset != 0.0 ? vec2(vUv.x + vOffset, vUv.y) : vUv;\n    gl_FragColor = texture2DSRGB(uMap, uvs) * uOpacity;\n#else\n    gl_FragColor.rgb = uColor.rgb * uOpacity;\n#endif\n\n    gl_FragColor.rgb = gammaCorrectOutput(gl_FragColor.rgb);\n\n#ifdef FOG\n    // FORCING FOG COLOR TO PREVENT A BUG WHERE SOME RED FOG OBJECT WHERE SHOWING UP \n    gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.388, 0.698, 1.0), vFogFactor);\n#endif\n\n#ifdef RAILS\n    if (vPosition.y < 1.2) return;\n\n    float reflWidth = 1.5;\n    float railDist = 7.0;\n    float laneWidth = 20.0;\n    vec3 reflColor = vec3(1.0, 1.0, 1.0);\n    float reflFactor = abs(vScreenPosition.z - 100.0) * 0.015;\n    if (reflFactor < 0.0) reflFactor = 0.0;\n    if (reflFactor > 1.0) return;\n\n\n    // Middle lane\n    if (vPosition.x > -4.0 && vPosition.x < -2.5) {\n        gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n    } else if (vPosition.x > 2.5 && vPosition.x < 4.0) {\n        gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n    }\n\n    // Left lane\n    if (vPosition.x > -4.0 - laneWidth && vPosition.x < -2.5 - laneWidth) {\n        gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n    } else if (vPosition.x > 2.5 - laneWidth && vPosition.x < 4.0 - laneWidth) {\n        gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n    }\n\n    // Right lane\n    if (vPosition.x > -4.0 + laneWidth && vPosition.x < -2.5 + laneWidth) {\n        gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n    } else if (vPosition.x > 2.5 + laneWidth && vPosition.x < 4.0 + laneWidth) {\n        gl_FragColor.rgb = mix(reflColor, gl_FragColor.rgb, reflFactor);\n    }\n#endif\n\n}\n"},,,,,,,,,function(e){e.exports=JSON.parse('{"default":{"image":{},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{".htaccess":{"shortcut":".htaccess","default":".htaccess"},"index-no-leaderboard.html":{"shortcut":"index-no-leaderboard.html","default":"index-no-leaderboard.html"},"index-no-obfuscation.html":{"shortcut":"index-no-obfuscation.html","default":"index-no-obfuscation.html"},"index-scores-ingame.html":{"shortcut":"index-scores-ingame.html","default":"index-scores-ingame.html"},"index.html":{"shortcut":"index.html","default":"index.html"},"js/boot.js":{"shortcut":"boot.js","default":"js/boot.js"},"js/loading.js":{"shortcut":"loading.js","default":"js/loading.js"},"subwaysurfers.webmanifest":{"shortcut":"subwaysurfers.webmanifest","default":"subwaysurfers.webmanifest"},"theme-picker.html":{"shortcut":"theme-picker.html","default":"theme-picker.html"}}},"assets/audio-basic":{"image":{},"fonts":{},"audio":{"assets/audio-basic/guard-catch.wav":{"shortcut":"guard-catch.wav","mp3":"assets/audio-basic/guard-catch.mp3","ogg":"assets/audio-basic/guard-catch.ogg"},"assets/audio-basic/guard-proximity.wav":{"shortcut":"guard-proximity.wav","mp3":"assets/audio-basic/guard-proximity.mp3","ogg":"assets/audio-basic/guard-proximity.ogg"},"assets/audio-basic/guard-start.wav":{"shortcut":"guard-start.wav","mp3":"assets/audio-basic/guard-start.mp3","ogg":"assets/audio-basic/guard-start.ogg"},"assets/audio-basic/hero-death-hitcam.wav":{"shortcut":"hero-death-hitcam.wav","mp3":"assets/audio-basic/hero-death-hitcam.mp3","ogg":"assets/audio-basic/hero-death-hitcam.ogg"},"assets/audio-basic/hero-death.wav":{"shortcut":"hero-death.wav","mp3":"assets/audio-basic/hero-death.mp3","ogg":"assets/audio-basic/hero-death.ogg"},"assets/audio-basic/hero-dodge.wav":{"shortcut":"hero-dodge.wav","mp3":"assets/audio-basic/hero-dodge.mp3","ogg":"assets/audio-basic/hero-dodge.ogg"},"assets/audio-basic/hero-foot-l.wav":{"shortcut":"hero-foot-l.wav","mp3":"assets/audio-basic/hero-foot-l.mp3","ogg":"assets/audio-basic/hero-foot-l.ogg"},"assets/audio-basic/hero-foot-r.wav":{"shortcut":"hero-foot-r.wav","mp3":"assets/audio-basic/hero-foot-r.mp3","ogg":"assets/audio-basic/hero-foot-r.ogg"},"assets/audio-basic/hero-hoverboard-crash.wav":{"shortcut":"hero-hoverboard-crash.wav","mp3":"assets/audio-basic/hero-hoverboard-crash.mp3","ogg":"assets/audio-basic/hero-hoverboard-crash.ogg"},"assets/audio-basic/hero-jump.wav":{"shortcut":"hero-jump.wav","mp3":"assets/audio-basic/hero-jump.mp3","ogg":"assets/audio-basic/hero-jump.ogg"},"assets/audio-basic/hero-revive.wav":{"shortcut":"hero-revive.wav","mp3":"assets/audio-basic/hero-revive.mp3","ogg":"assets/audio-basic/hero-revive.ogg"},"assets/audio-basic/hero-roll.wav":{"shortcut":"hero-roll.wav","mp3":"assets/audio-basic/hero-roll.mp3","ogg":"assets/audio-basic/hero-roll.ogg"},"assets/audio-basic/hero-stumble.wav":{"shortcut":"hero-stumble.wav","mp3":"assets/audio-basic/hero-stumble.mp3","ogg":"assets/audio-basic/hero-stumble.ogg"},"assets/audio-basic/theme.wav":{"shortcut":"theme.wav","mp3":"assets/audio-basic/theme.mp3","ogg":"assets/audio-basic/theme.ogg"},"assets/audio-basic/unlock.wav":{"shortcut":"unlock.wav","mp3":"assets/audio-basic/unlock.mp3","ogg":"assets/audio-basic/unlock.ogg"}},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/audio-full":{"image":{},"fonts":{},"audio":{"assets/audio-full/hero-sneakers-foot-l.wav":{"shortcut":"hero-sneakers-foot-l.wav","mp3":"assets/audio-full/hero-sneakers-foot-l.mp3","ogg":"assets/audio-full/hero-sneakers-foot-l.ogg"},"assets/audio-full/hero-sneakers-foot-r.wav":{"shortcut":"hero-sneakers-foot-r.wav","mp3":"assets/audio-full/hero-sneakers-foot-r.mp3","ogg":"assets/audio-full/hero-sneakers-foot-r.ogg"},"assets/audio-full/hero-sneakers-jump.wav":{"shortcut":"hero-sneakers-jump.wav","mp3":"assets/audio-full/hero-sneakers-jump.mp3","ogg":"assets/audio-full/hero-sneakers-jump.ogg"},"assets/audio-full/pickup-coin.wav":{"shortcut":"pickup-coin.wav","mp3":"assets/audio-full/pickup-coin.mp3","ogg":"assets/audio-full/pickup-coin.ogg"},"assets/audio-full/pickup-powerdown.wav":{"shortcut":"pickup-powerdown.wav","mp3":"assets/audio-full/pickup-powerdown.mp3","ogg":"assets/audio-full/pickup-powerdown.ogg"},"assets/audio-full/pickup-powerup.wav":{"shortcut":"pickup-powerup.wav","mp3":"assets/audio-full/pickup-powerup.mp3","ogg":"assets/audio-full/pickup-powerup.ogg"},"assets/audio-full/special-jetpack-start.wav":{"shortcut":"special-jetpack-start.wav","mp3":"assets/audio-full/special-jetpack-start.mp3","ogg":"assets/audio-full/special-jetpack-start.ogg"},"assets/audio-full/special-jetpack.wav":{"shortcut":"special-jetpack.wav","mp3":"assets/audio-full/special-jetpack.mp3","ogg":"assets/audio-full/special-jetpack.ogg"},"assets/audio-full/special-magnet.wav":{"shortcut":"special-magnet.wav","mp3":"assets/audio-full/special-magnet.mp3","ogg":"assets/audio-full/special-magnet.ogg"}},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/audio-idle":{"image":{},"fonts":{},"audio":{"assets/audio-idle/gui-coin.wav":{"shortcut":"gui-coin.wav","mp3":"assets/audio-idle/gui-coin.mp3","ogg":"assets/audio-idle/gui-coin.ogg"},"assets/audio-idle/gui-tap.wav":{"shortcut":"gui-tap.wav","mp3":"assets/audio-idle/gui-tap.mp3","ogg":"assets/audio-idle/gui-tap.ogg"},"assets/audio-idle/mission-notification.wav":{"shortcut":"mission-notification.wav","mp3":"assets/audio-idle/mission-notification.mp3","ogg":"assets/audio-idle/mission-notification.ogg"},"assets/audio-idle/open-prize.wav":{"shortcut":"open-prize.wav","mp3":"assets/audio-idle/open-prize.mp3","ogg":"assets/audio-idle/open-prize.ogg"},"assets/audio-idle/ui-button.mp3":{"shortcut":"ui-button.mp3","mp3":"assets/audio-idle/ui-button.mp3","ogg":"assets/audio-idle/ui-button.ogg"}},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/boards":{"image":{"assets/boards/board-bigkahuna-tex.png":{"shortcut":"board-bigkahuna-tex.png","webp":{"high":"assets/boards/board-bigkahuna-tex@2x.webp","default":"assets/boards/board-bigkahuna-tex.webp","low":"assets/boards/board-bigkahuna-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-bigkahuna-tex@2x.png","default":"assets/boards/board-bigkahuna-tex.png","low":"assets/boards/board-bigkahuna-tex@0.5x.png"}},"assets/boards/board-bouncer-tex.png":{"shortcut":"board-bouncer-tex.png","webp":{"high":"assets/boards/board-bouncer-tex@2x.webp","default":"assets/boards/board-bouncer-tex.webp","low":"assets/boards/board-bouncer-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-bouncer-tex@2x.png","default":"assets/boards/board-bouncer-tex.png","low":"assets/boards/board-bouncer-tex@0.5x.png"}},"assets/boards/board-daredevil-tex.png":{"shortcut":"board-daredevil-tex.png","webp":{"high":"assets/boards/board-daredevil-tex@2x.webp","default":"assets/boards/board-daredevil-tex.webp","low":"assets/boards/board-daredevil-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-daredevil-tex@2x.png","default":"assets/boards/board-daredevil-tex.png","low":"assets/boards/board-daredevil-tex@0.5x.png"}},"assets/boards/board-greatwhite-tex.png":{"shortcut":"board-greatwhite-tex.png","webp":{"high":"assets/boards/board-greatwhite-tex@2x.webp","default":"assets/boards/board-greatwhite-tex.webp","low":"assets/boards/board-greatwhite-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-greatwhite-tex@2x.png","default":"assets/boards/board-greatwhite-tex.png","low":"assets/boards/board-greatwhite-tex@0.5x.png"}},"assets/boards/board-hotrod-tex.png":{"shortcut":"board-hotrod-tex.png","webp":{"high":"assets/boards/board-hotrod-tex@2x.webp","default":"assets/boards/board-hotrod-tex.webp","low":"assets/boards/board-hotrod-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-hotrod-tex@2x.png","default":"assets/boards/board-hotrod-tex.png","low":"assets/boards/board-hotrod-tex@0.5x.png"}},"assets/boards/board-hoverboard-tex.png":{"shortcut":"board-hoverboard-tex.png","webp":{"high":"assets/boards/board-hoverboard-tex@2x.webp","default":"assets/boards/board-hoverboard-tex.webp","low":"assets/boards/board-hoverboard-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-hoverboard-tex@2x.png","default":"assets/boards/board-hoverboard-tex.png","low":"assets/boards/board-hoverboard-tex@0.5x.png"}},"assets/boards/board-lowrider-tex.png":{"shortcut":"board-lowrider-tex.png","webp":{"high":"assets/boards/board-lowrider-tex@2x.webp","default":"assets/boards/board-lowrider-tex.webp","low":"assets/boards/board-lowrider-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-lowrider-tex@2x.png","default":"assets/boards/board-lowrider-tex.png","low":"assets/boards/board-lowrider-tex@0.5x.png"}},"assets/boards/board-lumberjack-tex.png":{"shortcut":"board-lumberjack-tex.png","webp":{"high":"assets/boards/board-lumberjack-tex@2x.webp","default":"assets/boards/board-lumberjack-tex.webp","low":"assets/boards/board-lumberjack-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-lumberjack-tex@2x.png","default":"assets/boards/board-lumberjack-tex.png","low":"assets/boards/board-lumberjack-tex@0.5x.png"}},"assets/boards/board-monster-tex.png":{"shortcut":"board-monster-tex.png","webp":{"high":"assets/boards/board-monster-tex@2x.webp","default":"assets/boards/board-monster-tex.webp","low":"assets/boards/board-monster-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-monster-tex@2x.png","default":"assets/boards/board-monster-tex.png","low":"assets/boards/board-monster-tex@0.5x.png"}},"assets/boards/board-scoot-tex.png":{"shortcut":"board-scoot-tex.png","webp":{"high":"assets/boards/board-scoot-tex@2x.webp","default":"assets/boards/board-scoot-tex.webp","low":"assets/boards/board-scoot-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-scoot-tex@2x.png","default":"assets/boards/board-scoot-tex.png","low":"assets/boards/board-scoot-tex@0.5x.png"}},"assets/boards/board-skullfire-tex.png":{"shortcut":"board-skullfire-tex.png","webp":{"high":"assets/boards/board-skullfire-tex@2x.webp","default":"assets/boards/board-skullfire-tex.webp","low":"assets/boards/board-skullfire-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-skullfire-tex@2x.png","default":"assets/boards/board-skullfire-tex.png","low":"assets/boards/board-skullfire-tex@0.5x.png"}},"assets/boards/board-starboard-tex.png":{"shortcut":"board-starboard-tex.png","webp":{"high":"assets/boards/board-starboard-tex@2x.webp","default":"assets/boards/board-starboard-tex.webp","low":"assets/boards/board-starboard-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-starboard-tex@2x.png","default":"assets/boards/board-starboard-tex.png","low":"assets/boards/board-starboard-tex@0.5x.png"}},"assets/boards/board-sunset-tex.png":{"shortcut":"board-sunset-tex.png","webp":{"high":"assets/boards/board-sunset-tex@2x.webp","default":"assets/boards/board-sunset-tex.webp","low":"assets/boards/board-sunset-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-sunset-tex@2x.png","default":"assets/boards/board-sunset-tex.png","low":"assets/boards/board-sunset-tex@0.5x.png"}},"assets/boards/board-superhero-tex.png":{"shortcut":"board-superhero-tex.png","webp":{"high":"assets/boards/board-superhero-tex@2x.webp","default":"assets/boards/board-superhero-tex.webp","low":"assets/boards/board-superhero-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-superhero-tex@2x.png","default":"assets/boards/board-superhero-tex.png","low":"assets/boards/board-superhero-tex@0.5x.png"}},"assets/boards/board-teleporter-tex.png":{"shortcut":"board-teleporter-tex.png","webp":{"high":"assets/boards/board-teleporter-tex@2x.webp","default":"assets/boards/board-teleporter-tex.webp","low":"assets/boards/board-teleporter-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-teleporter-tex@2x.png","default":"assets/boards/board-teleporter-tex.png","low":"assets/boards/board-teleporter-tex@0.5x.png"}},"assets/boards/board-windglider-tex.png":{"shortcut":"board-windglider-tex.png","webp":{"high":"assets/boards/board-windglider-tex@2x.webp","default":"assets/boards/board-windglider-tex.webp","low":"assets/boards/board-windglider-tex@0.5x.webp"},"standard":{"high":"assets/boards/board-windglider-tex@2x.png","default":"assets/boards/board-windglider-tex.png","low":"assets/boards/board-windglider-tex@0.5x.png"}}},"fonts":{},"audio":{},"model":{"assets/boards/board-bigkahuna.fbx":{"shortcut":"board-bigkahuna.fbx","default":"assets/boards/board-bigkahuna.gb"},"assets/boards/board-bouncer.fbx":{"shortcut":"board-bouncer.fbx","default":"assets/boards/board-bouncer.gb"},"assets/boards/board-daredevil.fbx":{"shortcut":"board-daredevil.fbx","default":"assets/boards/board-daredevil.gb"},"assets/boards/board-greatwhite.fbx":{"shortcut":"board-greatwhite.fbx","default":"assets/boards/board-greatwhite.gb"},"assets/boards/board-hotrod.fbx":{"shortcut":"board-hotrod.fbx","default":"assets/boards/board-hotrod.gb"},"assets/boards/board-hoverboard.fbx":{"shortcut":"board-hoverboard.fbx","default":"assets/boards/board-hoverboard.gb"},"assets/boards/board-lowrider.fbx":{"shortcut":"board-lowrider.fbx","default":"assets/boards/board-lowrider.gb"},"assets/boards/board-lumberjack.fbx":{"shortcut":"board-lumberjack.fbx","default":"assets/boards/board-lumberjack.gb"},"assets/boards/board-monster.fbx":{"shortcut":"board-monster.fbx","default":"assets/boards/board-monster.gb"},"assets/boards/board-scoot.fbx":{"shortcut":"board-scoot.fbx","default":"assets/boards/board-scoot.gb"},"assets/boards/board-skullfire.fbx":{"shortcut":"board-skullfire.fbx","default":"assets/boards/board-skullfire.gb"},"assets/boards/board-starboard.fbx":{"shortcut":"board-starboard.fbx","default":"assets/boards/board-starboard.gb"},"assets/boards/board-sunset.fbx":{"shortcut":"board-sunset.fbx","default":"assets/boards/board-sunset.gb"},"assets/boards/board-superhero.fbx":{"shortcut":"board-superhero.fbx","default":"assets/boards/board-superhero.gb"},"assets/boards/board-teleporter.fbx":{"shortcut":"board-teleporter.fbx","default":"assets/boards/board-teleporter.gb"},"assets/boards/board-windglider.fbx":{"shortcut":"board-windglider.fbx","default":"assets/boards/board-windglider.gb"}},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/characters-basic":{"image":{},"fonts":{},"audio":{},"model":{"assets/characters-basic/brody-game.fbx":{"shortcut":"brody-game.fbx","default":"assets/characters-basic/brody-game.gb"},"assets/characters-basic/fresh-game.fbx":{"shortcut":"fresh-game.fbx","default":"assets/characters-basic/fresh-game.gb"},"assets/characters-basic/frizzy-game.fbx":{"shortcut":"frizzy-game.fbx","default":"assets/characters-basic/frizzy-game.gb"},"assets/characters-basic/jake-game.fbx":{"shortcut":"jake-game.fbx","default":"assets/characters-basic/jake-game.gb"},"assets/characters-basic/king-game.fbx":{"shortcut":"king-game.fbx","default":"assets/characters-basic/king-game.gb"},"assets/characters-basic/lucy-game.fbx":{"shortcut":"lucy-game.fbx","default":"assets/characters-basic/lucy-game.gb"},"assets/characters-basic/ninja-game.fbx":{"shortcut":"ninja-game.fbx","default":"assets/characters-basic/ninja-game.gb"},"assets/characters-basic/spike-game.fbx":{"shortcut":"spike-game.fbx","default":"assets/characters-basic/spike-game.gb"},"assets/characters-basic/tagbot-game.fbx":{"shortcut":"tagbot-game.fbx","default":"assets/characters-basic/tagbot-game.gb"},"assets/characters-basic/tasha-game.fbx":{"shortcut":"tasha-game.fbx","default":"assets/characters-basic/tasha-game.gb"},"assets/characters-basic/tricky-game.fbx":{"shortcut":"tricky-game.fbx","default":"assets/characters-basic/tricky-game.gb"},"assets/characters-basic/yutani-game.fbx":{"shortcut":"yutani-game.fbx","default":"assets/characters-basic/yutani-game.gb"}},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/characters-idle":{"image":{"assets/characters-idle/brody-tex-1.png":{"shortcut":"brody-tex-1.png","webp":{"high":"assets/characters-idle/brody-tex-1@2x.webp","default":"assets/characters-idle/brody-tex-1.webp","low":"assets/characters-idle/brody-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/brody-tex-1@2x.png","default":"assets/characters-idle/brody-tex-1.png","low":"assets/characters-idle/brody-tex-1@0.5x.png"}},"assets/characters-idle/brody-tex-2.png":{"shortcut":"brody-tex-2.png","webp":{"high":"assets/characters-idle/brody-tex-2@2x.webp","default":"assets/characters-idle/brody-tex-2.webp","low":"assets/characters-idle/brody-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/brody-tex-2@2x.png","default":"assets/characters-idle/brody-tex-2.png","low":"assets/characters-idle/brody-tex-2@0.5x.png"}},"assets/characters-idle/brody-tex.png":{"shortcut":"brody-tex.png","webp":{"high":"assets/characters-idle/brody-tex@2x.webp","default":"assets/characters-idle/brody-tex.webp","low":"assets/characters-idle/brody-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/brody-tex@2x.png","default":"assets/characters-idle/brody-tex.png","low":"assets/characters-idle/brody-tex@0.5x.png"}},"assets/characters-idle/fresh-tex-1.png":{"shortcut":"fresh-tex-1.png","webp":{"high":"assets/characters-idle/fresh-tex-1@2x.webp","default":"assets/characters-idle/fresh-tex-1.webp","low":"assets/characters-idle/fresh-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/fresh-tex-1@2x.png","default":"assets/characters-idle/fresh-tex-1.png","low":"assets/characters-idle/fresh-tex-1@0.5x.png"}},"assets/characters-idle/fresh-tex-2.png":{"shortcut":"fresh-tex-2.png","webp":{"high":"assets/characters-idle/fresh-tex-2@2x.webp","default":"assets/characters-idle/fresh-tex-2.webp","low":"assets/characters-idle/fresh-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/fresh-tex-2@2x.png","default":"assets/characters-idle/fresh-tex-2.png","low":"assets/characters-idle/fresh-tex-2@0.5x.png"}},"assets/characters-idle/fresh-tex.png":{"shortcut":"fresh-tex.png","webp":{"high":"assets/characters-idle/fresh-tex@2x.webp","default":"assets/characters-idle/fresh-tex.webp","low":"assets/characters-idle/fresh-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/fresh-tex@2x.png","default":"assets/characters-idle/fresh-tex.png","low":"assets/characters-idle/fresh-tex@0.5x.png"}},"assets/characters-idle/frizzy-tex-1.png":{"shortcut":"frizzy-tex-1.png","webp":{"high":"assets/characters-idle/frizzy-tex-1@2x.webp","default":"assets/characters-idle/frizzy-tex-1.webp","low":"assets/characters-idle/frizzy-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/frizzy-tex-1@2x.png","default":"assets/characters-idle/frizzy-tex-1.png","low":"assets/characters-idle/frizzy-tex-1@0.5x.png"}},"assets/characters-idle/frizzy-tex-2.png":{"shortcut":"frizzy-tex-2.png","webp":{"high":"assets/characters-idle/frizzy-tex-2@2x.webp","default":"assets/characters-idle/frizzy-tex-2.webp","low":"assets/characters-idle/frizzy-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/frizzy-tex-2@2x.png","default":"assets/characters-idle/frizzy-tex-2.png","low":"assets/characters-idle/frizzy-tex-2@0.5x.png"}},"assets/characters-idle/frizzy-tex.png":{"shortcut":"frizzy-tex.png","webp":{"high":"assets/characters-idle/frizzy-tex@2x.webp","default":"assets/characters-idle/frizzy-tex.webp","low":"assets/characters-idle/frizzy-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/frizzy-tex@2x.png","default":"assets/characters-idle/frizzy-tex.png","low":"assets/characters-idle/frizzy-tex@0.5x.png"}},"assets/characters-idle/jake-tex-1.png":{"shortcut":"jake-tex-1.png","webp":{"high":"assets/characters-idle/jake-tex-1@2x.webp","default":"assets/characters-idle/jake-tex-1.webp","low":"assets/characters-idle/jake-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/jake-tex-1@2x.png","default":"assets/characters-idle/jake-tex-1.png","low":"assets/characters-idle/jake-tex-1@0.5x.png"}},"assets/characters-idle/jake-tex-2.png":{"shortcut":"jake-tex-2.png","webp":{"high":"assets/characters-idle/jake-tex-2@2x.webp","default":"assets/characters-idle/jake-tex-2.webp","low":"assets/characters-idle/jake-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/jake-tex-2@2x.png","default":"assets/characters-idle/jake-tex-2.png","low":"assets/characters-idle/jake-tex-2@0.5x.png"}},"assets/characters-idle/jake-tex.png":{"shortcut":"jake-tex.png","webp":{"high":"assets/characters-idle/jake-tex@2x.webp","default":"assets/characters-idle/jake-tex.webp","low":"assets/characters-idle/jake-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/jake-tex@2x.png","default":"assets/characters-idle/jake-tex.png","low":"assets/characters-idle/jake-tex@0.5x.png"}},"assets/characters-idle/king-tex-1.png":{"shortcut":"king-tex-1.png","webp":{"high":"assets/characters-idle/king-tex-1@2x.webp","default":"assets/characters-idle/king-tex-1.webp","low":"assets/characters-idle/king-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/king-tex-1@2x.png","default":"assets/characters-idle/king-tex-1.png","low":"assets/characters-idle/king-tex-1@0.5x.png"}},"assets/characters-idle/king-tex-2.png":{"shortcut":"king-tex-2.png","webp":{"high":"assets/characters-idle/king-tex-2@2x.webp","default":"assets/characters-idle/king-tex-2.webp","low":"assets/characters-idle/king-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/king-tex-2@2x.png","default":"assets/characters-idle/king-tex-2.png","low":"assets/characters-idle/king-tex-2@0.5x.png"}},"assets/characters-idle/king-tex.png":{"shortcut":"king-tex.png","webp":{"high":"assets/characters-idle/king-tex@2x.webp","default":"assets/characters-idle/king-tex.webp","low":"assets/characters-idle/king-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/king-tex@2x.png","default":"assets/characters-idle/king-tex.png","low":"assets/characters-idle/king-tex@0.5x.png"}},"assets/characters-idle/lucy-tex-1.png":{"shortcut":"lucy-tex-1.png","webp":{"high":"assets/characters-idle/lucy-tex-1@2x.webp","default":"assets/characters-idle/lucy-tex-1.webp","low":"assets/characters-idle/lucy-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/lucy-tex-1@2x.png","default":"assets/characters-idle/lucy-tex-1.png","low":"assets/characters-idle/lucy-tex-1@0.5x.png"}},"assets/characters-idle/lucy-tex-2.png":{"shortcut":"lucy-tex-2.png","webp":{"high":"assets/characters-idle/lucy-tex-2@2x.webp","default":"assets/characters-idle/lucy-tex-2.webp","low":"assets/characters-idle/lucy-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/lucy-tex-2@2x.png","default":"assets/characters-idle/lucy-tex-2.png","low":"assets/characters-idle/lucy-tex-2@0.5x.png"}},"assets/characters-idle/lucy-tex.png":{"shortcut":"lucy-tex.png","webp":{"high":"assets/characters-idle/lucy-tex@2x.webp","default":"assets/characters-idle/lucy-tex.webp","low":"assets/characters-idle/lucy-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/lucy-tex@2x.png","default":"assets/characters-idle/lucy-tex.png","low":"assets/characters-idle/lucy-tex@0.5x.png"}},"assets/characters-idle/ninja-tex-1.png":{"shortcut":"ninja-tex-1.png","webp":{"high":"assets/characters-idle/ninja-tex-1@2x.webp","default":"assets/characters-idle/ninja-tex-1.webp","low":"assets/characters-idle/ninja-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/ninja-tex-1@2x.png","default":"assets/characters-idle/ninja-tex-1.png","low":"assets/characters-idle/ninja-tex-1@0.5x.png"}},"assets/characters-idle/ninja-tex-2.png":{"shortcut":"ninja-tex-2.png","webp":{"high":"assets/characters-idle/ninja-tex-2@2x.webp","default":"assets/characters-idle/ninja-tex-2.webp","low":"assets/characters-idle/ninja-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/ninja-tex-2@2x.png","default":"assets/characters-idle/ninja-tex-2.png","low":"assets/characters-idle/ninja-tex-2@0.5x.png"}},"assets/characters-idle/ninja-tex.png":{"shortcut":"ninja-tex.png","webp":{"high":"assets/characters-idle/ninja-tex@2x.webp","default":"assets/characters-idle/ninja-tex.webp","low":"assets/characters-idle/ninja-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/ninja-tex@2x.png","default":"assets/characters-idle/ninja-tex.png","low":"assets/characters-idle/ninja-tex@0.5x.png"}},"assets/characters-idle/spike-tex-1.png":{"shortcut":"spike-tex-1.png","webp":{"high":"assets/characters-idle/spike-tex-1@2x.webp","default":"assets/characters-idle/spike-tex-1.webp","low":"assets/characters-idle/spike-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/spike-tex-1@2x.png","default":"assets/characters-idle/spike-tex-1.png","low":"assets/characters-idle/spike-tex-1@0.5x.png"}},"assets/characters-idle/spike-tex-2.png":{"shortcut":"spike-tex-2.png","webp":{"high":"assets/characters-idle/spike-tex-2@2x.webp","default":"assets/characters-idle/spike-tex-2.webp","low":"assets/characters-idle/spike-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/spike-tex-2@2x.png","default":"assets/characters-idle/spike-tex-2.png","low":"assets/characters-idle/spike-tex-2@0.5x.png"}},"assets/characters-idle/spike-tex.png":{"shortcut":"spike-tex.png","webp":{"high":"assets/characters-idle/spike-tex@2x.webp","default":"assets/characters-idle/spike-tex.webp","low":"assets/characters-idle/spike-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/spike-tex@2x.png","default":"assets/characters-idle/spike-tex.png","low":"assets/characters-idle/spike-tex@0.5x.png"}},"assets/characters-idle/tagbot-tex-1.png":{"shortcut":"tagbot-tex-1.png","webp":{"high":"assets/characters-idle/tagbot-tex-1@2x.webp","default":"assets/characters-idle/tagbot-tex-1.webp","low":"assets/characters-idle/tagbot-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/tagbot-tex-1@2x.png","default":"assets/characters-idle/tagbot-tex-1.png","low":"assets/characters-idle/tagbot-tex-1@0.5x.png"}},"assets/characters-idle/tagbot-tex-2.png":{"shortcut":"tagbot-tex-2.png","webp":{"high":"assets/characters-idle/tagbot-tex-2@2x.webp","default":"assets/characters-idle/tagbot-tex-2.webp","low":"assets/characters-idle/tagbot-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/tagbot-tex-2@2x.png","default":"assets/characters-idle/tagbot-tex-2.png","low":"assets/characters-idle/tagbot-tex-2@0.5x.png"}},"assets/characters-idle/tagbot-tex.png":{"shortcut":"tagbot-tex.png","webp":{"high":"assets/characters-idle/tagbot-tex@2x.webp","default":"assets/characters-idle/tagbot-tex.webp","low":"assets/characters-idle/tagbot-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/tagbot-tex@2x.png","default":"assets/characters-idle/tagbot-tex.png","low":"assets/characters-idle/tagbot-tex@0.5x.png"}},"assets/characters-idle/tasha-tex-1.png":{"shortcut":"tasha-tex-1.png","webp":{"high":"assets/characters-idle/tasha-tex-1@2x.webp","default":"assets/characters-idle/tasha-tex-1.webp","low":"assets/characters-idle/tasha-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/tasha-tex-1@2x.png","default":"assets/characters-idle/tasha-tex-1.png","low":"assets/characters-idle/tasha-tex-1@0.5x.png"}},"assets/characters-idle/tasha-tex-2.png":{"shortcut":"tasha-tex-2.png","webp":{"high":"assets/characters-idle/tasha-tex-2@2x.webp","default":"assets/characters-idle/tasha-tex-2.webp","low":"assets/characters-idle/tasha-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/tasha-tex-2@2x.png","default":"assets/characters-idle/tasha-tex-2.png","low":"assets/characters-idle/tasha-tex-2@0.5x.png"}},"assets/characters-idle/tasha-tex.png":{"shortcut":"tasha-tex.png","webp":{"high":"assets/characters-idle/tasha-tex@2x.webp","default":"assets/characters-idle/tasha-tex.webp","low":"assets/characters-idle/tasha-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/tasha-tex@2x.png","default":"assets/characters-idle/tasha-tex.png","low":"assets/characters-idle/tasha-tex@0.5x.png"}},"assets/characters-idle/tricky-tex-1.png":{"shortcut":"tricky-tex-1.png","webp":{"high":"assets/characters-idle/tricky-tex-1@2x.webp","default":"assets/characters-idle/tricky-tex-1.webp","low":"assets/characters-idle/tricky-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/tricky-tex-1@2x.png","default":"assets/characters-idle/tricky-tex-1.png","low":"assets/characters-idle/tricky-tex-1@0.5x.png"}},"assets/characters-idle/tricky-tex-2.png":{"shortcut":"tricky-tex-2.png","webp":{"high":"assets/characters-idle/tricky-tex-2@2x.webp","default":"assets/characters-idle/tricky-tex-2.webp","low":"assets/characters-idle/tricky-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/tricky-tex-2@2x.png","default":"assets/characters-idle/tricky-tex-2.png","low":"assets/characters-idle/tricky-tex-2@0.5x.png"}},"assets/characters-idle/tricky-tex.png":{"shortcut":"tricky-tex.png","webp":{"high":"assets/characters-idle/tricky-tex@2x.webp","default":"assets/characters-idle/tricky-tex.webp","low":"assets/characters-idle/tricky-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/tricky-tex@2x.png","default":"assets/characters-idle/tricky-tex.png","low":"assets/characters-idle/tricky-tex@0.5x.png"}},"assets/characters-idle/yutani-tex-1.png":{"shortcut":"yutani-tex-1.png","webp":{"high":"assets/characters-idle/yutani-tex-1@2x.webp","default":"assets/characters-idle/yutani-tex-1.webp","low":"assets/characters-idle/yutani-tex-1@0.5x.webp"},"standard":{"high":"assets/characters-idle/yutani-tex-1@2x.png","default":"assets/characters-idle/yutani-tex-1.png","low":"assets/characters-idle/yutani-tex-1@0.5x.png"}},"assets/characters-idle/yutani-tex-2.png":{"shortcut":"yutani-tex-2.png","webp":{"high":"assets/characters-idle/yutani-tex-2@2x.webp","default":"assets/characters-idle/yutani-tex-2.webp","low":"assets/characters-idle/yutani-tex-2@0.5x.webp"},"standard":{"high":"assets/characters-idle/yutani-tex-2@2x.png","default":"assets/characters-idle/yutani-tex-2.png","low":"assets/characters-idle/yutani-tex-2@0.5x.png"}},"assets/characters-idle/yutani-tex.png":{"shortcut":"yutani-tex.png","webp":{"high":"assets/characters-idle/yutani-tex@2x.webp","default":"assets/characters-idle/yutani-tex.webp","low":"assets/characters-idle/yutani-tex@0.5x.webp"},"standard":{"high":"assets/characters-idle/yutani-tex@2x.png","default":"assets/characters-idle/yutani-tex.png","low":"assets/characters-idle/yutani-tex@0.5x.png"}}},"fonts":{},"audio":{},"model":{"assets/characters-idle/brody-idle.fbx":{"shortcut":"brody-idle.fbx","default":"assets/characters-idle/brody-idle.gb"},"assets/characters-idle/fresh-idle.fbx":{"shortcut":"fresh-idle.fbx","default":"assets/characters-idle/fresh-idle.gb"},"assets/characters-idle/frizzy-idle.fbx":{"shortcut":"frizzy-idle.fbx","default":"assets/characters-idle/frizzy-idle.gb"},"assets/characters-idle/jake-idle.fbx":{"shortcut":"jake-idle.fbx","default":"assets/characters-idle/jake-idle.gb"},"assets/characters-idle/king-idle.fbx":{"shortcut":"king-idle.fbx","default":"assets/characters-idle/king-idle.gb"},"assets/characters-idle/lucy-idle.fbx":{"shortcut":"lucy-idle.fbx","default":"assets/characters-idle/lucy-idle.gb"},"assets/characters-idle/ninja-idle.fbx":{"shortcut":"ninja-idle.fbx","default":"assets/characters-idle/ninja-idle.gb"},"assets/characters-idle/spike-idle.fbx":{"shortcut":"spike-idle.fbx","default":"assets/characters-idle/spike-idle.gb"},"assets/characters-idle/tagbot-idle.fbx":{"shortcut":"tagbot-idle.fbx","default":"assets/characters-idle/tagbot-idle.gb"},"assets/characters-idle/tasha-idle.fbx":{"shortcut":"tasha-idle.fbx","default":"assets/characters-idle/tasha-idle.gb"},"assets/characters-idle/tricky-idle.fbx":{"shortcut":"tricky-idle.fbx","default":"assets/characters-idle/tricky-idle.gb"},"assets/characters-idle/yutani-idle.fbx":{"shortcut":"yutani-idle.fbx","default":"assets/characters-idle/yutani-idle.gb"}},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/data":{"image":{},"fonts":{},"audio":{},"model":{},"json":{"assets/data/awards.json":{"shortcut":"awards.json","default":"assets/data/awards.json"},"assets/data/lang-en.json":{"shortcut":"lang-en.json","default":"assets/data/lang-en.json"},"assets/data/lang-pt-br.json":{"shortcut":"lang-pt-br.json","default":"assets/data/lang-pt-br.json"}},"atlas":{},"animate":{},"misc":{}},"assets/data/chunks-basic":{"image":{},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{"assets/data/chunks-basic":{"shortcut":"chunks-basic","tags":{"manifest":true},"default":"assets/data/chunks-basic.json"}}},"assets/data/chunks-full":{"image":{},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{"assets/data/chunks-full":{"shortcut":"chunks-full","tags":{"manifest":true},"default":"assets/data/chunks-full.json"}}},"assets/data/chunks-idle":{"image":{},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{"assets/data/chunks-idle":{"shortcut":"chunks-idle","tags":{"manifest":true},"default":"assets/data/chunks-idle.json"}}},"assets/font":{"image":{},"fonts":{"assets/font/lilita-one":{"shortcut":"lilita-one","woff2":"assets/font/lilita-one.woff2","woff":"assets/font/lilita-one.woff","css":"fonts/lilita-one-fonts.css"},"assets/font/stencilia":{"shortcut":"stencilia","woff2":"assets/font/stencilia.woff2","woff":"assets/font/stencilia.woff","css":"fonts/stencilia-fonts.css"},"assets/font/titan-one":{"shortcut":"titan-one","woff2":"assets/font/titan-one.woff2","woff":"assets/font/titan-one.woff","css":"fonts/titan-one-fonts.css"}},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/game-basic":{"image":{"assets/game-basic/default-particle.png":{"shortcut":"default-particle.png","webp":{"high":"assets/game-basic/default-particle@2x.webp","default":"assets/game-basic/default-particle.webp","low":"assets/game-basic/default-particle@0.5x.webp"},"standard":{"high":"assets/game-basic/default-particle@2x.png","default":"assets/game-basic/default-particle.png","low":"assets/game-basic/default-particle@0.5x.png"}},"assets/game-basic/effects-tex.png":{"shortcut":"effects-tex.png","webp":{"high":"assets/game-basic/effects-tex@2x.webp","default":"assets/game-basic/effects-tex.webp","low":"assets/game-basic/effects-tex@0.5x.webp"},"standard":{"high":"assets/game-basic/effects-tex@2x.png","default":"assets/game-basic/effects-tex.png","low":"assets/game-basic/effects-tex@0.5x.png"}},"assets/game-basic/enemies.png":{"shortcut":"enemies.png","webp":{"high":"assets/game-basic/enemies@2x.webp","default":"assets/game-basic/enemies.webp","low":"assets/game-basic/enemies@0.5x.webp"},"standard":{"high":"assets/game-basic/enemies@2x.png","default":"assets/game-basic/enemies.png","low":"assets/game-basic/enemies@0.5x.png"}},"assets/game-basic/fire.png":{"shortcut":"fire.png","webp":{"high":"assets/game-basic/fire@2x.webp","default":"assets/game-basic/fire.webp","low":"assets/game-basic/fire@0.5x.webp"},"standard":{"high":"assets/game-basic/fire@2x.png","default":"assets/game-basic/fire.png","low":"assets/game-basic/fire@0.5x.png"}},"assets/game-basic/firefly.png":{"shortcut":"firefly.png","webp":{"high":"assets/game-basic/firefly@2x.webp","default":"assets/game-basic/firefly.webp","low":"assets/game-basic/firefly@0.5x.webp"},"standard":{"high":"assets/game-basic/firefly@2x.png","default":"assets/game-basic/firefly.png","low":"assets/game-basic/firefly@0.5x.png"}},"assets/game-basic/halo.png":{"shortcut":"halo.png","webp":{"high":"assets/game-basic/halo@2x.webp","default":"assets/game-basic/halo.webp","low":"assets/game-basic/halo@0.5x.webp"},"standard":{"high":"assets/game-basic/halo@2x.png","default":"assets/game-basic/halo.png","low":"assets/game-basic/halo@0.5x.png"}},"assets/game-basic/jetpack-smoke.png":{"shortcut":"jetpack-smoke.png","webp":{"high":"assets/game-basic/jetpack-smoke@2x.webp","default":"assets/game-basic/jetpack-smoke.webp","low":"assets/game-basic/jetpack-smoke@0.5x.webp"},"standard":{"high":"assets/game-basic/jetpack-smoke@2x.png","default":"assets/game-basic/jetpack-smoke.png","low":"assets/game-basic/jetpack-smoke@0.5x.png"}},"assets/game-basic/reflection.png":{"shortcut":"reflection.png","webp":{"high":"assets/game-basic/reflection@2x.webp","default":"assets/game-basic/reflection.webp","low":"assets/game-basic/reflection@0.5x.webp"},"standard":{"high":"assets/game-basic/reflection@2x.png","default":"assets/game-basic/reflection.png","low":"assets/game-basic/reflection@0.5x.png"}},"assets/game-basic/shadow.png":{"shortcut":"shadow.png","webp":{"high":"assets/game-basic/shadow@2x.webp","default":"assets/game-basic/shadow.webp","low":"assets/game-basic/shadow@0.5x.webp"},"standard":{"high":"assets/game-basic/shadow@2x.png","default":"assets/game-basic/shadow.png","low":"assets/game-basic/shadow@0.5x.png"}},"assets/game-basic/skybox.png":{"shortcut":"skybox.png","webp":{"high":"assets/game-basic/skybox@2x.webp","default":"assets/game-basic/skybox.webp","low":"assets/game-basic/skybox@0.5x.webp"},"standard":{"high":"assets/game-basic/skybox@2x.png","default":"assets/game-basic/skybox.png","low":"assets/game-basic/skybox@0.5x.png"}},"assets/game-basic/spark.png":{"shortcut":"spark.png","webp":{"high":"assets/game-basic/spark@2x.webp","default":"assets/game-basic/spark.webp","low":"assets/game-basic/spark@0.5x.webp"},"standard":{"high":"assets/game-basic/spark@2x.png","default":"assets/game-basic/spark.png","low":"assets/game-basic/spark@0.5x.png"}},"assets/game-basic/spray-splash.png":{"shortcut":"spray-splash.png","webp":{"high":"assets/game-basic/spray-splash@2x.webp","default":"assets/game-basic/spray-splash.webp","low":"assets/game-basic/spray-splash@0.5x.webp"},"standard":{"high":"assets/game-basic/spray-splash@2x.png","default":"assets/game-basic/spray-splash.png","low":"assets/game-basic/spray-splash@0.5x.png"}}},"fonts":{},"audio":{},"model":{"assets/game-basic/environment-basic.fbx":{"shortcut":"environment-basic.fbx","default":"assets/game-basic/environment-basic.gb"},"assets/game-basic/model-dog-catch.fbx":{"shortcut":"model-dog-catch.fbx","default":"assets/game-basic/model-dog-catch.gb"},"assets/game-basic/model-dog-movement.fbx":{"shortcut":"model-dog-movement.fbx","default":"assets/game-basic/model-dog-movement.gb"},"assets/game-basic/model-guard-catch.fbx":{"shortcut":"model-guard-catch.fbx","default":"assets/game-basic/model-guard-catch.gb"},"assets/game-basic/model-guard-movement.fbx":{"shortcut":"model-guard-movement.fbx","default":"assets/game-basic/model-guard-movement.gb"},"assets/game-basic/trains-basic.fbx":{"shortcut":"trains-basic.fbx","default":"assets/game-basic/trains-basic.gb"}},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/game-full":{"image":{},"fonts":{},"audio":{},"model":{"assets/game-full/environment-full.fbx":{"shortcut":"environment-full.fbx","default":"assets/game-full/environment-full.gb"},"assets/game-full/mineCart1.fbx":{"shortcut":"mineCart1.fbx","default":"assets/game-full/mineCart1.gb"},"assets/game-full/mineCart2.fbx":{"shortcut":"mineCart2.fbx","default":"assets/game-full/mineCart2.gb"},"assets/game-full/props-extra.fbx":{"shortcut":"props-extra.fbx","default":"assets/game-full/props-extra.gb"},"assets/game-full/props.fbx":{"shortcut":"props.fbx","default":"assets/game-full/props.gb"},"assets/game-full/trains-full.fbx":{"shortcut":"trains-full.fbx","default":"assets/game-full/trains-full.gb"}},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/game-idle":{"image":{"assets/game-idle/environment-tex.png":{"shortcut":"environment-tex.png","webp":{"high":"assets/game-idle/environment-tex@2x.webp","default":"assets/game-idle/environment-tex.webp","low":"assets/game-idle/environment-tex@0.5x.webp"},"standard":{"high":"assets/game-idle/environment-tex@2x.png","default":"assets/game-idle/environment-tex.png","low":"assets/game-idle/environment-tex@0.5x.png"}},"assets/game-idle/props-tex.png":{"shortcut":"props-tex.png","webp":{"high":"assets/game-idle/props-tex@2x.webp","default":"assets/game-idle/props-tex.webp","low":"assets/game-idle/props-tex@0.5x.webp"},"standard":{"high":"assets/game-idle/props-tex@2x.png","default":"assets/game-idle/props-tex.png","low":"assets/game-idle/props-tex@0.5x.png"}},"assets/game-idle/train-start.png":{"shortcut":"train-start.png","webp":{"high":"assets/game-idle/train-start@2x.webp","default":"assets/game-idle/train-start.webp","low":"assets/game-idle/train-start@0.5x.webp"},"standard":{"high":"assets/game-idle/train-start@2x.png","default":"assets/game-idle/train-start.png","low":"assets/game-idle/train-start@0.5x.png"}},"assets/game-idle/train_start.png":{"shortcut":"train_start.png","webp":{"high":"assets/game-idle/train_start@2x.webp","default":"assets/game-idle/train_start.webp","low":"assets/game-idle/train_start@0.5x.webp"},"standard":{"high":"assets/game-idle/train_start@2x.png","default":"assets/game-idle/train_start.png","low":"assets/game-idle/train_start@0.5x.png"}},"assets/game-idle/trains-tex.png":{"shortcut":"trains-tex.png","webp":{"high":"assets/game-idle/trains-tex@2x.webp","default":"assets/game-idle/trains-tex.webp","low":"assets/game-idle/trains-tex@0.5x.webp"},"standard":{"high":"assets/game-idle/trains-tex@2x.png","default":"assets/game-idle/trains-tex.png","low":"assets/game-idle/trains-tex@0.5x.png"}}},"fonts":{},"audio":{},"model":{"assets/game-idle/environment-idle.fbx":{"shortcut":"environment-idle.fbx","default":"assets/game-idle/environment-idle.gb"},"assets/game-idle/mystery-box.fbx":{"shortcut":"mystery-box.fbx","default":"assets/game-idle/mystery-box.gb"},"assets/game-idle/props-start.fbx":{"shortcut":"props-start.fbx","default":"assets/game-idle/props-start.gb"},"assets/game-idle/trains-idle.fbx":{"shortcut":"trains-idle.fbx","default":"assets/game-idle/trains-idle.gb"}},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/images":{"image":{"assets/images/box-base.png":{"shortcut":"box-base.png","webp":{"high":"assets/images/box-base@2x.webp","default":"assets/images/box-base.webp","low":"assets/images/box-base@0.5x.webp"},"standard":{"high":"assets/images/box-base@2x.png","default":"assets/images/box-base.png","low":"assets/images/box-base@0.5x.png"}},"assets/images/icon-00-brody.png":{"shortcut":"icon-00-brody.png","webp":{"high":"assets/images/icon-00-brody@2x.webp","default":"assets/images/icon-00-brody.webp","low":"assets/images/icon-00-brody@0.5x.webp"},"standard":{"high":"assets/images/icon-00-brody@2x.png","default":"assets/images/icon-00-brody.png","low":"assets/images/icon-00-brody@0.5x.png"}},"assets/images/icon-01-tagbot.png":{"shortcut":"icon-01-tagbot.png","webp":{"high":"assets/images/icon-01-tagbot@2x.webp","default":"assets/images/icon-01-tagbot.webp","low":"assets/images/icon-01-tagbot@0.5x.webp"},"standard":{"high":"assets/images/icon-01-tagbot@2x.png","default":"assets/images/icon-01-tagbot.png","low":"assets/images/icon-01-tagbot@0.5x.png"}},"assets/images/icon-02-tasha.png":{"shortcut":"icon-02-tasha.png","webp":{"high":"assets/images/icon-02-tasha@2x.webp","default":"assets/images/icon-02-tasha.webp","low":"assets/images/icon-02-tasha@0.5x.webp"},"standard":{"high":"assets/images/icon-02-tasha@2x.png","default":"assets/images/icon-02-tasha.png","low":"assets/images/icon-02-tasha@0.5x.png"}},"assets/images/icon-03-ninja.png":{"shortcut":"icon-03-ninja.png","webp":{"high":"assets/images/icon-03-ninja@2x.webp","default":"assets/images/icon-03-ninja.webp","low":"assets/images/icon-03-ninja@0.5x.webp"},"standard":{"high":"assets/images/icon-03-ninja@2x.png","default":"assets/images/icon-03-ninja.png","low":"assets/images/icon-03-ninja@0.5x.png"}},"assets/images/icon-04-lucy.png":{"shortcut":"icon-04-lucy.png","webp":{"high":"assets/images/icon-04-lucy@2x.webp","default":"assets/images/icon-04-lucy.webp","low":"assets/images/icon-04-lucy@0.5x.webp"},"standard":{"high":"assets/images/icon-04-lucy@2x.png","default":"assets/images/icon-04-lucy.png","low":"assets/images/icon-04-lucy@0.5x.png"}},"assets/images/icon-05-king.png":{"shortcut":"icon-05-king.png","webp":{"high":"assets/images/icon-05-king@2x.webp","default":"assets/images/icon-05-king.webp","low":"assets/images/icon-05-king@0.5x.webp"},"standard":{"high":"assets/images/icon-05-king@2x.png","default":"assets/images/icon-05-king.png","low":"assets/images/icon-05-king@0.5x.png"}},"assets/images/icon-06-frizzy.png":{"shortcut":"icon-06-frizzy.png","webp":{"high":"assets/images/icon-06-frizzy@2x.webp","default":"assets/images/icon-06-frizzy.webp","low":"assets/images/icon-06-frizzy@0.5x.webp"},"standard":{"high":"assets/images/icon-06-frizzy@2x.png","default":"assets/images/icon-06-frizzy.png","low":"assets/images/icon-06-frizzy@0.5x.png"}},"assets/images/icon-07-yutani.png":{"shortcut":"icon-07-yutani.png","webp":{"high":"assets/images/icon-07-yutani@2x.webp","default":"assets/images/icon-07-yutani.webp","low":"assets/images/icon-07-yutani@0.5x.webp"},"standard":{"high":"assets/images/icon-07-yutani@2x.png","default":"assets/images/icon-07-yutani.png","low":"assets/images/icon-07-yutani@0.5x.png"}},"assets/images/icon-08-spike.png":{"shortcut":"icon-08-spike.png","webp":{"high":"assets/images/icon-08-spike@2x.webp","default":"assets/images/icon-08-spike.webp","low":"assets/images/icon-08-spike@0.5x.webp"},"standard":{"high":"assets/images/icon-08-spike@2x.png","default":"assets/images/icon-08-spike.png","low":"assets/images/icon-08-spike@0.5x.png"}},"assets/images/icon-09-fresh.png":{"shortcut":"icon-09-fresh.png","webp":{"high":"assets/images/icon-09-fresh@2x.webp","default":"assets/images/icon-09-fresh.webp","low":"assets/images/icon-09-fresh@0.5x.webp"},"standard":{"high":"assets/images/icon-09-fresh@2x.png","default":"assets/images/icon-09-fresh.png","low":"assets/images/icon-09-fresh@0.5x.png"}},"assets/images/icon-10-jake.png":{"shortcut":"icon-10-jake.png","webp":{"high":"assets/images/icon-10-jake@2x.webp","default":"assets/images/icon-10-jake.webp","low":"assets/images/icon-10-jake@0.5x.webp"},"standard":{"high":"assets/images/icon-10-jake@2x.png","default":"assets/images/icon-10-jake.png","low":"assets/images/icon-10-jake@0.5x.png"}},"assets/images/icon-11-tricky.png":{"shortcut":"icon-11-tricky.png","webp":{"high":"assets/images/icon-11-tricky@2x.webp","default":"assets/images/icon-11-tricky.webp","low":"assets/images/icon-11-tricky@0.5x.webp"},"standard":{"high":"assets/images/icon-11-tricky@2x.png","default":"assets/images/icon-11-tricky.png","low":"assets/images/icon-11-tricky@0.5x.png"}},"assets/images/icon-friend.png":{"shortcut":"icon-friend.png","webp":{"high":"assets/images/icon-friend@2x.webp","default":"assets/images/icon-friend.webp","low":"assets/images/icon-friend@0.5x.webp"},"standard":{"high":"assets/images/icon-friend@2x.png","default":"assets/images/icon-friend.png","low":"assets/images/icon-friend@0.5x.png"}},"assets/images/jake.png":{"shortcut":"jake.png","webp":{"high":"assets/images/jake@2x.webp","default":"assets/images/jake.webp","low":"assets/images/jake@0.5x.webp"},"standard":{"high":"assets/images/jake@2x.png","default":"assets/images/jake.png","low":"assets/images/jake@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/preload":{"image":{"assets/preload/splash.png":{"shortcut":"splash.png","webp":{"high":"assets/preload/splash@2x.webp","default":"assets/preload/splash.webp","low":"assets/preload/splash@0.5x.webp"},"standard":{"high":"assets/preload/splash@2x.png","default":"assets/preload/splash.png","low":"assets/preload/splash@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/ui":{"image":{"ui":{"tags":{"fix":true,"tps":true,"manifest":true},"standard":{"default":"assets/ui/ui.json"},"webp":{"default":"assets/ui/ui.webp.json"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}}}')}]);
